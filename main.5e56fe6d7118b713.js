"use strict";(self.webpackChunkmeditation_chaining=self.webpackChunkmeditation_chaining||[]).push([[179],{2011:(st,Ce,P)=>{P.d(Ce,{Dh:()=>pe,GT:()=>ee,cc:()=>Te,hO:()=>Ue,on:()=>j,pX:()=>ae,xv:()=>me});var c=P(4650),V=P(9260),G=P(2122);st=P.hmd(st);const ce=["ngOnDestroy"],ae=(xe,Ie,Me,Ne={})=>new Proxy(xe,{get:(ke,Ae)=>Me.runOutsideAngular(()=>{var He;if(xe[Ae])return!(null===(He=Ne?.spy)||void 0===He)&&He.get&&Ne.spy.get(Ae,xe[Ae]),xe[Ae];if(ce.indexOf(Ae)>-1)return()=>{};const J=Ie.toPromise().then(ue=>{const we=ue&&ue[Ae];return"function"==typeof we?we.bind(ue):we&&we.then?we.then(Y=>Me.run(()=>Y)):Me.run(()=>we)});return new Proxy(()=>{},{get:(ue,we)=>J[we],apply:(ue,we,Y)=>J.then(X=>{var de;const se=X&&X(...Y);return!(null===(de=Ne?.spy)||void 0===de)&&de.apply&&Ne.spy.apply(Ae,Y,se),se})})})}),ee=(xe,Ie)=>{Ie.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(Ne=>{Object.defineProperty(xe.prototype,Ne,Object.getOwnPropertyDescriptor(Me.prototype||Me,Ne))})})};class be{constructor(Ie){return Ie}}const pe=new c.OlP("angularfire2.app.options"),me=new c.OlP("angularfire2.app.name");function j(xe,Ie,Me){const ke="object"==typeof Me&&Me||{};ke.name=ke.name||"string"==typeof Me&&Me||"[DEFAULT]";const He=V.Z.apps.filter(J=>J&&J.name===ke.name)[0]||Ie.runOutsideAngular(()=>V.Z.initializeApp(xe,ke));try{JSON.stringify(xe)!==JSON.stringify(He.options)&&$("error",`${He.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(He)}const $=(xe,...Ie)=>{(0,c.X6Q)()&&typeof console<"u"&&console[xe](...Ie)},K={provide:be,useFactory:j,deps:[pe,c.R0b,[new c.FiY,me]]};let Ue=(()=>{class xe{constructor(Me){V.Z.registerVersion("angularfire",G.q4.full,"core"),V.Z.registerVersion("angularfire",G.q4.full,"app-compat"),V.Z.registerVersion("angular",c.q4F.full,Me.toString())}static initializeApp(Me,Ne){return{ngModule:xe,providers:[{provide:pe,useValue:Me},{provide:me,useValue:Ne}]}}}return xe.\u0275fac=function(Me){return new(Me||xe)(c.LFG(c.Lbi))},xe.\u0275mod=c.oAB({type:xe}),xe.\u0275inj=c.cJS({providers:[K]}),xe})();function Te(xe,Ie,Me,Ne,ke){const[,Ae,He]=globalThis.\u0275AngularfireInstanceCache.find(J=>J[0]===xe)||[];if(Ae)return function $e(xe,Ie){try{return xe.toString()===Ie.toString()}catch{return xe===Ie}}(ke,He)||(ge("error",`${Ie} was already initialized on the ${Me} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:ke,was:He})),Ae;{const J=Ne();return globalThis.\u0275AngularfireInstanceCache.push([xe,J,ke]),J}}const tt=!!st.hot,ge=(xe,...Ie)=>{(0,c.X6Q)()&&typeof console<"u"&&console[xe](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(st,Ce,P)=>{P.d(Ce,{q4:()=>hl,iC:()=>cs,HU:()=>co,vb:()=>fl,JM:()=>$i});var c=P(4650),V=P(259),G=P(5861),ce=P(9681),ae=P(2090),ee=P(4859),be=P(1877),pe=P(8766);const me="@firebase/installations",j="0.6.4",K=`w:${j}`,Ue="FIS_v2",Ie=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(x){return x instanceof ae.ZR&&x.code.includes("request-failed")}function Ne({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function ke(x){return{token:x.token,requestStatus:2,expiresIn:X(x.expiresIn),creationTime:Date.now()}}function Ae(x,I){return He.apply(this,arguments)}function He(){return(He=(0,G.Z)(function*(x,I){const L=(yield I.json()).error;return Ie.create("request-failed",{requestName:x,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function J({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function ue(x,{refreshToken:I}){const k=J(x);return k.append("Authorization",function de(x){return`${Ue} ${x}`}(I)),k}function we(x){return Y.apply(this,arguments)}function Y(){return(Y=(0,G.Z)(function*(x){const I=yield x();return I.status>=500&&I.status<600?x():I})).apply(this,arguments)}function X(x){return Number(x.replace("s","000"))}function se(x,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,G.Z)(function*({appConfig:x,heartbeatServiceProvider:I},{fid:k}){const L=Ne(x),Q=J(x),re=I.getImmediate({optional:!0});if(re){const rt=yield re.getHeartbeatsHeader();rt&&Q.append("x-firebase-client",rt)}const Qe={method:"POST",headers:Q,body:JSON.stringify({fid:k,authVersion:Ue,appId:x.appId,sdkVersion:K})},ot=yield we(()=>fetch(L,Qe));if(ot.ok){const rt=yield ot.json();return{fid:rt.fid||k,registrationStatus:2,refreshToken:rt.refreshToken,authToken:ke(rt.authToken)}}throw yield Ae("Create Installation",ot)})).apply(this,arguments)}function Ve(x){return new Promise(I=>{setTimeout(I,x)})}const nn=/^[cdef][\w-]{21}$/;function It(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const k=function zt(x){return function dt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return nn.test(k)?k:""}catch{return""}}function bt(x){return`${x.appName}!${x.appId}`}const Zt=new Map;function li(x,I){const k=bt(x);Vr(k,I),function Ys(x,I){const k=function Tn(){return!Un&&"BroadcastChannel"in self&&(Un=new BroadcastChannel("[Firebase] FID Change"),Un.onmessage=x=>{Vr(x.data.key,x.data.fid)}),Un}();k&&k.postMessage({key:x,fid:I}),function xs(){0===Zt.size&&Un&&(Un.close(),Un=null)}()}(k,I)}function Vr(x,I){const k=Zt.get(x);if(k)for(const L of k)L(I)}let Un=null;const ci="firebase-installations-store";let Qr=null;function Br(){return Qr||(Qr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(x,I)=>{0===I&&x.createObjectStore(ci)}})),Qr}function xn(x,I){return Di.apply(this,arguments)}function Di(){return(Di=(0,G.Z)(function*(x,I){const k=bt(x),Q=(yield Br()).transaction(ci,"readwrite"),re=Q.objectStore(ci),Re=yield re.get(k);return yield re.put(I,k),yield Q.done,(!Re||Re.fid!==I.fid)&&li(x,I.fid),I})).apply(this,arguments)}function ht(x){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,G.Z)(function*(x){const I=bt(x),L=(yield Br()).transaction(ci,"readwrite");yield L.objectStore(ci).delete(I),yield L.done})).apply(this,arguments)}function Zi(x,I){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,G.Z)(function*(x,I){const k=bt(x),Q=(yield Br()).transaction(ci,"readwrite"),re=Q.objectStore(ci),Re=yield re.get(k),Qe=I(Re);return void 0===Qe?yield re.delete(k):yield re.put(Qe,k),yield Q.done,Qe&&(!Re||Re.fid!==Qe.fid)&&li(x,Qe.fid),Qe})).apply(this,arguments)}function ui(x){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,G.Z)(function*(x){let I;const k=yield Zi(x.appConfig,L=>{const Q=Tt(L),re=ct(x,Q);return I=re.registrationPromise,re.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function Tt(x){return di(x||{fid:It(),registrationStatus:0})}function ct(x,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ie.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Mt(x,I){return Ei.apply(this,arguments)}(x,k);return{installationEntry:k,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Hn(x)}:{installationEntry:I}}function Ei(){return(Ei=(0,G.Z)(function*(x,I){try{const k=yield se(x,I);return xn(x.appConfig,k)}catch(k){throw Me(k)&&409===k.customData.serverCode?yield ht(x.appConfig):yield xn(x.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Hn(x){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,G.Z)(function*(x){let I=yield Vi(x.appConfig);for(;1===I.registrationStatus;)yield Ve(100),I=yield Vi(x.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield ui(x);return L||k}return I})).apply(this,arguments)}function Vi(x){return Zi(x,I=>{if(!I)throw Ie.create("installation-not-found");return di(I)})}function di(x){return function Is(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function fn(x,I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,G.Z)(function*({appConfig:x,heartbeatServiceProvider:I},k){const L=qt(x,k),Q=ue(x,k),re=I.getImmediate({optional:!0});if(re){const rt=yield re.getHeartbeatsHeader();rt&&Q.append("x-firebase-client",rt)}const Qe={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:K,appId:x.appId}})},ot=yield we(()=>fetch(L,Qe));if(ot.ok)return ke(yield ot.json());throw yield Ae("Generate Auth Token",ot)})).apply(this,arguments)}function qt(x,{fid:I}){return`${Ne(x)}/${I}/authTokens:generate`}function nr(x){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,G.Z)(function*(x,I=!1){let k;const L=yield Zi(x.appConfig,re=>{if(!Yt(re))throw Ie.create("not-registered");const Re=re.authToken;if(!I&&jn(Re))return re;if(1===Re.requestStatus)return k=je(x,I),re;{if(!navigator.onLine)throw Ie.create("app-offline");const Qe=B(re);return k=mt(x,Qe),Qe}});return k?yield k:L.authToken})).apply(this,arguments)}function je(x,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,G.Z)(function*(x,I){let k=yield Ke(x.appConfig);for(;1===k.authToken.requestStatus;)yield Ve(100),k=yield Ke(x.appConfig);const L=k.authToken;return 0===L.requestStatus?nr(x,I):L})).apply(this,arguments)}function Ke(x){return Zi(x,I=>{if(!Yt(I))throw Ie.create("not-registered");return function W(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function mt(x,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,G.Z)(function*(x,I){try{const k=yield fn(x,I),L=Object.assign(Object.assign({},I),{authToken:k});return yield xn(x.appConfig,L),k}catch(k){if(!Me(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield xn(x.appConfig,L)}else yield ht(x.appConfig);throw k}})).apply(this,arguments)}function Yt(x){return void 0!==x&&2===x.registrationStatus}function jn(x){return 2===x.requestStatus&&!function z(x){const I=Date.now();return I<x.creationTime||x.creationTime+x.expiresIn<I+36e5}(x)}function B(x){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:I})}function oe(){return(oe=(0,G.Z)(function*(x){const I=x,{installationEntry:k,registrationPromise:L}=yield ui(I);return L?L.catch(console.error):nr(I).catch(console.error),k.fid})).apply(this,arguments)}function gt(){return(gt=(0,G.Z)(function*(x,I=!1){const k=x;return yield Kt(k),(yield nr(k,I)).token})).apply(this,arguments)}function Kt(x){return Et.apply(this,arguments)}function Et(){return(Et=(0,G.Z)(function*(x){const{registrationPromise:I}=yield ui(x);I&&(yield I)})).apply(this,arguments)}function Nl(x){return Ie.create("missing-app-config-values",{valueName:x})}const Fl="installations",Do=x=>{const I=x.getProvider("app").getImmediate(),k=function wo(x){if(!x||!x.options)throw Nl("App Configuration");if(!x.name)throw Nl("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!x.options[k])throw Nl(k);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},eu=x=>{const I=x.getProvider("app").getImmediate(),k=(0,ce._getProvider)(I,Fl).getImmediate();return{getId:()=>function ve(x){return oe.apply(this,arguments)}(k),getToken:Q=>function nt(x){return gt.apply(this,arguments)}(k,Q)}};(function Ll(){(0,ce._registerComponent)(new ee.wA(Fl,Do,"PUBLIC")),(0,ce._registerComponent)(new ee.wA("installations-internal",eu,"PRIVATE"))})(),(0,ce.registerVersion)(me,j),(0,ce.registerVersion)(me,j,"esm2017");const Ya="@firebase/remote-config",Mn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jr{constructor(I,k,L,Q){this.client=I,this.storage=k,this.storageCache=L,this.logger=Q}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,Q=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var k=this;return(0,G.Z)(function*(){const[L,Q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Q&&k.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Q;I.eTag=Q&&Q.eTag;const re=yield k.client.fetch(I),Re=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Re.push(k.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Re),re})()}}function Bi(x=navigator){return x.languages&&x.languages[0]||x.language}class Qi{constructor(I,k,L,Q,re,Re){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=L,this.projectId=Q,this.apiKey=re,this.appId=Re}fetch(I){var k=this;return(0,G.Z)(function*(){const[L,Q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ot={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:Q,app_id:k.appId,language_code:Bi()},rt={method:"POST",headers:Qe,body:JSON.stringify(ot)},Ft=fetch(Re,rt),Ct=new Promise((or,us)=>{I.signal.addEventListener(()=>{const Oa=new Error("The operation was aborted.");Oa.name="AbortError",us(Oa)})});let Sr;try{yield Promise.race([Ft,Ct]),Sr=yield Ft}catch(or){let us="fetch-client-network";throw"AbortError"===or?.name&&(us="fetch-timeout"),Mn.create(us,{originalErrorMessage:or?.message})}let Nn=Sr.status;const ka=Sr.headers.get("ETag")||void 0;let cc,Ra;if(200===Sr.status){let or;try{or=yield Sr.json()}catch(us){throw Mn.create("fetch-client-parse",{originalErrorMessage:us?.message})}cc=or.entries,Ra=or.state}if("INSTANCE_STATE_UNSPECIFIED"===Ra?Nn=500:"NO_CHANGE"===Ra?Nn=304:("NO_TEMPLATE"===Ra||"EMPTY_CONFIG"===Ra)&&(cc={}),304!==Nn&&200!==Nn)throw Mn.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:ka,config:cc}})()}}class Pn{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,G.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:L}){var Q=this;return(0,G.Z)(function*(){yield function ca(x,I){return new Promise((k,L)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(k,Q);x.addEventListener(()=>{clearTimeout(re),L(Mn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const re=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function gn(x){if(!(x instanceof ae.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(re))throw re;const Re={throttleEndTimeMillis:Date.now()+(0,ae.$s)(L),backoffCount:L+1};return yield Q.storage.setThrottleMetadata(Re),Q.attemptFetch(I,Re)}})()}}class Xa{constructor(I,k,L,Q,re){this.app=I,this._client=k,this._storageCache=L,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function es(x,I){const k=x.target.error||void 0;return Mn.create(I,{originalErrorMessage:k&&k?.message})}const rr="app_namespace_store";class Ji{constructor(I,k,L,Q=function Xi(){return new Promise((x,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{I(es(L,"storage-open"))},k.onsuccess=L=>{x(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(rr,{keyPath:"compositeKey"})}}catch(k){I(Mn.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=I,this.appName=k,this.namespace=L,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,G.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Q,re)=>{const Qe=L.transaction([rr],"readonly").objectStore(rr),ot=k.createCompositeKey(I);try{const rt=Qe.get(ot);rt.onerror=Ft=>{re(es(Ft,"storage-get"))},rt.onsuccess=Ft=>{const Ct=Ft.target.result;Q(Ct?Ct.value:void 0)}}catch(rt){re(Mn.create("storage-get",{originalErrorMessage:rt?.message}))}})})()}set(I,k){var L=this;return(0,G.Z)(function*(){const Q=yield L.openDbPromise;return new Promise((re,Re)=>{const ot=Q.transaction([rr],"readwrite").objectStore(rr),rt=L.createCompositeKey(I);try{const Ft=ot.put({compositeKey:rt,value:k});Ft.onerror=Ct=>{Re(es(Ct,"storage-set"))},Ft.onsuccess=()=>{re()}}catch(Ft){Re(Mn.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(I){var k=this;return(0,G.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Q,re)=>{const Qe=L.transaction([rr],"readwrite").objectStore(rr),ot=k.createCompositeKey(I);try{const rt=Qe.delete(ot);rt.onerror=Ft=>{re(es(Ft,"storage-delete"))},rt.onsuccess=()=>{Q()}}catch(rt){re(Mn.create("storage-delete",{originalErrorMessage:rt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ts{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,G.Z)(function*(){const k=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),re=yield k;re&&(I.lastFetchStatus=re);const Re=yield L;Re&&(I.lastSuccessfulFetchTimestampMillis=Re);const Qe=yield Q;Qe&&(I.activeConfig=Qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ep(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,G.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function ua(){(0,ce._registerComponent)(new ee.wA("remote-config",function x(I,{instanceIdentifier:k}){const L=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mn.create("registration-window");if(!(0,ae.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:re,apiKey:Re,appId:Qe}=L.options;if(!re)throw Mn.create("registration-project-id");if(!Re)throw Mn.create("registration-api-key");if(!Qe)throw Mn.create("registration-app-id");const ot=new Ji(Qe,L.name,k=k||"firebase"),rt=new ts(ot),Ft=new be.Yd(Ya);Ft.logLevel=be.in.ERROR;const Ct=new Qi(Q,ce.SDK_VERSION,k,re,Re,Qe),Sr=new Pn(Ct,ot),Nn=new Jr(Sr,ot,rt,Ft),ka=new Xa(L,Nn,rt,ot,Ft);return function mn(x){const I=(0,ae.m9)(x);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ka),ka},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ya,"0.4.4"),(0,ce.registerVersion)(Ya,"0.4.4","esm2017")}();const ns="/firebase-messaging-sw.js",xo="/firebase-cloud-messaging-push-scope",da="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tu="google.c.a.c_id",np="google.c.a.c_l",ip="google.c.a.ts",ha="google.c.a.e";var zr=(()=>{return(x=zr||(zr={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",zr;var x})();function Qs(x){const I=new Uint8Array(x);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rp(x){const k=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),Q=new Uint8Array(L.length);for(let re=0;re<L.length;++re)Q[re]=L.charCodeAt(re);return Q}const Xs="fcm_token_details_db",el="fcm_token_object_Store";function nu(x){return tl.apply(this,arguments)}function tl(){return tl=(0,G.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Xs))return null;let I=null;return(yield(0,pe.X3)(Xs,5,{upgrade:(L=(0,G.Z)(function*(Q,re,Re,Qe){var ot;if(re<2||!Q.objectStoreNames.contains(el))return;const rt=Qe.objectStore(el),Ft=yield rt.index("fcmSenderId").get(x);if(yield rt.clear(),Ft)if(2===re){const Ct=Ft;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;I={token:Ct.fcmToken,createTime:null!==(ot=Ct.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:Qs(Ct.vapidKey)}}}else if(3===re){const Ct=Ft;I={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Qs(Ct.auth),p256dh:Qs(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Qs(Ct.vapidKey)}}}else if(4===re){const Ct=Ft;I={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Qs(Ct.auth),p256dh:Qs(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Qs(Ct.vapidKey)}}}}),function(re,Re,Qe,ot){return L.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Xs),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Ul(I)?I:null;var L}),tl.apply(this,arguments)}function Ul(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:I}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Io="firebase-messaging-store";let Ao=null;function So(){return Ao||(Ao=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(x,I)=>{0===I&&x.createObjectStore(Io)}})),Ao}function nl(x){return eo.apply(this,arguments)}function eo(){return(eo=(0,G.Z)(function*(x){const I=to(x),L=yield(yield So()).transaction(Io).objectStore(Io).get(I);if(L)return L;{const Q=yield nu(x.appConfig.senderId);if(Q)return yield To(x,Q),Q}})).apply(this,arguments)}function To(x,I){return il.apply(this,arguments)}function il(){return(il=(0,G.Z)(function*(x,I){const k=to(x),Q=(yield So()).transaction(Io,"readwrite");return yield Q.objectStore(Io).put(I,k),yield Q.done,I})).apply(this,arguments)}function rl(x){return fa.apply(this,arguments)}function fa(){return(fa=(0,G.Z)(function*(x){const I=to(x),L=(yield So()).transaction(Io,"readwrite");yield L.objectStore(Io).delete(I),yield L.done})).apply(this,arguments)}function to({appConfig:x}){return x.appId}const kn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hl(x,I){return In.apply(this,arguments)}function In(){return(In=(0,G.Z)(function*(x,I){const k=yield is(x),L=ol(I),Q={method:"POST",headers:k,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(sl(x.appConfig),Q)).json()}catch(Re){throw kn.create("token-subscribe-failed",{errorInfo:Re?.toString()})}if(re.error)throw kn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw kn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function jl(x,I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,G.Z)(function*(x,I){const k=yield is(x),L=ol(I.subscriptionOptions),Q={method:"PATCH",headers:k,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(`${sl(x.appConfig)}/${I.token}`,Q)).json()}catch(Re){throw kn.create("token-update-failed",{errorInfo:Re?.toString()})}if(re.error)throw kn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw kn.create("token-update-no-token");return re.token})).apply(this,arguments)}function ii(x,I){return pa.apply(this,arguments)}function pa(){return(pa=(0,G.Z)(function*(x,I){const L={method:"DELETE",headers:yield is(x)};try{const re=yield(yield fetch(`${sl(x.appConfig)}/${I}`,L)).json();if(re.error)throw kn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw kn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function sl({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function is(x){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,G.Z)(function*({appConfig:x,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function ol({p256dh:x,auth:I,endpoint:k,vapidKey:L}){const Q={web:{endpoint:k,auth:I,p256dh:x}};return L!==da&&(Q.web.applicationPubKey=L),Q}const no=6048e5;function $d(x){return Er.apply(this,arguments)}function Er(){return(Er=(0,G.Z)(function*(x){const I=yield qd(x.swRegistration,x.vapidKey),k={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:I.endpoint,auth:Qs(I.getKey("auth")),p256dh:Qs(I.getKey("p256dh"))},L=yield nl(x.firebaseDependencies);if(L){if(iu(L.subscriptionOptions,k))return Date.now()>=L.createTime+no?Rt(x,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield ii(x.firebaseDependencies,L.token)}catch(Q){console.warn(Q)}return Gd(x.firebaseDependencies,k)}return Gd(x.firebaseDependencies,k)})).apply(this,arguments)}function zl(x){return io.apply(this,arguments)}function io(){return(io=(0,G.Z)(function*(x){const I=yield nl(x.firebaseDependencies);I&&(yield ii(x.firebaseDependencies,I.token),yield rl(x.firebaseDependencies));const k=yield x.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Rt(x,I){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,G.Z)(function*(x,I){try{const k=yield jl(x.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield To(x.firebaseDependencies,L),k}catch(k){throw yield zl(x),k}})).apply(this,arguments)}function Gd(x,I){return ma.apply(this,arguments)}function ma(){return(ma=(0,G.Z)(function*(x,I){const L={token:yield Hl(x,I),createTime:Date.now(),subscriptionOptions:I};return yield To(x,L),L.token})).apply(this,arguments)}function qd(x,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,G.Z)(function*(x,I){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rp(I)})})).apply(this,arguments)}function iu(x,I){return I.vapidKey===x.vapidKey&&I.endpoint===x.endpoint&&I.auth===x.auth&&I.p256dh===x.p256dh}function $l(x){const I={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Wd(x,I){if(!I.notification)return;x.notification={};const k=I.notification.title;k&&(x.notification.title=k);const L=I.notification.body;L&&(x.notification.body=L);const Q=I.notification.image;Q&&(x.notification.image=Q);const re=I.notification.icon;re&&(x.notification.icon=re)}(I,x),function _e(x,I){I.data&&(x.data=I.data)}(I,x),function Wt(x,I){var k,L,Q,re,Re;if(!(I.fcmOptions||null!==(k=I.notification)&&void 0!==k&&k.click_action))return;x.fcmOptions={};const Qe=null!==(Q=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Q?Q:null===(re=I.notification)||void 0===re?void 0:re.click_action;Qe&&(x.fcmOptions.link=Qe);const ot=null===(Re=I.fcmOptions)||void 0===Re?void 0:Re.analytics_label;ot&&(x.fcmOptions.analyticsLabel=ot)}(I,x),I}function Yd(x){return"object"==typeof x&&!!x&&tu in x}function ru(x,I){const k=[];for(let L=0;L<x.length;L++)k.push(x.charAt(L)),L<I.length&&k.push(I.charAt(L));return k.join("")}function Gl(x){return kn.create("missing-app-config-values",{valueName:x})}ru("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ru("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ko{constructor(I,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function qn(x){if(!x||!x.options)throw Gl("App Configuration Object");if(!x.name)throw Gl("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=x;for(const L of I)if(!k[L])throw Gl(L);return{appName:x.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Cr(x){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,G.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(ns,{scope:xo}),x.swRegistration.update().catch(()=>{})}catch(I){throw kn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function su(x,I){return al.apply(this,arguments)}function al(){return(al=(0,G.Z)(function*(x,I){if(!I&&!x.swRegistration&&(yield Cr(x)),I||!x.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");x.swRegistration=I}})).apply(this,arguments)}function Zd(x,I){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,G.Z)(function*(x,I){I?x.vapidKey=I:x.vapidKey||(x.vapidKey=da)})).apply(this,arguments)}function xi(){return(xi=(0,G.Z)(function*(x,I){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield Zd(x,I?.vapidKey),yield su(x,I?.serviceWorkerRegistration),$d(x)})).apply(this,arguments)}function Po(x,I,k){return rs.apply(this,arguments)}function rs(){return(rs=(0,G.Z)(function*(x,I,k){const L=Ts(I);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[tu],message_name:k[np],message_time:k[ip],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ts(x){switch(x){case zr.NOTIFICATION_CLICKED:return"notification_open";case zr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function No(){return(No=(0,G.Z)(function*(x,I){const k=I.data;if(!k.isFirebaseMessaging)return;x.onMessageHandler&&k.messageType===zr.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler($l(k)):x.onMessageHandler.next($l(k)));const L=k.data;Yd(L)&&"1"===L[ha]&&(yield Po(x,k.messageType,L))})).apply(this,arguments)}const ql="@firebase/messaging",Ms=x=>{const I=new ko(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function ou(x,I){return No.apply(this,arguments)}(I,k)),I},_a=x=>{const I=x.getProvider("messaging").getImmediate();return{getToken:L=>function pi(x,I){return xi.apply(this,arguments)}(I,L)}};function Wl(){return au.apply(this,arguments)}function au(){return(au=(0,G.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qd(){(0,ce._registerComponent)(new ee.wA("messaging",Ms,"PUBLIC")),(0,ce._registerComponent)(new ee.wA("messaging-internal",_a,"PRIVATE")),(0,ce.registerVersion)(ql,"0.12.4"),(0,ce.registerVersion)(ql,"0.12.4","esm2017")}();const cu="analytics",Hi="firebase_id",Yl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jd="https://www.googletagmanager.com/gtag/js",ri=new be.Yd("@firebase/analytics");function eh(x){return Promise.all(x.map(I=>I.catch(k=>k)))}function cp(x,I){const k=document.createElement("script");k.src=`${Jd}?l=${x}&id=${I}`,k.async=!0,document.head.appendChild(k)}function ya(x,I,k,L,Q,re){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,G.Z)(function*(x,I,k,L,Q,re){const Re=L[Q];try{if(Re)yield I[Re];else{const ot=(yield eh(k)).find(rt=>rt.measurementId===Q);ot&&(yield I[ot.appId])}}catch(Qe){ri.error(Qe)}x("config",Q,re)})).apply(this,arguments)}function os(x,I,k,L,Q){return $r.apply(this,arguments)}function $r(){return($r=(0,G.Z)(function*(x,I,k,L,Q){try{let re=[];if(Q&&Q.send_to){let Re=Q.send_to;Array.isArray(Re)||(Re=[Re]);const Qe=yield eh(k);for(const ot of Re){const rt=Qe.find(Ct=>Ct.measurementId===ot),Ft=rt&&I[rt.appId];if(!Ft){re=[];break}re.push(Ft)}}0===re.length&&(re=Object.values(I)),yield Promise.all(re),x("event",L,Q||{})}catch(re){ri.error(re)}})).apply(this,arguments)}function Lo(x){const I=window.document.getElementsByTagName("script");for(const k of Object.values(I))if(k.src&&k.src.includes(Jd)&&k.src.includes(x))return k;return null}const ji=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wa=new class up{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ks(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function th(x){return An.apply(this,arguments)}function An(){return(An=(0,G.Z)(function*(x){var I;const{appId:k,apiKey:L}=x,Q={method:"GET",headers:ks(L)},re=Yl.replace("{app-id}",k),Re=yield fetch(re,Q);if(200!==Re.status&&304!==Re.status){let Qe="";try{const ot=yield Re.json();null!==(I=ot.error)&&void 0!==I&&I.message&&(Qe=ot.error.message)}catch{}throw ji.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:Qe})}return Re.json()})).apply(this,arguments)}function ro(x){return so.apply(this,arguments)}function so(){return(so=(0,G.Z)(function*(x,I=wa,k){const{appId:L,apiKey:Q,measurementId:re}=x.options;if(!L)throw ji.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:L};throw ji.create("no-api-key")}const Re=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Ea;return setTimeout((0,G.Z)(function*(){Qe.abort()}),void 0!==k?k:6e4),Da({appId:L,apiKey:Q,measurementId:re},Re,Qe,I)})).apply(this,arguments)}function Da(x,I,k){return xr.apply(this,arguments)}function xr(){return(xr=(0,G.Z)(function*(x,{throttleEndTimeMillis:I,backoffCount:k},L,Q=wa){var re;const{appId:Re,measurementId:Qe}=x;try{yield Zl(L,I)}catch(ot){if(Qe)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:Re,measurementId:Qe};throw ot}try{const ot=yield th(x);return Q.deleteThrottleMetadata(Re),ot}catch(ot){const rt=ot;if(!Kl(rt)){if(Q.deleteThrottleMetadata(Re),Qe)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${rt?.message}]`),{appId:Re,measurementId:Qe};throw ot}const Ft=503===Number(null===(re=rt?.customData)||void 0===re?void 0:re.httpStatus)?(0,ae.$s)(k,Q.intervalMillis,30):(0,ae.$s)(k,Q.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Ft,backoffCount:k+1};return Q.setThrottleMetadata(Re,Ct),ri.debug(`Calling attemptFetch again in ${Ft} millis`),Da(x,Ct,L,Q)}})).apply(this,arguments)}function Zl(x,I){return new Promise((k,L)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(k,Q);x.addEventListener(()=>{clearTimeout(re),L(ji.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Kl(x){if(!(x instanceof ae.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Ea{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ql,Uo;function Vo(){return(Vo=(0,G.Z)(function*(x,I,k,L,Q){if(Q&&Q.global)x("event",k,L);else{const re=yield I;x("event",k,Object.assign(Object.assign({},L),{send_to:re}))}})).apply(this,arguments)}function Xl(x){Uo=x}function xa(x){Ql=x}function pu(){return ul.apply(this,arguments)}function ul(){return(ul=(0,G.Z)(function*(){if(!(0,ae.hl)())return ri.warn(ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(x){return ri.warn(ji.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ho(){return(Ho=(0,G.Z)(function*(x,I,k,L,Q,re,Re){var Qe;const ot=ro(x);ot.then(Nn=>{k[Nn.measurementId]=Nn.appId,x.options.measurementId&&Nn.measurementId!==x.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>ri.error(Nn)),I.push(ot);const rt=pu().then(Nn=>{if(Nn)return L.getId()}),[Ft,Ct]=yield Promise.all([ot,rt]);Lo(re)||cp(re,Ft.measurementId),Uo&&(Q("consent","default",Uo),Xl(void 0)),Q("js",new Date);const Sr=null!==(Qe=Re?.config)&&void 0!==Qe?Qe:{};return Sr.origin="firebase",Sr.update=!0,null!=Ct&&(Sr[Hi]=Ct),Q("config",Ft.measurementId,Sr),Ql&&(Q("set",Ql),xa(void 0)),Ft.measurementId})).apply(this,arguments)}class nh{constructor(I){this.app=I}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},Jl=[];const Ia={};let ec,zi,Ar="dataLayer",Ps=!1;function jo(x,I,k){!function tc(){const x=[];if((0,ae.ru)()&&x.push("This is a browser extension environment."),(0,ae.zI)()||x.push("Cookies are not available."),x.length>0){const I=x.map((L,Q)=>`(${Q+1}) ${L}`).join(" "),k=ji.create("invalid-analytics-context",{errorInfo:I});ri.warn(k.message)}}();const L=x.options.appId;if(!L)throw ji.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw ji.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[L])throw ji.create("already-exists",{id:L});if(!Ps){!function uu(x){let I=[];Array.isArray(window[x])?I=window[x]:window[x]=I}(Ar);const{wrappedGtag:re,gtagCore:Re}=function cl(x,I,k,L,Q){let re=function(...Re){window[L].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function du(x,I,k,L){function re(){return(re=(0,G.Z)(function*(Re,Qe,ot){try{"event"===Re?yield os(x,I,k,Qe,ot):"config"===Re?yield ya(x,I,k,L,Qe,ot):"consent"===Re?x("consent","update",ot):x("set",Qe)}catch(rt){ri.error(rt)}})).apply(this,arguments)}return function Q(Re,Qe,ot){return re.apply(this,arguments)}}(re,x,I,k),{gtagCore:re,wrappedGtag:window[Q]}}(Ir,Jl,Ia,Ar,"gtag");zi=re,ec=Re,Ps=!0}return Ir[L]=function mu(x,I,k,L,Q,re,Re){return Ho.apply(this,arguments)}(x,Jl,Ia,I,ec,Ar,k),new nh(x)}function nc(){return ao.apply(this,arguments)}function ao(){return(ao=(0,G.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const $t="@firebase/analytics";!function vu(){(0,ce._registerComponent)(new ee.wA(cu,(I,{options:k})=>jo(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new ee.wA("analytics-internal",function x(I){try{const k=I.getProvider(cu).getImmediate();return{logEvent:(L,Q,re)=>function oh(x,I,k,L){x=(0,ae.m9)(x),function oo(x,I,k,L,Q){return Vo.apply(this,arguments)}(zi,Ir[x.app.options.appId],I,k,L).catch(Q=>ri.error(Q))}(k,L,Q,re)}}catch(k){throw ji.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)($t,"0.9.4"),(0,ce.registerVersion)($t,"0.9.4","esm2017")}();var bu=P(4408),wu=P(7565);const Rg=new class ch extends wu.v{}(class ic extends bu.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,k,L):(I.flush(this),0)}});var Og=P(4986),Sa=P(8505),Rn=P(9468),Du=P(5363);const hl=new c.GfV("7.5.0"),rc="__angularfire_symbol__analyticsIsSupportedValue",Ai="__angularfire_symbol__analyticsIsSupported",as="__angularfire_symbol__remoteConfigIsSupportedValue",sc="__angularfire_symbol__remoteConfigIsSupported",Ta="__angularfire_symbol__messagingIsSupportedValue",Ns="__angularfire_symbol__messagingIsSupported";function $i(x,I,k){if(I){if(1===I.length)return I[0];const re=I.filter(Re=>Re.app===k);if(1===re.length)return re[0]}return k.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ai]||(globalThis[Ai]=nc().then(x=>globalThis[rc]=x).catch(()=>globalThis[rc]=!1)),globalThis[Ns]||(globalThis[Ns]=Wl().then(x=>globalThis[Ta]=x).catch(()=>globalThis[Ta]=!1)),globalThis[sc]||(globalThis[sc]=ep().then(x=>globalThis[as]=x).catch(()=>globalThis[as]=!1));const fl=(x,I)=>{const k=I?[I]:(0,V.C6)(),L=[];return k.forEach(Q=>{Q.container.getProvider(x).instances.forEach(Re=>{L.includes(Re)||L.push(Re)})}),L};function Si(){}class ls{constructor(I,k=Rg){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,L){const Q=this.zone;return this.delegate.schedule(function(Re){Q.runGuarded(()=>{I.apply(this,[Re])})},k,L)}}class pl{constructor(I){this.zone=I,this.task=null}call(I,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si)),k.pipe((0,Sa.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let co=(()=>{class x{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ls(Zone.current)),this.insideAngular=k.run(()=>new ls(Zone.current,Og.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(k){return new(k||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Fs(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function cs(x){return Fs(),function ac(x){return function(k){return(k=k.lift(new pl(x.ngZone))).pipe((0,Rn.R)(x.outsideAngular),(0,Du.Q)(x.insideAngular))}}(Fs())(x)}},8401:(st,Ce,P)=>{P.d(Ce,{$:()=>sl,A:()=>$,B:()=>Te,G:()=>eu,H:()=>_n,J:()=>Pn,L:()=>jn,M:()=>Ja,N:()=>tp,P:()=>Og,Q:()=>tu,R:()=>yu,T:()=>np,U:()=>da,V:()=>zr,W:()=>Qs,X:()=>nu,Y:()=>Ui,Z:()=>Hl,_:()=>jl,a:()=>ba,a0:()=>$d,a1:()=>zl,a2:()=>Rt,a3:()=>Gd,a4:()=>qd,a5:()=>iu,a6:()=>Wd,a7:()=>_e,a8:()=>Yd,a9:()=>ru,aA:()=>z,aB:()=>ot,aC:()=>oc,aD:()=>si,aE:()=>Jn,aI:()=>ks,aL:()=>ha,aa:()=>Cr,ab:()=>su,ac:()=>Zd,af:()=>Po,ag:()=>Ts,ah:()=>ou,ak:()=>Io,al:()=>ll,an:()=>Jd,ao:()=>Fo,ap:()=>we,aq:()=>wn,ar:()=>Kt,as:()=>Me,at:()=>uc,au:()=>or,av:()=>Jt,aw:()=>Ne,ax:()=>J,ay:()=>Nn,az:()=>X,b:()=>ji,c:()=>Ta,d:()=>Pg,e:()=>Eu,f:()=>ac,g:()=>L,h:()=>x,i:()=>ul,j:()=>Re,k:()=>ar,l:()=>lh,m:()=>_p,o:()=>pe,r:()=>bu,s:()=>ah,u:()=>Rg});var c=P(5861),V=P(2090),G=P(9681),ce=P(1877),ae=P(655),ee=P(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Te=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new ce.Yd("@firebase/auth");function Ie(b,...m){xe.logLevel<=ce.in.ERROR&&xe.error(`Auth (${G.SDK_VERSION}): ${b}`,...m)}function Me(b,...m){throw He(b,...m)}function Ne(b,...m){return He(b,...m)}function ke(b,m,_){const D=Object.assign(Object.assign({},$e()),{[m]:_});return new V.LL("auth","Firebase",D).create(m,{appName:b.name})}function Ae(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Me(b,"argument-error"),ke(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(b,...m){if("string"!=typeof b){const _=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(_,...D)}return tt.create(b,...m)}function J(b,m,..._){if(!b)throw He(m,..._)}function ue(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Ie(m),new Error(m)}function we(b,m){b||ue(m)}const Y=new Map;function X(b){we(b instanceof Function,"Expected a class definition");let m=Y.get(b);return m?(we(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Y.set(b,m),m)}function Fe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ve(){return"http:"===dt()||"https:"===dt()}function dt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class It{constructor(m,_){this.shortDelay=m,this.longDelay=_,we(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zt(b,m){we(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class bt{static initialize(m,_,D){this.fetchImpl=m,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},li=new It(3e4,6e4);function Xt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function yt(b,m,_,D){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(b,m,_,D,M={}){return Ys(b,M,(0,c.Z)(function*(){let O={},ne={};D&&("GET"===m?ne=D:O={body:JSON.stringify(D)});const Se=(0,V.xO)(Object.assign({key:b.config.apiKey},ne)).slice(1),Ye=yield b._getAdditionalHeaders();return Ye["Content-Type"]="application/json",b.languageCode&&(Ye["X-Firebase-Locale"]=b.languageCode),bt.fetch()(aa(b,b.config.apiHost,_,Se),Object.assign({method:m,headers:Ye,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Ys(b,m,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},Zt),m);try{const M=new bo(b),O=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const ne=yield O.json();if("needConfirmation"in ne)throw ci(b,"account-exists-with-different-credential",ne);if(O.ok&&!("errorMessage"in ne))return ne;{const Se=O.ok?ne.errorMessage:ne.error.message,[Ye,et]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw ci(b,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Ye)throw ci(b,"email-already-in-use",ne);if("USER_DISABLED"===Ye)throw ci(b,"user-disabled",ne);const Lt=D[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw ke(b,Lt,et);Me(b,Lt)}}catch(M){if(M instanceof V.ZR)throw M;Me(b,"internal-error",{message:String(M)})}})).apply(this,arguments)}function Tn(b,m,_,D){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(b,m,_,D,M={}){const O=yield yt(b,m,_,D,M);return"mfaPendingCredential"in O&&Me(b,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function aa(b,m,_,D){const M=`${m}${_}?${D}`;return b.config.emulator?zt(b.config,M):`${b.config.apiScheme}://${M}`}class bo{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Ne(this.auth,"network-request-failed")),li.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ci(b,m,_){const D={appName:b.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const M=Ne(b,m,D);return M.customData._tokenResponse=_,M}function Br(){return(Br=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function xn(b,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ht(b,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Zi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Xr(){return(Xr=(0,c.Z)(function*(b,m=!1){const _=(0,V.m9)(b),D=yield _.getIdToken(m),M=ct(D);J(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,ne=O?.sign_in_provider;return{claims:M,token:D,authTime:Zi(Tt(M.auth_time)),issuedAtTime:Zi(Tt(M.iat)),expirationTime:Zi(Tt(M.exp)),signInProvider:ne||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(b){return 1e3*Number(b)}function ct(b){const[m,_,D]=b.split(".");if(void 0===m||void 0===_||void 0===D)return Ie("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,V.tV)(_);return M?JSON.parse(M):(Ie("Failed to decode base64 JWT payload"),null)}catch(M){return Ie("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Ei(b,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(D){throw D instanceof V.ZR&&Xn(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}function Xn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Vi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),D)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class di{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zi(this.lastLoginAt),this.creationTime=Zi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Is(b){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(b){var m;const _=b.auth,D=yield b.getIdToken(),M=yield Ei(b,ht(_,{idToken:D}));J(M?.users.length,_,"internal-error");const O=M.users[0];b._notifyReloadListener(O);const ne=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?Hr(O.providerUserInfo):[],Se=nr(b.providerData,ne),Lt=!!b.isAnonymous&&!(b.email&&O.passwordHash||Se?.length),yn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Se,metadata:new di(O.createdAt,O.lastLoginAt),isAnonymous:Lt};Object.assign(b,yn)})).apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(b){const m=(0,V.m9)(b);yield Is(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function nr(b,m){return[...b.filter(D=>!m.some(M=>M.providerId===D.providerId)),...m]}function Hr(b){return b.map(m=>{var{providerId:_}=m,D=(0,ae._T)(m,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Ee(){return(Ee=(0,c.Z)(function*(b,m){const _=yield Ys(b,{},(0,c.Z)(function*(){const D=(0,V.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:O}=b.config,ne=aa(b,M,"/v1/token",`key=${O}`),Se=yield b._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",bt.fetch()(ne,{method:"POST",headers:Se,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){J(m.idToken,"internal-error"),J(typeof m.idToken<"u","internal-error"),J(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Mt(b){const m=ct(b);return J(m,"internal-error"),J(typeof m.exp<"u","internal-error"),J(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var D=this;return(0,c.Z)(function*(){return J(!D.accessToken||D.refreshToken,m,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var D=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:ne}=yield function je(b,m){return Ee.apply(this,arguments)}(m,_);D.updateTokensAndExpiration(M,O,Number(ne))})()}updateTokensAndExpiration(m,_,D){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,_){const{refreshToken:D,accessToken:M,expirationTime:O}=_,ne=new Ke;return D&&(J("string"==typeof D,"internal-error",{appName:m}),ne.refreshToken=D),M&&(J("string"==typeof M,"internal-error",{appName:m}),ne.accessToken=M),O&&(J("number"==typeof O,"internal-error",{appName:m}),ne.expirationTime=O),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Ke,this.toJSON())}_performRefresh(){return ue("not implemented")}}function mt(b,m){J("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class kt{constructor(m){var{uid:_,auth:D,stsTokenManager:M}=m,O=(0,ae._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new di(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const D=yield Ei(_,_.stsTokenManager.getToken(_.auth,m));return J(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(m){return function ui(b){return Xr.apply(this,arguments)}(this,m)}reload(){return function Zs(b){return qt.apply(this,arguments)}(this)}_assign(m){this!==m&&(J(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new kt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var D=this;return(0,c.Z)(function*(){let M=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Is(D)),yield D.auth._persistUserIfCurrent(D),M&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield Ei(m,function Qr(b,m){return Br.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var D,M,O,ne,Se,Ye,et,Lt;const yn=null!==(D=_.displayName)&&void 0!==D?D:void 0,lr=null!==(M=_.email)&&void 0!==M?M:void 0,mi=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,Pa=null!==(ne=_.photoURL)&&void 0!==ne?ne:void 0,Vs=null!==(Se=_.tenantId)&&void 0!==Se?Se:void 0,pc=null!==(Ye=_._redirectEventId)&&void 0!==Ye?Ye:void 0,Na=null!==(et=_.createdAt)&&void 0!==et?et:void 0,vh=null!==(Lt=_.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:mc,emailVerified:bh,isAnonymous:uo,providerData:Au,stsTokenManager:wh}=_;J(mc&&wh,m,"internal-error");const Bs=Ke.fromJSON(this.name,wh);J("string"==typeof mc,m,"internal-error"),mt(yn,m.name),mt(lr,m.name),J("boolean"==typeof bh,m,"internal-error"),J("boolean"==typeof uo,m,"internal-error"),mt(mi,m.name),mt(Pa,m.name),mt(Vs,m.name),mt(pc,m.name),mt(Na,m.name),mt(vh,m.name);const ho=new kt({uid:mc,auth:m,email:lr,emailVerified:bh,displayName:yn,isAnonymous:uo,photoURL:Pa,phoneNumber:mi,tenantId:Vs,stsTokenManager:Bs,createdAt:Na,lastLoginAt:vh});return Au&&Array.isArray(Au)&&(ho.providerData=Au.map(yl=>Object.assign({},yl))),pc&&(ho._redirectEventId=pc),ho}static _fromIdTokenResponse(m,_,D=!1){return(0,c.Z)(function*(){const M=new Ke;M.updateFromServerResponse(_);const O=new kt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:D});return yield Is(O),O})()}}const jn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,D){var M=this;return(0,c.Z)(function*(){M.storage[_]=D})()}_get(_){var D=this;return(0,c.Z)(function*(){const M=D.storage[_];return void 0===M?null:M})()}_remove(_){var D=this;return(0,c.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return b.type="NONE",b})();function z(b,m,_){return`firebase:${b}:${m}:${_}`}class B{constructor(m,_,D){this.persistence=m,this.auth=_,this.userKey=D;const{config:M,name:O}=this.auth;this.fullUserKey=z(this.userKey,M.apiKey,O),this.fullPersistenceKey=z("persistence",M.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?kt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,D="authUser"){return(0,c.Z)(function*(){if(!_.length)return new B(X(jn),m,D);const M=(yield Promise.all(_.map(function(){var et=(0,c.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return et.apply(this,arguments)}}()))).filter(et=>et);let O=M[0]||X(jn);const ne=z(D,m.config.apiKey,m.name);let Se=null;for(const et of _)try{const Lt=yield et._get(ne);if(Lt){const yn=kt._fromJSON(m,Lt);et!==O&&(Se=yn),O=et;break}}catch{}const Ye=M.filter(et=>et._shouldAllowMigration);return O._shouldAllowMigration&&Ye.length?(O=Ye[0],Se&&(yield O._set(ne,Se.toJSON())),yield Promise.all(_.map(function(){var et=(0,c.Z)(function*(Lt){if(Lt!==O)try{yield Lt._remove(ne)}catch{}});return function(Lt){return et.apply(this,arguments)}}())),new B(O,m,D)):new B(O,m,D)})()}}function W(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(gt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ve(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Et(m))return"Blackberry";if(bn(m))return"Webos";if(oe(m))return"Safari";if((m.includes("chrome/")||nt(m))&&!m.includes("edge/"))return"Chrome";if(Kt(m))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function ve(b=(0,V.z$)()){return/firefox\//i.test(b)}function oe(b=(0,V.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function nt(b=(0,V.z$)()){return/crios\//i.test(b)}function gt(b=(0,V.z$)()){return/iemobile/i.test(b)}function Kt(b=(0,V.z$)()){return/android/i.test(b)}function Et(b=(0,V.z$)()){return/blackberry/i.test(b)}function bn(b=(0,V.z$)()){return/webos/i.test(b)}function wn(b=(0,V.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Jt(b=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function As(b=(0,V.z$)()){return wn(b)||Kt(b)||bn(b)||Et(b)||/windows phone/i.test(b)||gt(b)}function wo(b,m=[]){let _;switch(b){case"Browser":_=W((0,V.z$)());break;case"Worker":_=`${W((0,V.z$)())}-${b}`;break;default:_=b}const D=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${G.SDK_VERSION}/${D}`}class Nl{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const D=O=>new Promise((ne,Se)=>{try{ne(m(O))}catch(Ye){Se(Ye)}});D.onAbort=_,this.queue.push(D);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===m)return;const D=[];try{for(const M of _.queue)yield M(m),M.onAbort&&D.push(M.onAbort)}catch(M){D.reverse();for(const O of D)try{O()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Fl{constructor(m,_,D){this.app=m,this.heartbeatServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Do(this),this.idTokenSubscription=new Do(this),this.beforeStateQueue=new Nl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,_){var D=this;return _&&(this._popupRedirectResolver=X(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,O;if(!D._deleted&&(D.persistenceManager=yield B.create(D,m),!D._deleted)){if(null!==(M=D._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(O=D.currentUser)||void 0===O?void 0:O.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var D;const M=yield _.assertedPersistence.getCurrentUser();let O=M,ne=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Se=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,Ye=O?._redirectEventId,et=yield _.tryRedirectSignIn(m);(!Se||Se===Ye)&&et?.user&&(O=et.user,ne=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if(ne)try{yield _.beforeStateQueue.runMiddleware(O)}catch(Se){O=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Se))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return J(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield Is(m)}catch(D){if("auth/network-request-failed"!==D?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function pn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const D=m?(0,V.m9)(m):null;return D&&J(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(m,_=!1){var D=this;return(0,c.Z)(function*(){if(!D._deleted)return m&&J(D.tenantId===m.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(m)),D.queue((0,c.Z)(function*(){yield D.directlySetCurrentUser(m),D.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(X(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new V.LL("auth","Firebase",m())}onAuthStateChanged(m,_,D){return this.registerStateListener(this.authStateSubscription,m,_,D)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,D){return this.registerStateListener(this.idTokenSubscription,m,_,D)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var D=this;return(0,c.Z)(function*(){const M=yield D.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const D=m&&X(m)||_._popupRedirectResolver;J(D,_,"argument-error"),_.redirectPersistenceManager=yield B.create(_,[X(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var D,M;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,D,M){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return J(ne,this,"internal-error"),ne.then(()=>O(this.currentUser)),"function"==typeof _?m.addObserver(_,D,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=wo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(D["X-Firebase-Client"]=M),D})()}}function Jn(b){return(0,V.m9)(b)}class Do{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eu(b,m,_){const D=Jn(b);J(D._canInitEmulator,D,"emulator-config-failed"),J(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const M=!!_?.disableWarnings,O=Ll(m),{host:ne,port:Se}=function Ya(b){const m=Ll(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(D);if(M){const O=M[1];return{host:O,port:Eo(D.substr(O.length+1))}}{const[O,ne]=D.split(":");return{host:O,port:Eo(ne)}}}(m);D.config.emulator={url:`${O}//${ne}${null===Se?"":`:${Se}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ne,port:Se,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function en(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ll(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Eo(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class _n{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ue("not implemented")}_getIdTokenResponse(m){return ue("not implemented")}_linkToIdToken(m,_){return ue("not implemented")}_getReauthenticationResolver(m){return ue("not implemented")}}function hi(b,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:resetPassword",Xt(b,m))})).apply(this,arguments)}function Ci(b,m){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ze(b,m){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",Xt(b,m))})).apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signInWithPassword",Xt(b,m))})).apply(this,arguments)}function jr(b,m){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:sendOobCode",Xt(b,m))})).apply(this,arguments)}function wr(b,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(b,m){return jr(b,m)})).apply(this,arguments)}function Za(b,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(b,m){return jr(b,m)})).apply(this,arguments)}function Bt(b,m){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(b,m){return jr(b,m)})).apply(this,arguments)}function Co(b,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(b,m){return jr(b,m)})).apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signInWithEmailLink",Xt(b,m))})).apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signInWithEmailLink",Xt(b,m))})).apply(this,arguments)}class Bi extends _n{constructor(m,_,D,M=null){super("password",D),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new Bi(m,_,"password")}static _fromEmailAndCode(m,_,D=null){return new Bi(m,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function Dn(b,m){return fi.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Dr(b,m){return ei.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Me(m,"internal-error")}})()}_linkToIdToken(m,_){var D=this;return(0,c.Z)(function*(){switch(D.signInMethod){case"password":return Ci(m,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Ka(b,m){return Jr.apply(this,arguments)}(m,{idToken:_,email:D._email,oobCode:D._password});default:Me(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Qi(b,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signInWithIdp",Xt(b,m))})).apply(this,arguments)}class Pn extends _n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Pn(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Me("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:M}=_,O=(0,ae._T)(_,["providerId","signInMethod"]);if(!D||!M)return null;const ne=new Pn(D,M);return ne.idToken=O.idToken||void 0,ne.accessToken=O.accessToken||void 0,ne.secret=O.secret,ne.nonce=O.nonce,ne.pendingToken=O.pendingToken||null,ne}_getIdTokenResponse(m){return Qi(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,Qi(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Qi(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,V.xO)(_)}return m}}function Vl(b,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:sendVerificationCode",Xt(b,m))})).apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,m))})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(b,m){const _=yield Tn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,m));if(_.temporaryProof)throw ci(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Jf={USER_NOT_FOUND:"user-not-found"};function Ji(){return(Ji=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Jf)})).apply(this,arguments)}class ts extends _n{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new ts({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new ts({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Xa(b,m){return es.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function rr(b,m){return ti.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Xi(b,m){return Ji.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:D,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:D,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:D,phoneNumber:M,temporaryProof:O}=m;return D||_||M||O?new ts({verificationId:_,verificationCode:D,phoneNumber:M,temporaryProof:O}):null}}class ni{constructor(m){var _,D,M,O,ne,Se;const Ye=(0,V.zd)((0,V.pd)(m)),et=null!==(_=Ye.apiKey)&&void 0!==_?_:null,Lt=null!==(D=Ye.oobCode)&&void 0!==D?D:null,yn=function ua(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ye.mode)&&void 0!==M?M:null);J(et&&Lt&&yn,"argument-error"),this.apiKey=et,this.operation=yn,this.code=Lt,this.continueUrl=null!==(O=Ye.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(ne=Ye.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Se=Ye.tenantId)&&void 0!==Se?Se:null}static parseLink(m){const _=function Bl(b){const m=(0,V.zd)((0,V.pd)(b)).link,_=m?(0,V.zd)((0,V.pd)(m)).deep_link_id:null,D=(0,V.zd)((0,V.pd)(b)).deep_link_id;return(D?(0,V.zd)((0,V.pd)(D)).link:null)||D||_||m||b}(m);try{return new ni(_)}catch{return null}}}let Ja=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,D){return Bi._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const M=ni.parseLink(D);return J(M,"argument-error"),Bi._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ns{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class xo extends ns{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class da extends xo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return J("providerId"in _&&"signInMethod"in _,"argument-error"),Pn._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return J(m.idToken||m.accessToken,"argument-error"),Pn._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return da.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return da.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:M,pendingToken:O,nonce:ne,providerId:Se}=m;if(!D&&!M&&!_&&!O||!Se)return null;try{return new da(Se)._credential({idToken:_,accessToken:D,nonce:ne,pendingToken:O})}catch{return null}}}let tp=(()=>{class b extends xo{constructor(){super("facebook.com")}static credential(_){return Pn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),tu=(()=>{class b extends xo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return Pn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:M}=_;if(!D&&!M)return null;try{return b.credential(D,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),np=(()=>{class b extends xo{constructor(){super("github.com")}static credential(_){return Pn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ha extends _n{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Qi(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,Qi(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Qi(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:M,pendingToken:O}=_;return D&&M&&O&&D===M?new ha(D,O):null}static _create(m,_){return new ha(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zr extends ns{constructor(m){J(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return zr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return zr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ha.fromJSON(m);return J(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:D}=m;if(!_||!D)return null;try{return ha._create(D,_)}catch{return null}}}let Qs=(()=>{class b extends xo{constructor(){super("twitter.com")}static credential(_,D){return Pn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:M}=_;if(!D||!M)return null;try{return b.credential(D,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function rp(b,m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signUp",Xt(b,m))})).apply(this,arguments)}class sr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,D,M=!1){return(0,c.Z)(function*(){const O=yield kt._fromIdTokenResponse(m,D,M),ne=el(D);return new sr({user:O,providerId:ne,_tokenResponse:D,operationType:_})})()}static _forOperation(m,_,D){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(D,!0);const M=el(D);return new sr({user:m,providerId:M,_tokenResponse:D,operationType:_})})()}}function el(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function nu(b){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(b){var m;const _=Jn(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new sr({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield rp(_,{returnSecureToken:!0}),M=yield sr._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ul extends V.ZR{constructor(m,_,D,M){var O;super(_.code,_.message),this.operationType=D,this.user=M,Object.setPrototypeOf(this,Ul.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,_,D,M){return new Ul(m,_,D,M)}}function zd(b,m,_,D){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ul._fromErrorAndOperation(b,O,m,D):O})}function Js(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Io(b,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(b,m){const _=(0,V.m9)(b);yield eo(!0,_,m);const{providerUserInfo:D}=yield xn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Js(D||[]);return _.providerData=_.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function So(b,m){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(b,m,_=!1){const D=yield Ei(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return sr._forOperation(b,"link",D)})).apply(this,arguments)}function eo(b,m,_){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(b,m,_){yield Is(m);const M=!1===b?"provider-already-linked":"no-such-provider";J(Js(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function il(b,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.Z)(function*(b,m,_=!1){const{auth:D}=b,M="reauthenticate";try{const O=yield Ei(b,zd(D,M,m,b),_);J(O.idToken,D,"internal-error");const ne=ct(O.idToken);J(ne,D,"internal-error");const{sub:Se}=ne;return J(b.uid===Se,D,"user-mismatch"),sr._forOperation(b,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&Me(D,"user-mismatch"),O}})).apply(this,arguments)}function fa(b,m){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(b,m,_=!1){const D="signIn",M=yield zd(b,D,m),O=yield sr._fromIdTokenResponse(b,D,M);return _||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Ui(b,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(b,m){return fa(Jn(b),m)})).apply(this,arguments)}function Hl(b,m){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(b,m){const _=(0,V.m9)(b);return yield eo(!1,_,m.providerId),So(_,m)})).apply(this,arguments)}function jl(b,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(b,m){return il((0,V.m9)(b),m)})).apply(this,arguments)}function ii(b,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(b,m){return Tn(b,"POST","/v1/accounts:signInWithCustomToken",Xt(b,m))})).apply(this,arguments)}function sl(b,m){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(b,m){const _=Jn(b),D=yield ii(_,{token:m,returnSecureToken:!0}),M=yield sr._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Gn{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?ol._fromServerResponse(m,_):Me(m,"internal-error")}}class ol extends Gn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new ol(_)}}function no(b,m,_){var D;J((null===(D=_.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),J(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(J(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(J(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function $d(b,m,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&no(D,M,_),yield Za(D,M)})).apply(this,arguments)}function zl(b,m,_){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(b,m,_){yield hi((0,V.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Rt(b,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(b,m){yield Ze((0,V.m9)(b),{oobCode:m})})).apply(this,arguments)}function Gd(b,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(b,m){const _=(0,V.m9)(b),D=yield hi(_,{oobCode:m}),M=D.requestType;switch(J(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(D.mfaInfo,_,"internal-error");default:J(D.email,_,"internal-error")}let O=null;return D.mfaInfo&&(O=Gn._fromServerResponse(Jn(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function qd(b,m){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(b,m){const{data:_}=yield Gd((0,V.m9)(b),m);return _.email})).apply(this,arguments)}function iu(b,m,_){return $l.apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(b,m,_){const D=Jn(b),M=yield rp(D,{returnSecureToken:!0,email:m,password:_}),O=yield sr._fromIdTokenResponse(D,"signIn",M);return yield D._updateCurrentUser(O.user),O})).apply(this,arguments)}function Wd(b,m,_){return Ui((0,V.m9)(b),Ja.credential(m,_))}function _e(b,m,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};J(_.handleCodeInApp,D,"argument-error"),_&&no(D,M,_),yield Bt(D,M)})).apply(this,arguments)}function Yd(b,m){return"EMAIL_SIGNIN"===ni.parseLink(m)?.operation}function ru(b,m,_){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b),M=Ja.credentialWithLink(m,_||Fe());return J(M._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ui(D,M)})).apply(this,arguments)}function Gl(b,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:createAuthUri",Xt(b,m))})).apply(this,arguments)}function Cr(b,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(b,m){const D={identifier:m,continueUri:Ve()?Fe():"http://localhost"},{signinMethods:M}=yield Gl((0,V.m9)(b),D);return M||[]})).apply(this,arguments)}function su(b,m){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(b,m){const _=(0,V.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&no(_.auth,M,m);const{email:O}=yield wr(_.auth,M);O!==b.email&&(yield b.reload())})).apply(this,arguments)}function Zd(b,m,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&no(D.auth,O,_);const{email:ne}=yield Co(D.auth,O);ne!==b.email&&(yield b.reload())})).apply(this,arguments)}function pi(b,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Po(b,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const D=(0,V.m9)(b),O={idToken:yield D.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ne=yield Ei(D,pi(D.auth,O));D.displayName=ne.displayName||null,D.photoURL=ne.photoUrl||null;const Se=D.providerData.find(({providerId:Ye})=>"password"===Ye);Se&&(Se.displayName=D.displayName,Se.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ne)})).apply(this,arguments)}function Ts(b,m){return No((0,V.m9)(b),m,null)}function ou(b,m){return No((0,V.m9)(b),null,m)}function No(b,m,_){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(b,m,_){const{auth:D}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(O.email=m),_&&(O.password=_);const ne=yield Ei(b,Ci(D,O));yield b._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Ms{constructor(m,_,D={}){this.isNewUser=m,this.providerId=_,this.profile=D}}class _a extends Ms{constructor(m,_,D,M){super(m,_,D),this.username=M}}class Qd extends Ms{constructor(m,_){super(m,"facebook.com",_)}}class Wl extends _a{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class au extends Ms{constructor(m,_){super(m,"google.com",_)}}class Xd extends _a{constructor(m,_,D){super(m,"twitter.com",_,D)}}function ll(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Kd(b){var m,_;if(!b)return null;const{providerId:D}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&b?.idToken){const ne=null===(_=null===(m=ct(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ne)return new Ms(O,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!D)return null;switch(D){case"facebook.com":return new Qd(O,M);case"github.com":return new Wl(O,M);case"google.com":return new au(O,M);case"twitter.com":return new Xd(O,M,b.screenName||null);case"custom":case"anonymous":return new Ms(O,null);default:return new Ms(O,D,M)}}(_)}class an{constructor(m,_,D){this.type=m,this.credential=_,this.auth=D}static _fromIdtoken(m,_){return new an("enroll",m,_)}static _fromMfaPendingCredential(m){return new an("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,D;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return an._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(D=m.multiFactorSession)&&void 0!==D&&D.idToken)return an._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Yl{constructor(m,_,D){this.session=m,this.hints=_,this.signInResolver=D}static _fromError(m,_){const D=Jn(m),M=_.customData._serverResponse,O=(M.mfaInfo||[]).map(Se=>Gn._fromServerResponse(D,Se));J(M.mfaPendingCredential,D,"internal-error");const ne=an._fromMfaPendingCredential(M.mfaPendingCredential);return new Yl(ne,O,function(){var Se=(0,c.Z)(function*(Ye){const et=yield Ye._process(D,ne);delete M.mfaInfo,delete M.mfaPendingCredential;const Lt=Object.assign(Object.assign({},M),{idToken:et.idToken,refreshToken:et.refreshToken});switch(_.operationType){case"signIn":const yn=yield sr._fromIdTokenResponse(D,_.operationType,Lt);return yield D._updateCurrentUser(yn.user),yn;case"reauthenticate":return J(_.user,D,"internal-error"),sr._forOperation(_.user,_.operationType,Lt);default:Me(D,"internal-error")}});return function(Ye){return Se.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function Jd(b,m){var _;const D=(0,V.m9)(b),M=m;return J(m.customData.operationType,D,"argument-error"),J(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),Yl._fromError(D,M)}function ri(b,m){return yt(b,"POST","/v2/accounts/mfaEnrollment:start",Xt(b,m))}class uu{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>Gn._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new uu(m)}getSession(){var m=this;return(0,c.Z)(function*(){return an._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var D=this;return(0,c.Z)(function*(){const M=m,O=yield D.getSession(),ne=yield Ei(D.user,M._process(D.user.auth,O,_));return yield D.user._updateTokensIfNecessary(ne),D.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const D="string"==typeof m?m:m.uid,M=yield _.user.getIdToken();try{const O=yield Ei(_.user,function cp(b,m){return yt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(b,m))}(_.user.auth,{idToken:M,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ne})=>ne!==D),yield _.user._updateTokensIfNecessary(O),yield _.user.reload()}catch(O){throw O}})()}}const ya=new WeakMap;function Fo(b){const m=(0,V.m9)(b);return ya.has(m)||ya.set(m,uu._fromUser(m)),ya.get(m)}const os="__sak";class $r{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ji=(()=>{class b extends $r{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function du(){const b=(0,V.z$)();return oe(b)||wn(b)}()&&function Xf(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=As(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const M=this.storage.getItem(D),O=this.localCache[D];M!==O&&_(D,O,M)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((Se,Ye,et)=>{this.notifyListeners(Se,et)});const M=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(M);if(_.newValue!==Se)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!D)return}const O=()=>{const Se=this.storage.getItem(M);!D&&this.localCache[M]===Se||this.notifyListeners(M,Se)},ne=this.storage.getItem(M);!function zn(){return(0,V.w1)()&&10===document.documentMode}()||ne===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,D){this.localCache[_]=D;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var M=()=>super._set,O=this;return(0,c.Z)(function*(){yield M().call(O,_,D),O.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,M=this;return(0,c.Z)(function*(){const O=yield D().call(M,_);return M.localCache[_]=JSON.stringify(O),O})()}_remove(_){var D=()=>super._remove,M=this;return(0,c.Z)(function*(){yield D().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),ba=(()=>{class b extends $r{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return b.type="SESSION",b})();let wa=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(O=>O.isListeningto(_));if(D)return D;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,c.Z)(function*(){const M=_,{eventId:O,eventType:ne,data:Se}=M.data,Ye=D.handlersMap[ne];if(!Ye?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:ne});const et=Array.from(Ye).map(function(){var yn=(0,c.Z)(function*(lr){return lr(M.origin,Se)});return function(lr){return yn.apply(this,arguments)}}()),Lt=yield function up(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return m.apply(this,arguments)}}()))}(et);M.ports[0].postMessage({status:"done",eventId:O,eventType:ne,response:Lt})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ks(b="",m=10){let _="";for(let D=0;D<m;D++)_+=Math.floor(10*Math.random());return b+_}class th{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,D=50){var M=this;return(0,c.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let ne,Se;return new Promise((Ye,et)=>{const Lt=ks("",20);O.port1.start();const yn=setTimeout(()=>{et(new Error("unsupported_event"))},D);Se={messageChannel:O,onMessage(lr){const mi=lr;if(mi.data.eventId===Lt)switch(mi.data.status){case"ack":clearTimeout(yn),ne=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Ye(mi.data.response);break;default:clearTimeout(yn),clearTimeout(ne),et(new Error("invalid_response"))}}},M.handlers.add(Se),O.port1.addEventListener("message",Se.onMessage),M.target.postMessage({eventType:m,eventId:Lt,data:_},[O.port2])}).finally(()=>{Se&&M.removeMessageHandler(Se)})})()}}function An(){return window}function so(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function xr(){return(xr=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ea="firebaseLocalStorageDb",oo="firebaseLocalStorage",Vo="fbase_key";class Gr{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Bo(b,m){return b.transaction([oo],m?"readwrite":"readonly").objectStore(oo)}function Rs(){const b=indexedDB.open(Ea,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(oo,{keyPath:Vo})}catch(M){_(M)}}),b.addEventListener("success",(0,c.Z)(function*(){const D=b.result;D.objectStoreNames.contains(oo)?m(D):(D.close(),yield function Ca(){const b=indexedDB.deleteDatabase(Ea);return new Gr(b).toPromise()}(),m(yield Rs()))}))})}function hu(b,m,_){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(b,m,_){const D=Bo(b,!0).put({[Vo]:m,value:_});return new Gr(D).toPromise()})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(b,m){const _=Bo(b,!1).get(m),D=yield new Gr(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Uo(b,m){const _=Bo(b,!0).delete(m);return new Gr(_).toPromise()}const ul=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield Rs()),_.db})()}_withRetries(_){var D=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const O=yield D._openDb();return yield _(O)}catch(O){if(M++>3)throw O;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return so()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=wa._getInstance(function Kl(){return so()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,c.Z)(function*(M,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(M,O){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,c.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var D,M;if(_.activeServiceWorker=yield function Da(){return xr.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new th(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);O&&null!==(D=O[0])&&void 0!==D&&D.fulfilled&&null!==(M=O[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,c.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Zl(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Rs();return yield hu(_,os,"1"),yield Uo(_,os),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,c.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(O=>hu(O,_,D)),M.localCache[_]=D,M.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,c.Z)(function*(){const M=yield D._withRetries(O=>function fu(b,m){return Os.apply(this,arguments)}(O,_));return D.localCache[_]=M,M})()}_remove(_){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(M=>Uo(M,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const D=yield _._withRetries(ne=>{const Se=Bo(ne,!1).getAll();return new Gr(Se).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:ne,value:Se}of D)O.add(ne),JSON.stringify(_.localCache[ne])!==JSON.stringify(Se)&&(_.notifyListeners(ne,Se),M.push(ne));for(const ne of Object.keys(_.localCache))_.localCache[ne]&&!O.has(ne)&&(_.notifyListeners(ne,null),M.push(ne));return M})()}notifyListeners(_,D){this.localCache[_]=D;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function mu(b,m){return yt(b,"POST","/v2/accounts/mfaSignIn:start",Xt(b,m))}function Ir(){return(Ir=(0,c.Z)(function*(b){return(yield yt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ia(b){return new Promise((m,_)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=m,D.onerror=M=>{const O=Ne("internal-error");O.customData=M,_(O)},D.type="text/javascript",D.charset="UTF-8",function Jl(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(D)})}function Ar(b){return`__${b}${Math.floor(1e6*Math.random())}`}const zi=1e12;class Ps{constructor(m){this.auth=m,this.counter=zi,this._widgets=new Map}render(m,_){const D=this.counter;return this._widgets.set(D,new ih(m,this.auth.name,_||{})),this.counter++,D}reset(m){var _;const D=m||zi;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(m){var _;return(null===(_=this._widgets.get(m||zi))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var D;return null===(D=_._widgets.get(m||zi))||void 0===D||D.execute(),""})()}}class ih{constructor(m,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;J(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function tc(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<b;D++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jo=Ar("rcb"),_u=new It(3e4,6e4);class nc{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=An().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return J(function ao(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(An().grecaptcha):new Promise((D,M)=>{const O=An().setTimeout(()=>{M(Ne(m,"network-request-failed"))},_u.get());An()[jo]=()=>{An().clearTimeout(O),delete An()[jo];const Se=An().grecaptcha;if(!Se)return void M(Ne(m,"internal-error"));const Ye=Se.render;Se.render=(et,Lt)=>{const yn=Ye(et,Lt);return this.counter++,yn},this.hostLanguage=_,D(Se)},Ia(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:jo,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),M(Ne(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=An().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Aa{load(m){return(0,c.Z)(function*(){return new Ps(m)})()}clearedOneInstance(){}}const lo="recaptcha",sh={theme:"light",type:"image"};class yu{constructor(m,_=Object.assign({},sh),D){this.parameters=_,this.type=lo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jn(D),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;J(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Aa:new nc,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(_)||new Promise(O=>{const ne=Se=>{Se&&(m.tokenChangeListeners.delete(ne),O(Se))};m.tokenChangeListeners.add(ne),m.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof m)m(_);else if("string"==typeof m){const D=An()[m];"function"==typeof D&&D(_)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){J(Ve()&&!so(),m.auth,"internal-error"),yield function dl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function nh(b){return Ir.apply(this,arguments)}(m.auth);J(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oh{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=ts._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function ah(b,m,_){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(b,m,_){const D=Jn(b),M=yield wu(D,m,(0,V.m9)(_));return new oh(M,O=>Ui(D,O))})).apply(this,arguments)}function lh(b,m,_){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b);yield eo(!1,D,"phone");const M=yield wu(D.auth,m,(0,V.m9)(_));return new oh(M,O=>Hl(D,O))})).apply(this,arguments)}function bu(b,m,_){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b),M=yield wu(D.auth,m,(0,V.m9)(_));return new oh(M,O=>jl(D,O))})).apply(this,arguments)}function wu(b,m,_){return ch.apply(this,arguments)}function ch(){return(ch=(0,c.Z)(function*(b,m,_){var D;const M=yield _.verify();try{let O;if(J("string"==typeof M,b,"argument-error"),J(_.type===lo,b,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const ne=O.session;if("phoneNumber"in O)return J("enroll"===ne.type,b,"internal-error"),(yield ri(b,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{J("signin"===ne.type,b,"internal-error");const Se=(null===(D=O.multiFactorHint)||void 0===D?void 0:D.uid)||O.multiFactorUid;return J(Se,b,"missing-multi-factor-info"),(yield mu(b,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Vl(b,{phoneNumber:O.phoneNumber,recaptchaToken:M});return ne}}finally{_._reset()}})).apply(this,arguments)}function Rg(b,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(b,m){yield So((0,V.m9)(b),m)})).apply(this,arguments)}let Og=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Jn(_)}verifyPhoneNumber(_,D){return wu(this.auth,_,(0,V.m9)(D))}static credential(_,D){return ts._fromVerification(_,D)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:M}=_;return D&&M?ts._fromTokenResponse(D,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Sa(b,m){return m?X(m):(J(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Rn extends _n{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Qi(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Qi(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Qi(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Du(b){return fa(b.auth,new Rn(b),b.bypassAuthState)}function hl(b){const{auth:m,user:_}=b;return J(_,m,"internal-error"),il(_,new Rn(b),b.bypassAuthState)}function rc(b){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return J(_,m,"internal-error"),So(_,new Rn(b),b.bypassAuthState)})).apply(this,arguments)}class as{constructor(m,_,D,M,O=!1){this.auth=m,this.resolver=D,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(D,M){m.pendingPromise={resolve:D,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(D,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:D,sessionId:M,postBody:O,tenantId:ne,error:Se,type:Ye}=m;if(Se)return void _.reject(Se);const et={auth:_.auth,requestUri:D,sessionId:M,tenantId:ne||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ye)(et))}catch(Lt){_.reject(Lt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Du;case"linkViaPopup":case"linkViaRedirect":return rc;case"reauthViaPopup":case"reauthViaRedirect":return hl;default:Me(this.auth,"internal-error")}}resolve(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sc=new It(2e3,1e4);function Ta(b,m,_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(b,m,_){const D=Jn(b);Ae(b,m,ns);const M=Sa(D,_);return new $i(D,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Eu(b,m,_){return dp.apply(this,arguments)}function dp(){return(dp=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b);Ae(D.auth,m,ns);const M=Sa(D.auth,_);return new $i(D.auth,"reauthViaPopup",m,M,D).executeNotNull()})).apply(this,arguments)}function Pg(b,m,_){return uh.apply(this,arguments)}function uh(){return(uh=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b);Ae(D.auth,m,ns);const M=Sa(D.auth,_);return new $i(D.auth,"linkViaPopup",m,M,D).executeNotNull()})).apply(this,arguments)}let $i=(()=>{class b extends as{constructor(_,D,M,O,ne){super(_,D,O,ne),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const D=yield _.execute();return J(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,c.Z)(function*(){we(1===_.filter.length,"Popup operations only handle one event");const D=ks();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Ne(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,M;this.pollId=null!==(M=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,sc.get())};_()}}return b.currentPopupAction=null,b})();const Si=new Map;class ls extends as{constructor(m,_,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let D=Si.get(_.auth._key());if(!D){try{const O=(yield function pl(b,m){return co.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;D=()=>Promise.resolve(O)}catch(M){D=()=>Promise.reject(M)}Si.set(_.auth._key(),D)}return _.bypassAuthState||Si.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,D=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(D,m);if("unknown"!==m.type){if(m.eventId){const M=yield D.auth._redirectUserForId(m.eventId);if(M)return D.user=M,_().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function co(){return(co=(0,c.Z)(function*(b,m){const _=cs(m),D=Cu(b);if(!(yield D._isAvailable()))return!1;const M="true"===(yield D._get(_));return yield D._remove(_),M})).apply(this,arguments)}function Fs(b,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(b,m){return Cu(b)._set(cs(m),"true")})).apply(this,arguments)}function si(){Si.clear()}function oc(b,m){Si.set(b._key(),m)}function Cu(b){return X(b._redirectPersistence)}function cs(b){return z("pendingRedirect",b.config.apiKey,b.name)}function ac(b,m,_){return function lc(b,m,_){return Ma.apply(this,arguments)}(b,m,_)}function Ma(){return(Ma=(0,c.Z)(function*(b,m,_){const D=Jn(b);Ae(b,m,ns),yield D._initializationPromise;const M=Sa(D,_);return yield Fs(M,D),M._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function x(b,m,_){return function I(b,m,_){return k.apply(this,arguments)}(b,m,_)}function k(){return(k=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b);Ae(D.auth,m,ns),yield D.auth._initializationPromise;const M=Sa(D.auth,_);yield Fs(M,D.auth);const O=yield Ft(D);return M._openRedirect(D.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function L(b,m,_){return function Q(b,m,_){return re.apply(this,arguments)}(b,m,_)}function re(){return(re=(0,c.Z)(function*(b,m,_){const D=(0,V.m9)(b);Ae(D.auth,m,ns),yield D.auth._initializationPromise;const M=Sa(D.auth,_);yield eo(!1,D,m.providerId),yield Fs(M,D.auth);const O=yield Ft(D);return M._openRedirect(D.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function Re(b,m){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(b,m){return yield Jn(b)._initializationPromise,ot(b,m,!1)})).apply(this,arguments)}function ot(b,m){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(b,m,_=!1){const D=Jn(b),M=Sa(D,m),ne=yield new ls(D,M,_).execute();return ne&&!_&&(delete ne.user._redirectEventId,yield D._persistUserIfCurrent(ne.user),yield D._setRedirectUser(null,m)),ne})).apply(this,arguments)}function Ft(b){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(b){const m=ks(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Nn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(_=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ra(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cc(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var D;if(m.error&&!cc(m)){const M=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Ne(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const D=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ka(m))}saveEventToCache(m){this.cachedEventUids.add(ka(m)),this.lastProcessedEventTime=Date.now()}}function ka(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function cc({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function or(b){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(b,m={}){return yt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hp=/^https?/;function xu(){return(xu=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield or(b);for(const _ of m)try{if(Tb(_))return}catch{}Me(b,"unauthorized-domain")})).apply(this,arguments)}function Tb(b){const m=Fe(),{protocol:_,hostname:D}=new URL(m);if(b.startsWith("chrome-extension://")){const ne=new URL(b);return""===ne.hostname&&""===D?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ne.hostname===D}if(!hp.test(_))return!1;if(Oa.test(b))return D===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(D)}const fp=new It(3e4,6e4);function Fg(){const b=An().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Iu=null;function dh(b){return Iu=Iu||function Lg(b){return new Promise((m,_)=>{var D,M,O;function ne(){Fg(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Fg(),_(Ne(b,"network-request-failed"))},timeout:fp.get()})}if(null!==(M=null===(D=An().gapi)||void 0===D?void 0:D.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(O=An().gapi)||void 0===O||!O.load){const Se=Ar("iframefcb");return An()[Se]=()=>{gapi.load?ne():_(Ne(b,"network-request-failed"))},Ia(`https://apis.google.com/js/api.js?onload=${Se}`).catch(Ye=>_(Ye))}ne()}}).catch(m=>{throw Iu=null,m})}(b),Iu}const Mb=new It(5e3,15e3),Rb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ob=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pb(b){const m=b.config;J(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?zt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,D={apiKey:m.apiKey,appName:b.name,v:G.SDK_VERSION},M=Ob.get(b.config.apiHost);M&&(D.eid=M);const O=b._getFrameworks();return O.length&&(D.fw=O.join(",")),`${_}?${(0,V.xO)(D).slice(1)}`}function pp(){return pp=(0,c.Z)(function*(b){const m=yield dh(b),_=An().gapi;return J(_,b,"internal-error"),m.open({where:document.body,url:Pb(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rb,dontclear:!0},D=>new Promise(function(){var M=(0,c.Z)(function*(O,ne){yield D.restyle({setHideOnLeave:!1});const Se=Ne(b,"network-request-failed"),Ye=An().setTimeout(()=>{ne(Se)},Mb.get());function et(){An().clearTimeout(Ye),O(D)}D.ping(et).then(et,()=>{ne(Se)})});return function(O,ne){return M.apply(this,arguments)}}()))}),pp.apply(this,arguments)}const Vg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uc(b,m,_,D,M,O){J(b.config.authDomain,b,"auth-domain-config-required"),J(b.config.apiKey,b,"invalid-api-key");const ne={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:D,v:G.SDK_VERSION,eventId:M};if(m instanceof ns){m.setDefaultLanguage(b.languageCode),ne.providerId=m.providerId||"",(0,V.xb)(m.getCustomParameters())||(ne.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Ye,et]of Object.entries(O||{}))ne[Ye]=et}if(m instanceof xo){const Ye=m.getScopes().filter(et=>""!==et);Ye.length>0&&(ne.scopes=Ye.join(","))}b.tenantId&&(ne.tid=b.tenantId);const Se=ne;for(const Ye of Object.keys(Se))void 0===Se[Ye]&&delete Se[Ye];return`${function dc({config:b}){return b.emulator?zt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,V.xO)(Se).slice(1)}`}const hc="webStorageSupport",ar=class gh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ba,this._completeRedirectFn=ot,this._overrideRedirectResult=oc}_openPopup(m,_,D,M){var O=this;return(0,c.Z)(function*(){var ne;we(null===(ne=O.eventManagers[m._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Se=uc(m,_,D,Fe(),M);return function Ls(b,m,_,D=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),ne=Math.max((window.screen.availWidth-D)/2,0).toString();let Se="";const Ye=Object.assign(Object.assign({},Vg),{width:D.toString(),height:M.toString(),top:O,left:ne}),et=(0,V.z$)().toLowerCase();_&&(Se=nt(et)?"_blank":_),ve(et)&&(m=m||"http://localhost",Ye.scrollbars="yes");const Lt=Object.entries(Ye).reduce((lr,[mi,Pa])=>`${lr}${mi}=${Pa},`,"");if(function br(b=(0,V.z$)()){var m;return wn(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(et)&&"_self"!==Se)return function Ug(b,m){const _=document.createElement("a");_.href=b,_.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(m||"",Se),new ph(null);const yn=window.open(m||"",Se,Lt);J(yn,b,"popup-blocked");try{yn.focus()}catch{}return new ph(yn)}(m,Se,ks())})()}_openRedirect(m,_,D,M){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(m),function ro(b){An().location.href=b}(uc(m,_,D,Fe(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:O}=this.eventManagers[_];return M?Promise.resolve(M):(we(O,"If manager is not set, promise should be"),O)}const D=this.initAndGetManager(m);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const D=yield function Nb(b){return pp.apply(this,arguments)}(m),M=new Nn(m);return D.register("authEvent",O=>(J(O?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=D,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(hc,{type:hc},M=>{var O;const ne=null===(O=M?.[0])||void 0===O?void 0:O[hc];void 0!==ne&&_(!!ne),Me(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ng(b){return xu.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return As()||oe()||wn()}};class _h{constructor(m){this.factorId=m}_process(m,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,D);case"signin":return this._finalizeSignIn(m,_.credential);default:return ue("unexpected MultiFactorSessionType")}}}class fc extends _h{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new fc(m)}_finalizeEnroll(m,_,D){return function eh(b,m){return yt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(b,m))}(m,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Ho(b,m){return yt(b,"POST","/v2/accounts/mfaSignIn:finalize",Xt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _p=(()=>{class b{constructor(){}static assertion(_){return fc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Gi="@firebase/auth";class Hg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(D=>{m(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function On(b){(0,G._registerComponent)(new ee.wA("auth",(m,{options:_})=>{const D=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:O,authDomain:ne}=D.options;return((Se,Ye)=>{J(O&&!O.includes(":"),"invalid-api-key",{appName:Se.name}),J(!ne?.includes(":"),"argument-error",{appName:Se.name});const et={apiKey:O,authDomain:ne,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wo(b)},Lt=new Fl(Se,Ye,et);return function se(b,m){const _=m?.persistence||[],D=(Array.isArray(_)?_:[_]).map(X);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(D,m?.popupRedirectResolver)}(Lt,_),Lt})(D,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,D)=>{m.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new ee.wA("auth-internal",m=>{const _=Jn(m.getProvider("auth").getImmediate());return new Hg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Gi,"0.21.4",function yh(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,G.registerVersion)(Gi,"0.21.4","esm2017")}("Browser")},2090:(st,Ce,P)=>{P.d(Ce,{$s:()=>mt,BH:()=>Ae,G6:()=>nn,L:()=>me,LL:()=>li,P0:()=>Me,Pz:()=>ke,Sg:()=>He,UG:()=>we,US:()=>ee,ZB:()=>K,ZR:()=>Zt,aH:()=>Ne,b$:()=>de,eu:()=>It,hl:()=>pn,jU:()=>Y,m9:()=>jn,ne:()=>Tt,pd:()=>ui,r3:()=>ci,ru:()=>X,tV:()=>j,uI:()=>ue,vZ:()=>Di,w1:()=>Fe,xO:()=>Zi,xb:()=>Br,z$:()=>J,zI:()=>zt,zd:()=>Qn});const ce=function(z){const B=[];let W=0;for(let ve=0;ve<z.length;ve++){let oe=z.charCodeAt(ve);oe<128?B[W++]=oe:oe<2048?(B[W++]=oe>>6|192,B[W++]=63&oe|128):55296==(64512&oe)&&ve+1<z.length&&56320==(64512&z.charCodeAt(ve+1))?(oe=65536+((1023&oe)<<10)+(1023&z.charCodeAt(++ve)),B[W++]=oe>>18|240,B[W++]=oe>>12&63|128,B[W++]=oe>>6&63|128,B[W++]=63&oe|128):(B[W++]=oe>>12|224,B[W++]=oe>>6&63|128,B[W++]=63&oe|128)}return B},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,B){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let oe=0;oe<z.length;oe+=3){const nt=z[oe],gt=oe+1<z.length,Kt=gt?z[oe+1]:0,Et=oe+2<z.length,bn=Et?z[oe+2]:0;let br=(15&Kt)<<2|bn>>6,zn=63&bn;Et||(zn=64,gt||(br=64)),ve.push(W[nt>>2],W[(3&nt)<<4|Kt>>4],W[br],W[zn])}return ve.join("")},encodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(z):this.encodeByteArray(ce(z),B)},decodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(z):function(z){const B=[];let W=0,ve=0;for(;W<z.length;){const oe=z[W++];if(oe<128)B[ve++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const nt=z[W++];B[ve++]=String.fromCharCode((31&oe)<<6|63&nt)}else if(oe>239&&oe<365){const Et=((7&oe)<<18|(63&z[W++])<<12|(63&z[W++])<<6|63&z[W++])-65536;B[ve++]=String.fromCharCode(55296+(Et>>10)),B[ve++]=String.fromCharCode(56320+(1023&Et))}else{const nt=z[W++],gt=z[W++];B[ve++]=String.fromCharCode((15&oe)<<12|(63&nt)<<6|63&gt)}}return B.join("")}(this.decodeStringToByteArray(z,B))},decodeStringToByteArray(z,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let oe=0;oe<z.length;){const nt=W[z.charAt(oe++)],Kt=oe<z.length?W[z.charAt(oe)]:0;++oe;const bn=oe<z.length?W[z.charAt(oe)]:64;++oe;const Jt=oe<z.length?W[z.charAt(oe)]:64;if(++oe,null==nt||null==Kt||null==bn||null==Jt)throw new be;ve.push(nt<<2|Kt>>4),64!==bn&&(ve.push(Kt<<4&240|bn>>2),64!==Jt&&ve.push(bn<<6&192|Jt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(z){return function(z){const B=ce(z);return ee.encodeByteArray(B,!0)}(z).replace(/\./g,"")},j=function(z){try{return ee.decodeString(z,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function K(z,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Ue(W)||(z[W]=K(z[W],B[W]));return z}function Ue(z){return"__proto__"!==z}const xe=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=z&&j(z[1]);return B&&JSON.parse(B)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Me=z=>{const B=(z=>{var B,W;return null===(W=null===(B=xe())||void 0===B?void 0:B.emulatorHosts)||void 0===W?void 0:W[z]})(z);if(!B)return;const W=B.lastIndexOf(":");if(W<=0||W+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const ve=parseInt(B.substring(W+1),10);return"["===B[0]?[B.substring(1,W-1),ve]:[B.substring(0,W),ve]},Ne=()=>{var z;return null===(z=xe())||void 0===z?void 0:z.config},ke=z=>{var B;return null===(B=xe())||void 0===B?void 0:B[`_${z}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,ve)=>{W?this.reject(W):this.resolve(ve),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,ve))}}}function He(z,B){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=B||"demo-project",oe=z.iat||0,nt=z.sub||z.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:oe,exp:oe+3600,auth_time:oe,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},z);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(gt)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function we(){var z;const B=null===(z=xe())||void 0===z?void 0:z.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Y(){return"object"==typeof self&&self.self===self}function X(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const z=J();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function nn(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pn(){try{return"object"==typeof indexedDB}catch{return!1}}function It(){return new Promise((z,B)=>{try{let W=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ve);oe.onsuccess=()=>{oe.result.close(),W||self.indexedDB.deleteDatabase(ve),z(!0)},oe.onupgradeneeded=()=>{W=!1},oe.onerror=()=>{var nt;B((null===(nt=oe.error)||void 0===nt?void 0:nt.message)||"")}}catch(W){B(W)}})}function zt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Zt extends Error{constructor(B,W,ve){super(W),this.code=B,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,li.prototype.create)}}class li{constructor(B,W,ve){this.service=B,this.serviceName=W,this.errors=ve}create(B,...W){const ve=W[0]||{},oe=`${this.service}/${B}`,nt=this.errors[B],gt=nt?function Xt(z,B){return z.replace(yt,(W,ve)=>{const oe=B[ve];return null!=oe?String(oe):`<${ve}?>`})}(nt,ve):"Error";return new Zt(oe,`${this.serviceName}: ${gt} (${oe}).`,ve)}}const yt=/\{\$([^}]+)}/g;function ci(z,B){return Object.prototype.hasOwnProperty.call(z,B)}function Br(z){for(const B in z)if(Object.prototype.hasOwnProperty.call(z,B))return!1;return!0}function Di(z,B){if(z===B)return!0;const W=Object.keys(z),ve=Object.keys(B);for(const oe of W){if(!ve.includes(oe))return!1;const nt=z[oe],gt=B[oe];if(ht(nt)&&ht(gt)){if(!Di(nt,gt))return!1}else if(nt!==gt)return!1}for(const oe of ve)if(!W.includes(oe))return!1;return!0}function ht(z){return null!==z&&"object"==typeof z}function Zi(z){const B=[];for(const[W,ve]of Object.entries(z))Array.isArray(ve)?ve.forEach(oe=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(oe))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(ve));return B.length?"&"+B.join("&"):""}function Qn(z){const B={};return z.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[oe,nt]=ve.split("=");B[decodeURIComponent(oe)]=decodeURIComponent(nt)}}),B}function ui(z){const B=z.indexOf("?");if(!B)return"";const W=z.indexOf("#",B);return z.substring(B,W>0?W:void 0)}function Tt(z,B){const W=new ct(z,B);return W.subscribe.bind(W)}class ct{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(ve=>{this.error(ve)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,ve){let oe;if(void 0===B&&void 0===W&&void 0===ve)throw new Error("Missing Observer.");oe=function Ei(z,B){if("object"!=typeof z||null===z)return!1;for(const W of B)if(W in z&&"function"==typeof z[W])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:W,complete:ve},void 0===oe.next&&(oe.next=Hn),void 0===oe.error&&(oe.error=Hn),void 0===oe.complete&&(oe.complete=Hn);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),nt}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}function mt(z,B=1e3,W=2){const ve=B*Math.pow(W,z),oe=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+oe)}function jn(z){return z&&z._delegate?z._delegate:z}},9282:(st,Ce,P)=>{var c=P(4650);let V=null;function G(){return V}class ae{}const ee=new c.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const me=new c.OlP("Location Initialized");let j=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(t){const i=G().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=G().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){$()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){$()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function K(){return new j((0,c.LFG)(ee))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let tt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(xe)},providedIn:"root"}),n})();const ge=new c.OlP("appBaseHref");let xe=(()=>{class n extends tt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+$e(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+$e(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+$e(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(be),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends tt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ue(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let u=this.prepareExternalUrl(r+$e(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){let u=this.prepareExternalUrl(r+$e(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(be),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function He(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(Ae(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$e(i))}normalize(t){return n.stripTrailingSlash(function ke(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,Ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Ue,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(c.LFG(tt))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ne(){return new Me((0,c.LFG)(tt))}()},providedIn:"root"}),n})();function Ae(n){return n.replace(/\/index.html$/,"")}function Ci(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const Ki=/\s+/,Ze=[];let At=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Ze,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ki):Ze}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ki):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Ki).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $n{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new $n(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const f=i.get(o);i.move(f,u),mn(f,r)}});for(let r=0,o=i.length;r<o;r++){const f=i.get(r).context;f.index=r,f.count=o,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{mn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function mn(n,e){n.context.$implicit=e.item}let ir=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){la("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){la("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bt{constructor(){this.$implicit=null,this.ngIf=null}}function la(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Co{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ks=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Dr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Co(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ks,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ca=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),Xs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const sr="browser";let So=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new nl((0,c.LFG)(ee),window)}),n})();class nl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function To(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=eo(this.window.history)||eo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function eo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class rl{}class Fo extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class os extends Fo{static makeCurrent(){!function ce(n){V||(V=n)}(new os)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function du(){return $r=$r||document.querySelector("base"),$r?$r.getAttribute("href"):null}();return null==t?null:function Lo(n){cl=cl||document.createElement("a"),cl.setAttribute("href",n);const e=cl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$r=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ci(document.cookie,e)}}let cl,$r=null;const va=new c.OlP("TRANSITION_ID"),kg=[{provide:c.ip1,useFactory:function ji(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=G(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[va,ee,c.zs3],multi:!0}];let up=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wa=new c.OlP("EventManagerPlugins");let ks=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wa),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class th{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=G().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let An=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ro=(()=>{class n extends An{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(so),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(so))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function so(n){G().remove(n)}const Da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xr=/%COMP%/g;function Gr(n,e){return e.flat(100).map(t=>t.replace(xr,n))}function Bo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ca=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Rs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Os(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case c.ifc.ShadowDom:return new Uo(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gr(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ks),c.LFG(ro),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Rs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Da[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(fu(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(fu(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Da[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Da[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bo(i)):this.eventManager.addEventListener(e,t,Bo(i))}}function fu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Os extends Rs{constructor(e,t,i,r){super(e),this.component=i;const o=Gr(r+"-"+i.id,i.styles);t.addStyles(o),this.contentAttr=function oo(n){return"_ngcontent-%COMP%".replace(xr,n)}(r+"-"+i.id),this.hostAttr=function Vo(n){return"_nghost-%COMP%".replace(xr,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Uo extends Rs{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Gr(r.id,r.styles);for(let u=0;u<o.length;u++){const f=document.createElement("style");f.textContent=o[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Xl=(()=>{class n extends th{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xa=["alt","control","meta","shift"],pu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ul={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let mu=(()=>{class n extends th{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),xa.forEach(v=>{const C=i.indexOf(v);C>-1&&(i.splice(C,1),u+=v+".")}),u+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(t,i){let r=pu[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),xa.forEach(u=>{u!==r&&(0,ul[u])(t)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:sr},{provide:c.g9A,useValue:function Ar(){os.makeCurrent()},multi:!0},{provide:ee,useFactory:function ec(){return(0,c.RDi)(document),document},deps:[]}]),ih=new c.OlP(""),tc=[{provide:c.rWj,useClass:class ba{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const f=function(g){u=u||g,o--,0==o&&i(u)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?G().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],jo=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function gu(){return new c.qLn},deps:[]},{provide:wa,useClass:Xl,multi:!0,deps:[ee,c.R0b,c.Lbi]},{provide:wa,useClass:mu,multi:!0,deps:[ee]},{provide:Ca,useClass:Ca,deps:[ks,ro,c.AFp]},{provide:c.FYo,useExisting:Ca},{provide:An,useExisting:ro},{provide:ro,useClass:ro,deps:[ee]},{provide:ks,useClass:ks,deps:[wa,c.R0b]},{provide:rl,useClass:up,deps:[]},[]];let _u=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:va,useExisting:c.AFp},kg]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ih,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...jo,...tc],imports:[Xs,c.hGG]}),n})(),lo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Aa(){return new lo((0,c.LFG)(ee))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;class fl{}class Si{}const ls="*";function pl(n,e){return{type:7,name:n,definitions:e,options:{}}}function co(n,e=null){return{type:4,styles:e,timings:n}}function ml(n,e=null){return{type:2,steps:n,options:e}}function si(n){return{type:6,styles:n,offset:null}}function oc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Cu(n){return{type:5,steps:n}}function cs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function k(n){Promise.resolve().then(n)}class L{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){k(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Q{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?k(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Qe(n){return new c.vHH(3e3,!1)}function Ug(){return typeof window<"u"&&typeof window.document<"u"}function mh(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $o(n){switch(n.length){case 0:return new L;case 1:return n[0];default:return new Q(n)}}function uc(n,e,t,i,r=new Map,o=new Map){const u=[],f=[];let g=-1,v=null;if(i.forEach(C=>{const T=C.get("offset"),N=T==g,U=N&&v||new Map;C.forEach((H,te)=>{let De=te,ze=H;if("offset"!==te)switch(De=e.normalizePropertyName(De,u),ze){case"!":ze=r.get(te);break;case ls:ze=o.get(te);break;default:ze=e.normalizeStyleValue(te,De,ze,u)}U.set(De,ze)}),N||f.push(U),v=U,g=T}),u.length)throw function hh(n){return new c.vHH(3502,!1)}();return f}function dc(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&hc(t,"start",n)));break;case"done":n.onDone(()=>i(t&&hc(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&hc(t,"destroy",n)))}}function hc(n,e,t){const o=gh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function gh(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function ar(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function _h(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fc=(n,e)=>!1,_p=(n,e,t)=>[],Gi=null;function gl(n){const e=n.parentNode||n.host;return e===Gi?null:e}(mh()||typeof Element<"u")&&(Ug()?(Gi=(()=>document.documentElement)(),fc=(n,e)=>{for(;e;){if(e===n)return!0;e=gl(e)}return!1}):fc=(n,e)=>n.contains(e),_p=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let On=null,_l=!1;const bp=fc,b=_p;let _=(()=>{class n{validateStyleProperty(t){return function yp(n){On||(On=function jg(){return typeof document<"u"?document.body:null}()||{},_l=!!On.style&&"WebkitAppearance"in On.style);let e=!0;return On.style&&!function yh(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in On.style,!e&&_l&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in On.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return bp(t,i)}getParentElement(t){return gl(t)}query(t,i,r){return b(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,f=[],g){return new L(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),D=(()=>{class n{}return n.NOOP=new _,n})();const Se="ng-enter",Ye="ng-leave",et="ng-trigger",Lt=".ng-trigger",yn="ng-animating",lr=".ng-animating";function mi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Pa(parseFloat(e[1]),e[2])}function Pa(n,e){return"s"===e?1e3*n:n}function Vs(n,e,t){return n.hasOwnProperty("duration")?n:function pc(n,e,t){let r,o=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Qe()),{duration:0,delay:0,easing:""};r=Pa(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(o=Pa(parseFloat(g),f[4]));const v=f[5];v&&(u=v)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function ot(){return new c.vHH(3100,!1)}()),f=!0),o<0&&(e.push(function rt(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,Qe())}return{duration:r,delay:o,easing:u}}(n,e,t)}function Na(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function vh(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function uo(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Au(n,e,t){return t?e+":"+t+";":""}function wh(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Au(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Au(0,gc(t),n.style[t]));n.setAttribute("style",e)}function Bs(n,e,t){n.style&&(e.forEach((i,r)=>{const o=Cp(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),mh()&&wh(n))}function ho(n,e){n.style&&(e.forEach((t,i)=>{const r=Cp(i);n.style[r]=""}),mh()&&wh(n))}function yl(n){return Array.isArray(n)?1==n.length?n[0]:ml(n):n}const wp=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dp(n){let e=[];if("string"==typeof n){let t;for(;t=wp.exec(n);)e.push(t[1]);wp.lastIndex=0}return e}function Dh(n,e,t){const i=n.toString(),r=i.replace(wp,(o,u)=>{let f=e[u];return null==f&&(t.push(function Ct(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function Ep(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Fb=/-+([a-z0-9])/g;function Cp(n){return n.replace(Fb,(...e)=>e[1].toUpperCase())}function gc(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ds(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Sr(n){return new c.vHH(3004,!1)}()}}function Ex(n,e){return window.getComputedStyle(n)[e]}function Ip(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function zb(n,e,t){if(":"==n[0]){const g=function $g(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Iu(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Lg(n){return new c.vHH(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(Mu(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&e.push(Mu(u,r))}(i,t,e)):t.push(n),t}const Su=new Set(["true","1"]),Tu=new Set(["false","0"]);function Mu(n,e){const t=Su.has(n)||Tu.has(n),i=Su.has(e)||Tu.has(e);return(r,o)=>{let u="*"==n||n==r,f="*"==e||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?Su.has(n):Tu.has(n)),!f&&i&&"boolean"==typeof o&&(f=o?Su.has(e):Tu.has(e)),u&&f}}const Gb=new RegExp("s*:selfs*,?","g");function Gg(n,e,t,i){return new xx(n).build(e,t,i)}class xx{constructor(e){this._driver=e}build(e,t,i){const r=new Ap(t);return this._resetContextStyleTimingState(r),ds(this,yl(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function ka(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,o.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,u.push(g)}else t.errors.push(function cc(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{Dp(g).forEach(v=>{u.hasOwnProperty(v)||o.add(v)})})}),o.size&&(Ep(o.values()),t.errors.push(function Ra(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ds(this,yl(e.animation),t);return{type:1,matchers:Ip(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:bc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ds(this,i,t)),options:bc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const f=ds(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:o,options:bc(e.options)}}visitAnimate(e,t){const i=function vc(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Wg(Vs(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Wg(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Vs(t,e);return Wg(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:si({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,f=!1;if(!u){f=!0;const v={};i.easing&&(v.easing=i.easing),u=si(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ls?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push(vh(f));let o=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!o))for(let g of f.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(g);let T=!0;C&&(o!=r&&o>=C.startTime&&r<=C.endTime&&(t.errors.push(function Oa(n,e,t,i,r){return new c.vHH(3010,!1)}()),T=!1),o=C.startTime),T&&v.set(g,{startTime:o,endTime:r}),t.options&&function zg(n,e,t){const i=e.params||{},r=Dp(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Ft(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hp(){return new c.vHH(3011,!1)}()),i;let o=0;const u=[];let f=!1,g=!1,v=0;const C=e.steps.map(ze=>{const it=this._makeStyleAst(ze,t);let _t=null!=it.offset?it.offset:function qg(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(it.styles),ut=0;return null!=_t&&(o++,ut=it.offset=_t),g=g||ut<0||ut>1,f=f||ut<v,v=ut,u.push(ut),it});g&&t.errors.push(function Ng(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function xu(){return new c.vHH(3200,!1)}());const T=e.steps.length;let N=0;o>0&&o<T?t.errors.push(function Tb(){return new c.vHH(3202,!1)}()):0==o&&(N=1/(T-1));const U=T-1,H=t.currentTime,te=t.currentAnimateTimings,De=te.duration;return C.forEach((ze,it)=>{const _t=N>0?it==U?1:N*it:u[it],ut=_t*De;t.currentTime=H+te.delay+ut,te.duration=ut,this._validateStyleAst(ze,t),ze.offset=_t,i.styles.push(ze)}),i}visitReference(e,t){return{type:8,animation:ds(this,yl(e.animation),t),options:bc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function Wb(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Gb,"")),n=n.replace(/@\*/g,Lt).replace(/@\w+/g,t=>Lt+"-"+t.slice(1)).replace(/:animating/g,lr),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ar(t.collectedStyles,t.currentQuerySelector,new Map);const f=ds(this,yl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:bc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function fp(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Vs(e.timings,t.errors,!0);return{type:12,animation:ds(this,yl(e.animation),t),timings:i,options:null}}}class Ap{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bc(n){return n?(n=Na(n)).params&&(n.params=function Yb(n){return n?Na(n):null}(n.params)):n={},n}function Wg(n,e,t){return{duration:n,delay:e,easing:t}}function Zb(n,e,t,i,r,o,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:f}}class Sp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Kb=new RegExp(":enter","g"),Zg=new RegExp(":leave","g");function Mp(n,e,t,i,r,o=new Map,u=new Map,f,g,v=[]){return(new Qb).buildKeyframes(n,e,t,i,r,o,u,f,g,v)}class Qb{buildKeyframes(e,t,i,r,o,u,f,g,v,C=[]){v=v||new Sp;const T=new kp(e,t,v,r,o,C,[]);T.options=g;const N=g.delay?mi(g.delay):0;T.currentTimeline.delayNextStep(N),T.currentTimeline.setStyles([u],null,T.errors,g),ds(this,i,T);const U=T.timelines.filter(H=>H.containsAnimation());if(U.length&&f.size){let H;for(let te=U.length-1;te>=0;te--){const De=U[te];if(De.element===t){H=De;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([f],null,T.errors,g)}return U.length?U.map(H=>H.buildKeyframes()):[Zb(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:mi(Dh(o,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?mi(i.duration):null,f=null!=i.delay?mi(i.delay):null;return 0!==u&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,u,f);o=Math.max(o,v.duration+v.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ds(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Eh);const u=mi(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ds(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?mi(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);o&&f.delayNextStep(o),ds(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Vs(t.params?Dh(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*o),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?mi(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Eh);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,C)=>{t.currentQueryIndex=C;const T=t.createSubContext(e.options,v);o&&T.delayNextStep(o),v===t.element&&(g=T.currentTimeline),ds(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),f=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const C=t.currentTimeline;g&&C.delayNextStep(g);const T=C.currentTime;ds(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const Eh={};class kp{constructor(e,t,i,r,o,u,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Eh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Rp(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=mi(i.duration)),null!=i.delay&&(r.delay=mi(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Dh(o[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new kp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Eh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Ax(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(Kb,"."+this._enterClassName)).replace(Zg,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!o&&0==f.length&&u.push(function Fg(n){return new c.vHH(3014,!1)}()),f}}class Rp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Rp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ls),this._currentKeyframe.set(t,ls);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},u=function Sx(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ls)}else uo(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of u){const v=Dh(g,o,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ls),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const v=uo(f,new Map,this._backFill);v.forEach((C,T)=>{"!"===C?e.add(T):C===ls&&t.add(T)}),i||v.set("offset",g/this.duration),r.push(v)});const o=e.size?Ep(e.values()):[],u=t.size?Ep(t.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return Zb(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class Ax extends Rp{constructor(e,t,i,r,o,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,f=t/u,g=uo(e[0]);g.set("offset",0),o.push(g);const v=uo(e[0]);v.set("offset",Xb(f)),o.push(v);const C=e.length-1;for(let T=1;T<=C;T++){let N=uo(e[T]);const U=N.get("offset");N.set("offset",Xb((t+U*i)/u)),o.push(N)}i=u,t=0,r="",e=o}return Zb(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Xb(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Go{}const Tx=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yR extends Go{normalizePropertyName(e,t){return Cp(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if(Tx.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function Nn(n,e){return new c.vHH(3005,!1)}())}return u+o}}function Mx(n,e,t,i,r,o,u,f,g,v,C,T,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:C,totalTime:T,errors:N}}const Jb={};class kx{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function e0(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,u,f,g,v,C){const T=[],N=this.ast.options&&this.ast.options.params||Jb,H=this.buildStyles(i,f&&f.params||Jb,T),te=g&&g.params||Jb,De=this.buildStyles(r,te,T),ze=new Set,it=new Map,_t=new Map,ut="void"===r,Vt={params:Rx(te,N),delay:this.ast.options?.delay},Pt=C?[]:Mp(e,t,this.ast.animation,o,u,H,De,Vt,v,T);let dn=0;if(Pt.forEach(Xc=>{dn=Math.max(Xc.duration+Xc.delay,dn)}),T.length)return Mx(t,this._triggerName,i,r,ut,H,De,[],[],it,_t,dn,T);Pt.forEach(Xc=>{const Jc=Xc.element,kU=ar(it,Jc,new Set);Xc.preStyleProps.forEach(Kf=>kU.add(Kf));const Sb=ar(_t,Jc,new Set);Xc.postStyleProps.forEach(Kf=>Sb.add(Kf)),Jc!==t&&ze.add(Jc)});const Cs=Ep(ze.values());return Mx(t,this._triggerName,i,r,ut,H,De,Pt,Cs,it,_t,dn)}}function Rx(n,e){const t=Na(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Ox{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Na(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,f)=>{u&&(u=Dh(u,r,t));const g=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,g,u,t),i.set(f,u)})}),i}}class Nx{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Ox(r.style,r.options&&r.options.params||{},i))}),qo(this.states,"true","1"),qo(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new kx(e,r,this.states))}),this.fallbackTransition=function Kg(n,e,t){return new kx(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function qo(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ch=new Sp;class t0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Gg(this._driver,t,i,[]);if(i.length)throw function Rb(n){return new c.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=uc(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let u;const f=new Map;if(o?(u=Mp(this._driver,t,o,Se,Ye,new Map,new Map,i,Ch,r),u.forEach(C=>{const T=ar(f,C.element,new Map);C.postStyleProps.forEach(N=>T.set(N,null))})):(r.push(function Ob(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function Pb(n){return new c.vHH(3504,!1)}();f.forEach((C,T)=>{C.forEach((N,U)=>{C.set(U,this._driver.computeStyle(T,U,ls))})});const v=$o(u.map(C=>{const T=f.get(C.element);return this._buildPlayer(C,new Map,T)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Nb(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=gh(t,"","","");return dc(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Qg="ng-animate-queued",r0="ng-animate-disabled",Jg=[],Fx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wR={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hs="__ng_removed";class e_{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function n_(n){return n??null}(i?e.value:e),i){const o=Na(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const xh="void",t_=new e_(xh);class Lx{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function pp(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function Vg(n){return new c.vHH(3303,!1)}();if(!function gi(n){return"start"==n||"done"==n}(i))throw function mp(n,e){return new c.vHH(3400,!1)}();const o=ar(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const f=ar(this._engine.statesByElement,e,new Map);return f.has(t)||(fs(e,et),fs(e,et+"-"+t),f.set(t,t_)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function fh(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new ku(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(fs(e,et),fs(e,et+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new e_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=t_),v.value!==xh&&g.value===v.value){if(!function c0(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(g.params,v.params)){const te=[],De=o.matchStyles(g.value,g.params,te),ze=o.matchStyles(v.value,v.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{ho(e,De),Bs(e,ze)})}return}const N=ar(this._engine.playersByElement,e,[]);N.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let U=o.matchTransition(g.value,v.value,e,v.params),H=!1;if(!U){if(!r)return;U=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:g,toState:v,player:u,isFallbackTransition:H}),H||(fs(e,Qg),u.onStart(()=>{Ru(e,Qg)})),u.onDone(()=>{let te=this.players.indexOf(u);te>=0&&this.players.splice(te,1);const De=this._engine.playersByElement.get(e);if(De){let ze=De.indexOf(u);ze>=0&&De.splice(ze,1)}}),this.players.push(u),N.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Lt,!0);i.forEach(r=>{if(r[hs])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const f=[];if(o.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const C=this.trigger(e,v,xh,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&$o(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,v=i.get(u)||t_,C=new e_(xh),T=new ku(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:v,toState:C,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[hs];(!o||o===Fx)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){fs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(f=>{if(f.name==i.triggerName){const g=gh(o,i.triggerName,i.fromState.value,i.toState.value);g._data=e,dc(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class s0{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Lx(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Pp(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Pp(t))return;const o=t[hs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fs(e,r0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ru(e,r0))}removeNode(e,t,i,r){if(Pp(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[hs]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Pp(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Lt,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lr,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $o(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[hs];if(t&&t.setForRemoval){if(e[hs]=Fx,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(r0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)fs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$o(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function gp(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Sp,r=[],o=new Map,u=[],f=new Map,g=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(lt=>{C.add(lt);const xt=this.driver.query(lt,".ng-animate-queued",!0);for(let Nt=0;Nt<xt.length;Nt++)C.add(xt[Nt])});const T=this.bodyNode,N=Array.from(this.statesByElement.keys()),U=i_(N,this.collectedEnterElements),H=new Map;let te=0;U.forEach((lt,xt)=>{const Nt=Se+te++;H.set(xt,Nt),lt.forEach(hn=>fs(hn,Nt))});const De=[],ze=new Set,it=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const xt=this.collectedLeaveElements[lt],Nt=xt[hs];Nt&&Nt.setForRemoval&&(De.push(xt),ze.add(xt),Nt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(hn=>ze.add(hn)):it.add(xt))}const _t=new Map,ut=i_(N,Array.from(ze));ut.forEach((lt,xt)=>{const Nt=Ye+te++;_t.set(xt,Nt),lt.forEach(hn=>fs(hn,Nt))}),e.push(()=>{U.forEach((lt,xt)=>{const Nt=H.get(xt);lt.forEach(hn=>Ru(hn,Nt))}),ut.forEach((lt,xt)=>{const Nt=_t.get(xt);lt.forEach(hn=>Ru(hn,Nt))}),De.forEach(lt=>{this.processLeaveNode(lt)})});const Vt=[],Pt=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(t).forEach(Nt=>{const hn=Nt.player,vr=Nt.element;if(Vt.push(hn),this.collectedEnterElements.length){const Kr=vr[hs];if(Kr&&Kr.setForMove){if(Kr.previousTriggersValues&&Kr.previousTriggersValues.has(Nt.triggerName)){const Qf=Kr.previousTriggersValues.get(Nt.triggerName),oa=this.statesByElement.get(Nt.element);if(oa&&oa.has(Nt.triggerName)){const Dx=oa.get(Nt.triggerName);Dx.value=Qf,oa.set(Nt.triggerName,Dx)}}return void hn.destroy()}}const Pl=!T||!this.driver.containsElement(T,vr),vo=_t.get(vr),Hd=H.get(vr),ai=this._buildInstruction(Nt,i,Hd,vo,Pl);if(ai.errors&&ai.errors.length)return void Pt.push(ai);if(Pl)return hn.onStart(()=>ho(vr,ai.fromStyles)),hn.onDestroy(()=>Bs(vr,ai.toStyles)),void r.push(hn);if(Nt.isFallbackTransition)return hn.onStart(()=>ho(vr,ai.fromStyles)),hn.onDestroy(()=>Bs(vr,ai.toStyles)),void r.push(hn);const PU=[];ai.timelines.forEach(Kr=>{Kr.stretchStartingKeyframe=!0,this.disabledNodes.has(Kr.element)||PU.push(Kr)}),ai.timelines=PU,i.append(vr,ai.timelines),u.push({instruction:ai,player:hn,element:vr}),ai.queriedElements.forEach(Kr=>ar(f,Kr,[]).push(hn)),ai.preStyleProps.forEach((Kr,Qf)=>{if(Kr.size){let oa=g.get(Qf);oa||g.set(Qf,oa=new Set),Kr.forEach((Dx,gR)=>oa.add(gR))}}),ai.postStyleProps.forEach((Kr,Qf)=>{let oa=v.get(Qf);oa||v.set(Qf,oa=new Set),Kr.forEach((Dx,gR)=>oa.add(gR))})});if(Pt.length){const lt=[];Pt.forEach(xt=>{lt.push(function ph(n,e){return new c.vHH(3505,!1)}())}),Vt.forEach(xt=>xt.destroy()),this.reportError(lt)}const dn=new Map,Cs=new Map;u.forEach(lt=>{const xt=lt.element;i.has(xt)&&(Cs.set(xt,xt),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,dn))}),r.forEach(lt=>{const xt=lt.element;this._getPreviousPlayers(xt,!1,lt.namespaceId,lt.triggerName,null).forEach(hn=>{ar(dn,xt,[]).push(hn),hn.destroy()})});const Xc=De.filter(lt=>Hx(lt,g,v)),Jc=new Map;a0(Jc,this.driver,it,v,ls).forEach(lt=>{Hx(lt,g,v)&&Xc.push(lt)});const Sb=new Map;U.forEach((lt,xt)=>{a0(Sb,this.driver,new Set(lt),g,"!")}),Xc.forEach(lt=>{const xt=Jc.get(lt),Nt=Sb.get(lt);Jc.set(lt,new Map([...Array.from(xt?.entries()??[]),...Array.from(Nt?.entries()??[])]))});const Kf=[],RU=[],OU={};u.forEach(lt=>{const{element:xt,player:Nt,instruction:hn}=lt;if(i.has(xt)){if(C.has(xt))return Nt.onDestroy(()=>Bs(xt,hn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(hn.totalTime),void r.push(Nt);let vr=OU;if(Cs.size>1){let vo=xt;const Hd=[];for(;vo=vo.parentNode;){const ai=Cs.get(vo);if(ai){vr=ai;break}Hd.push(vo)}Hd.forEach(ai=>Cs.set(ai,vr))}const Pl=this._buildAnimation(Nt.namespaceId,hn,dn,o,Sb,Jc);if(Nt.setRealPlayer(Pl),vr===OU)Kf.push(Nt);else{const vo=this.playersByElement.get(vr);vo&&vo.length&&(Nt.parentPlayer=$o(vo)),r.push(Nt)}}else ho(xt,hn.fromStyles),Nt.onDestroy(()=>Bs(xt,hn.toStyles)),RU.push(Nt),C.has(xt)&&r.push(Nt)}),RU.forEach(lt=>{const xt=o.get(lt.element);if(xt&&xt.length){const Nt=$o(xt);lt.setRealPlayer(Nt)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<De.length;lt++){const xt=De[lt],Nt=xt[hs];if(Ru(xt,Ye),Nt&&Nt.hasAnimation)continue;let hn=[];if(f.size){let Pl=f.get(xt);Pl&&Pl.length&&hn.push(...Pl);let vo=this.driver.query(xt,lr,!0);for(let Hd=0;Hd<vo.length;Hd++){let ai=f.get(vo[Hd]);ai&&ai.length&&hn.push(...ai)}}const vr=hn.filter(Pl=>!Pl.destroyed);vr.length?Bx(this,xt,vr):this.processLeaveNode(xt)}return De.length=0,Kf.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const xt=this.players.indexOf(lt);this.players.splice(xt,1)}),lt.play()}),Kf}elementContainsData(e,t){let i=!1;const r=t[hs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const g=!o||o==xh;f.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,C=v!==o,T=ar(i,v,[]);this._getPreviousPlayers(v,C,u,f,t.toState).forEach(U=>{const H=U.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),U.destroy(),T.push(U)})}ho(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const f=t.triggerName,g=t.element,v=[],C=new Set,T=new Set,N=t.timelines.map(H=>{const te=H.element;C.add(te);const De=te[hs];if(De&&De.removedBeforeQueried)return new L(H.duration,H.delay);const ze=te!==g,it=function Ux(n){const e=[];return l0(n,e),e}((i.get(te)||Jg).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===te),_t=o.get(te),ut=u.get(te),Vt=uc(0,this._normalizer,0,H.keyframes,_t,ut),Pt=this._buildPlayer(H,Vt,it);if(H.subTimeline&&r&&T.add(te),ze){const dn=new ku(e,f,te);dn.setRealPlayer(Pt),v.push(dn)}return Pt});v.forEach(H=>{ar(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function Vx(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,H.element,H))}),C.forEach(H=>fs(H,yn));const U=$o(N);return U.onDestroy(()=>{C.forEach(H=>Ru(H,yn)),Bs(g,t.toStyles)}),T.forEach(H=>{ar(r,H,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new L(e.duration,e.delay)}}class ku{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new L,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>dc(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ar(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Pp(n){return n&&1===n.nodeType}function o0(n,e){const t=n.style.display;return n.style.display=e??"none",t}function a0(n,e,t,i,r){const o=[];t.forEach(g=>o.push(o0(g)));const u=[];i.forEach((g,v)=>{const C=new Map;g.forEach(T=>{const N=e.computeStyle(v,T,r);C.set(T,N),(!N||0==N.length)&&(v[hs]=wR,u.push(v))}),n.set(v,C)});let f=0;return t.forEach(g=>o0(g,o[f++])),u}function i_(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),o=new Map;function u(f){if(!f)return 1;let g=o.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:r.has(v)?1:u(v),o.set(f,g),g}return e.forEach(f=>{const g=u(f);1!==g&&t.get(g).push(f)}),t}function fs(n,e){n.classList?.add(e)}function Ru(n,e){n.classList?.remove(e)}function Bx(n,e,t){$o(t).onDone(()=>n.processLeaveNode(e))}function l0(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Q?l0(i.players,e):e.push(i)}}function Hx(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class r_{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new s0(e,t,i),this._timelineEngine=new t0(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const g=[],C=Gg(this._driver,o,g,[]);if(g.length)throw function kb(n,e){return new c.vHH(3404,!1)}();f=function Px(n,e,t){return new Nx(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=_h(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,f]=_h(i);return this._timelineEngine.listen(u,t,f,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let s_=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Bs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bs(this._element,this._initialStyles),this._endStyles&&(Bs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ho(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ho(this._element,this._endStyles),this._endStyles=null),Bs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Np(n){let e=null;return n.forEach((t,i)=>{(function u0(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class o_{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Ex(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class jx{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return bp(e,t)}getParentElement(e){return gl(e)}query(e,t,i){return b(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const v=new Map,C=u.filter(U=>U instanceof o_);(function Lb(n,e){return 0===n||0===e})(i,r)&&C.forEach(U=>{U.currentSnapshot.forEach((H,te)=>v.set(te,H))});let T=function mc(n){return n.length?n[0]instanceof Map?n:n.map(e=>vh(e)):[]}(t).map(U=>uo(U));T=function Vb(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(f=>u.set(f,Ex(n,f)))}}return e}(e,T,v);const N=function Ih(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Np(e[0]),e.length>1&&(i=Np(e[e.length-1]))):e instanceof Map&&(t=Np(e)),t||i?new s_(n,t,i):null}(e,T);return new o_(e,T,g,N)}}let zx=(()=>{class n extends fl{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ml(t):t;return Fp(this._renderer,null,i,"register",[r]),new d0(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class d0 extends Si{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new h0(this._id,e,t||{},this._renderer)}}class h0{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Fp(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Fp(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Lp="@.disabled";let $x=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const f=u?.parentNode(o);f&&u.removeChild(f,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(o);return C||(C=new Vp("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,C)),C}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(u,f,t,C.name,C)};return i.data.animation.forEach(g),new f0(this,f,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,f]=o;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(r_),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Vp{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Lp?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class f0 extends Vp{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Lp?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function p0(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function wc(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Gx=(()=>{class n extends r_{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(D),c.LFG(Go),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const m0=[{provide:fl,useClass:zx},{provide:Go,useFactory:function l_(){return new yR}},{provide:r_,useClass:Gx},{provide:c.FYo,useFactory:function Bp(n,e,t){return new $x(n,e,t)},deps:[Ca,r_,c.R0b]}],Ah=[{provide:D,useFactory:()=>new jx},{provide:c.QbO,useValue:"BrowserAnimations"},...m0],Sh=[{provide:D,useClass:_},{provide:c.QbO,useValue:"NoopAnimations"},...m0];let c_,Dc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Sh:Ah}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ah,imports:[_u]}),n})();try{c_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{c_=!1}let Ou,Ti=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ul(n){return n===sr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!c_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function y0(){if(Ou)return Ou;if("object"!=typeof document||!document)return Ou=new Set(_0),Ou;let n=document.createElement("input");return Ou=new Set(_0.filter(e=>(n.setAttribute("type",e),n.type===e))),Ou}let Ec,Up,vl,Cc;function Pu(n){return function Wx(){if(null==Ec&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ec=!0}))}finally{Ec=Ec||!1}return Ec}()?n:!!n.capture}function Yx(){if(null==vl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vl=!1,vl;if("scrollBehavior"in document.documentElement.style)vl=!0;else{const n=Element.prototype.scrollTo;vl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vl}function Mh(){if("object"!=typeof document||!document)return 0;if(null==Up){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Up=0,0===n.scrollLeft&&(n.scrollLeft=1,Up=0===n.scrollLeft?1:2),n.remove()}return Up}function Fu(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function bl(n){return n.composedPath?n.composedPath()[0]:n.target}function Hp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var rn=P(7579);class Us extends rn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var Lu=P(3269),Wn=P(8996);function at(...n){const e=(0,Lu.yG)(n);return(0,Wn.D)(n,e)}function Uu(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var La=P(515),Mi=P(4482),ki=P(5403);function zs(n){return n<=0?()=>La.E:(0,Mi.e)((e,t)=>{let i=0;e.subscribe((0,ki.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ps(n,e){return(0,Mi.e)((t,i)=>{let r=0;t.subscribe((0,ki.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}function N0(n){return ps((e,t)=>n<=t)}var Nh=P(4671);function g_(n,e){return n===e}var xc=P(8421),AI=P(5032);function Va(n){return(0,Mi.e)((e,t)=>{(0,xc.Xf)(n).subscribe((0,ki.x)(t,()=>t.complete(),AI.Z)),!t.closed&&e.subscribe(t)})}function oi(n){return null!=n&&"false"!=`${n}`}function __(n,e=0){return function SI(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Hu(n){return Array.isArray(n)?n:[n]}function _i(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ba(n){return n instanceof c.SBq?n.nativeElement:n}var qi=P(9751),ju=P(4986);function TI(n,e=ju.z){return(0,Mi.e)((t,i)=>{let r=null,o=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function g(){const v=u+n,C=e.now();if(C<v)return r=this.schedule(void 0,v-C),void i.add(r);f()}t.subscribe((0,ki.x)(i,v=>{o=v,u=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{o=r=null}))})}let qp=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hO=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Ba(t);return new qi.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new rn.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F0=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=__(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(TI(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qp]}),n})();const{isArray:L0}=Array,{getPrototypeOf:V0,prototype:v_,keys:Ua}=Object;function Fh(n){if(1===n.length){const e=n[0];if(L0(e))return{args:e,keys:null};if(function Wp(n){return n&&"object"==typeof n&&V0(n)===v_}(e)){const t=Ua(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var St=P(4004);const{isArray:MI}=Array;function Yp(n){return(0,St.U)(e=>function B0(n,e){return MI(e)?n(...e):n(e)}(n,e))}function U0(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var kI=P(9672);function Ic(...n){const e=(0,Lu.yG)(n),t=(0,Lu.jO)(n),{args:i,keys:r}=Fh(n);if(0===i.length)return(0,Wn.D)([],e);const o=new qi.y(function RI(n,e,t=Nh.y){return i=>{OI(e,()=>{const{length:r}=n,o=new Array(r);let u=r,f=r;for(let g=0;g<r;g++)OI(e,()=>{const v=(0,Wn.D)(n[g],e);let C=!1;v.subscribe((0,ki.x)(i,T=>{o[g]=T,C||(C=!0,f--),f||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>U0(r,u):Nh.y));return t?o.pipe(Yp(t)):o}function OI(n,e,t){n?(0,kI.f)(t,n,e):e()}var Lh=P(8189);function Zp(...n){return function PI(){return(0,Lh.J)(1)}()((0,Wn.D)(n,(0,Lu.yG)(n)))}function zu(...n){const e=(0,Lu.yG)(n);return(0,Mi.e)((t,i)=>{(e?Zp(n,t,e):Zp(n,t)).subscribe(i)})}const H0=new Set;let $u,j0=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NI}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function b_(n){if(!H0.has(n))try{$u||($u=document.createElement("style"),$u.setAttribute("type","text/css"),document.head.appendChild($u)),$u.sheet&&($u.sheet.insertRule(`@media ${n} {body{ }}`,0),H0.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NI(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let w_=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new rn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return z0(Hu(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Ic(z0(Hu(t)).map(u=>this._registerQuery(u).observable));return o=Zp(o.pipe(zs(1)),o.pipe(N0(1),TI(0))),o.pipe((0,St.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{f.matches=f.matches||g,f.breakpoints[v]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new qi.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(zu(i),(0,St.U)(({matches:u})=>({query:t,matches:u})),Va(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j0),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z0(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let BI=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function UI(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function C_(n){try{return n.frameElement}catch{return null}}(function Yu(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Qp(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=Qp(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function qu(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Wu(n){return!function Vh(n){return function Ac(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ko(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function cr(n){return function Kp(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ms(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ms(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Qp(n){if(!ms(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Zu{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(zs(1)).subscribe(e)}}let Ku=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Zu(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(BI),c.LFG(c.R0b),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qu=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=oi(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=oi(t)}constructor(t,i,r){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Fu(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ku),c.Y36(ee))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),n})();function x_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function I_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const W0=new c.OlP("cdk-input-modality-detector-options"),Y0={ignoreKeys:[18,17,224,91,16]},Sc=Pu({passive:!0,capture:!0});let Z0=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Us(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bl(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(x_(u)?"keyboard":"mouse"),this._mostRecentTarget=bl(u))},this._onTouchstart=u=>{I_(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bl(u))},this._options={...Y0,...o},this.modalityDetected=this._modality.pipe(N0(1)),this.modalityChanged=this.modalityDetected.pipe(function Zo(n,e=Nh.y){return n=n??g_,(0,Mi.e)((t,i)=>{let r,o=!0;t.subscribe((0,ki.x)(i,u=>{const f=e(u);(o||!n(r,f))&&(o=!1,r=f,i.next(u))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sc),r.addEventListener("mousedown",this._onMousedown,Sc),r.addEventListener("touchstart",this._onTouchstart,Sc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sc),document.removeEventListener("mousedown",this._onMousedown,Sc),document.removeEventListener("touchstart",this._onTouchstart,Sc))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti),c.LFG(c.R0b),c.LFG(ee),c.LFG(W0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S_=new c.OlP("cdk-focus-monitor-default-options"),Xp=Pu({passive:!0,capture:!0});let Xu=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new rn.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=bl(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Ba(t);if(!this._platform.isBrowser||1!==r.nodeType)return at(null);const o=function Nu(n){if(function Zx(){if(null==Cc){const n=typeof document<"u"?document.head:null;Cc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Cc}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new rn.x,rootNode:o};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Ba(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Ba(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=bl(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xp)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Va(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Ti),c.LFG(Z0),c.LFG(ee,8),c.LFG(S_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jp=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new c.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Xu))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const em="cdk-high-contrast-black-on-white",Q0="cdk-high-contrast-white-on-black",jh="cdk-high-contrast-active";let tm=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(w_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(jh,em,Q0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(jh,em):2===i&&t.add(jh,Q0)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X0=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tm))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[y_]}),n})();const J0=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function T_(){return(0,c.f3M)(ee)}}),ew=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let fo=(()=>{class n{constructor(t){this.value="ltr",this.change=new c.vpe,t&&(this.value=function tw(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ew.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const rw=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function iw(){return!0}});let $s=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Hp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tm),c.LFG(rw,8),c.LFG(ee))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[zh,zh]}),n})();function im(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=oi(e)}constructor(...e){super(...e),this._disabled=!1}}}function Ha(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function sw(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=oi(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function iA(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?__(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function k_(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}const R_=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function rA(){return(0,c.f3M)(c.soG)}});class Ri{constructor(){this._localeChanges=new rn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const ed=new c.OlP("mat-date-formats"),DO=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function O_(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let sA=(()=>{class n extends Ri{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return O_(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return O_(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return O_(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(DO.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(R_,8),c.LFG(Ti))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ow={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let oA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Ri,useClass:sA}]}),n})(),Oi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:ed,useValue:ow}],imports:[oA]}),n})(),lA=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aw{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tc=Pu({passive:!0,capture:!0});class dA{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=bl(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Tc)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Tc)))}}const lw={enterDuration:225,exitDuration:150},uw=Pu({passive:!0,capture:!0}),P_=["mousedown","touchstart"],hA=["mouseup","mouseleave","touchend","touchcancel"];class Mc{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ba(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...lw,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function N_(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,v=o.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-u+"px",C.style.top=g-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(C);const T=window.getComputedStyle(C),U=T.transitionDuration,H="none"===T.transitionProperty||"0s"===U||"0s, 0s"===U||0===r.width&&0===r.height,te=new aw(this,C,i,H);C.style.transform="scale3d(1, 1, 1)",te.state=0,i.persistent||(this._mostRecentTransientRipple=te);let De=null;return!H&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ze=()=>this._finishRippleTransition(te),it=()=>this._destroyRipple(te);C.addEventListener("transitionend",ze),C.addEventListener("transitioncancel",it),De={onTransitionEnd:ze,onTransitionCancel:it}}),this._activeRipples.set(te,De),(H||!v)&&this._finishRippleTransition(te),te}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...lw,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ba(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,P_.forEach(i=>{Mc._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hA.forEach(t=>{this._triggerElement.addEventListener(t,this,uw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=x_(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!I_(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(P_.forEach(t=>Mc._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&hA.forEach(t=>e.removeEventListener(t,this,uw)))}}Mc._eventManager=new dA;const Qo=new c.OlP("mat-ripple-global-options");let rm=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Mc(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Ti),c.Y36(Qo,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$s,$s]}),n})();const fw=["mat-button",""],om=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_A=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],_w=["mat-icon-button",""],yw=["*"],vw=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],bw=Ha(im(sw(class{constructor(n){this._elementRef=n}})));let ww=(()=>{class n extends bw{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,c.f3M)(Xu),this._isFab=!1;const u=t.nativeElement.classList;for(const f of vw)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(g=>{u.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(rm,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},features:[c.qOj]}),n})(),L_=(()=>{class n extends ww{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ti),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:fw,ngContentSelectors:_A,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(om),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(c.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),c.xp6(6),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[rm],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Dw=(()=>{class n extends ww{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ti),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:_w,ngContentSelectors:yw,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(c.xp6(3),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[rm],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Ew=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$s,dw,$s]}),n})();const Cw=Pu({passive:!0});let xw=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return La.E;const i=Ba(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new rn.x,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,Cw),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",f,Cw)}}),o}stopMonitoring(t){const i=Ba(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),V_=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),wl=(()=>{class n extends V_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const gs=new c.OlP("NgValueAccessor"),B_={provide:gs,useExisting:(0,c.Gpc)(()=>Gh),multi:!0},IA=new c.OlP("CompositionEventMode");let Gh=(()=>{class n extends V_{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kc(){const n=G()?G().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(IA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[c._Bn([B_]),c.qOj]}),n})();function Rc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function lm(n){return null!=n&&"number"==typeof n.length}const ur=new c.OlP("NgValidators"),za=new c.OlP("NgAsyncValidators"),Tw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oc{static min(e){return function wt(n){return e=>{if(Rc(e.value)||Rc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Mw(n){return e=>{if(Rc(e.value)||Rc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function kw(n){return Rc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Rw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Pc(n){return Rc(n.value)||Tw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ow(n){return e=>Rc(e.value)||!lm(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function qh(n){return e=>lm(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Wh(n){if(!n)return Sn;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Rc(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return z_(e)}static composeAsync(e){return Fw(e)}}function Sn(n){return null}function AA(n){return null!=n}function U_(n){return(0,c.QGY)(n)?(0,Wn.D)(n):n}function H_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Pw(n,e){return e.map(t=>t(n))}function j_(n){return n.map(e=>function Nw(n){return!n.validate}(e)?e:t=>e.validate(t))}function z_(n){if(!n)return null;const e=n.filter(AA);return 0==e.length?null:function(t){return H_(Pw(t,e))}}function cm(n){return null!=n?z_(j_(n)):null}function Fw(n){if(!n)return null;const e=n.filter(AA);return 0==e.length?null:function(t){return function Aw(...n){const e=(0,Lu.jO)(n),{args:t,keys:i}=Fh(n),r=new qi.y(o=>{const{length:u}=t;if(!u)return void o.complete();const f=new Array(u);let g=u,v=u;for(let C=0;C<u;C++){let T=!1;(0,xc.Xf)(t[C]).subscribe((0,ki.x)(o,N=>{T||(T=!0,v--),f[C]=N},()=>g--,void 0,()=>{(!g||!T)&&(v||o.next(i?U0(i,f):f),o.complete())}))}});return e?r.pipe(Yp(e)):r}(Pw(t,e).map(U_)).pipe((0,St.U)(H_))}}function $_(n){return null!=n?Fw(j_(n)):null}function Lw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nd(n){return n._rawValidators}function Vw(n){return n._rawAsyncValidators}function G_(n){return n?Array.isArray(n)?n:[n]:[]}function um(n,e){return Array.isArray(n)?n.includes(e):n===e}function Yh(n,e){const t=G_(e);return G_(n).forEach(r=>{um(t,r)||t.push(r)}),t}function q_(n,e){return G_(e).filter(t=>!um(n,t))}class W_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dr extends W_{get formDirective(){return null}get path(){return null}}class $a extends W_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class id{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Y_=(()=>{class n extends id{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($a,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),hm=(()=>{class n extends id{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const Qh="VALID",mm="INVALID",rd="PENDING",gm="DISABLED";function Q_(n){return(Dl(n)?n.validators:n)||null}function X_(n,e){return(Dl(e)?e.asyncValidators:n)||null}function Dl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function $w(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function J_(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class _m{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qh}get invalid(){return this.status===mm}get pending(){return this.status==rd}get disabled(){return this.status===gm}get enabled(){return this.status!==gm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Yh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(q_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(q_(e,this._rawAsyncValidators))}hasValidator(e){return um(this._rawValidators,e)}hasAsyncValidator(e){return um(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gm,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qh,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qh||this.status===rd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gm:Qh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rd,this._hasOwnPendingAsyncValidator=!0;const t=U_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?gm:this.errors?mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rd)?rd:this._anyControlsHaveStatus(mm)?mm:Qh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function zw(n){return Array.isArray(n)?cm(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function MA(n){return Array.isArray(n)?$_(n):n||null}(this._rawAsyncValidators)}}class sd extends _m{constructor(e,t,i){super(Q_(t),X_(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){J_(this,0,e),Object.keys(e).forEach(i=>{$w(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Gw extends sd{}const od=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xh}),Xh="always";function Jh(n,e){return[...e.path,n]}function ef(n,e,t=Xh){ty(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function RA(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ww(n,e)})}(n,e),function PA(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function OA(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ww(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ey(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ym(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),tf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ty(n,e){const t=nd(n);null!==e.validator?n.setValidators(Lw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Vw(n);null!==e.asyncValidator?n.setAsyncValidators(Lw(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();vm(e._rawValidators,r),vm(e._rawAsyncValidators,r)}function tf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=nd(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=Vw(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return vm(e._rawValidators,i),vm(e._rawAsyncValidators,i),t}function Ww(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Yw(n,e){ty(n,e)}function ny(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Kw(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function iy(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Gh?t=o:function Zw(n){return Object.getPrototypeOf(n.constructor)===wl}(o)?i=o:r=o}),r||i||t||null}const ry={provide:dr,useExisting:(0,c.Gpc)(()=>El)},ad=(()=>Promise.resolve())();let El=(()=>{class n extends dr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new sd({},cm(t),$_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ad.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ef(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ad.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ad.then(()=>{const i=this._findContainer(t.path),r=new sd({});Yw(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ad.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ad.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Kw(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ur,10),c.Y36(za,10),c.Y36(od,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ry]),c.qOj]}),n})();function Xw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Jw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Nc=class extends _m{constructor(e=null,t,i){super(Q_(t),X_(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Jw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Jw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},oy={provide:$a,useExisting:(0,c.Gpc)(()=>wm)},nD=(()=>Promise.resolve())();let wm=(()=>{class n extends $a{constructor(t,i,r,o,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new Nc,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=iy(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ny(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ef(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){nD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);nD.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Jh(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dr,9),c.Y36(ur,10),c.Y36(za,10),c.Y36(gs,10),c.Y36(c.sBO,8),c.Y36(od,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([oy]),c.qOj,c.TTD]}),n})(),ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const aD=new c.OlP("NgModelWithFormControlWarning"),$A={provide:dr,useExisting:(0,c.Gpc)(()=>Dm)};let Dm=(()=>{class n extends dr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ef(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ym(t.control||null,t,!1),function VA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Kw(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ym(i||null,t),(n=>n instanceof Nc)(r)&&(ef(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Yw(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function NA(n,e){return tf(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ty(this.form,this),this._oldForm&&tf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ur,10),c.Y36(za,10),c.Y36(od,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([$A]),c.qOj,c.TTD]}),n})();const WA={provide:$a,useExisting:(0,c.Gpc)(()=>dy)};let dy=(()=>{class n extends $a{set isDisabled(t){}constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=iy(0,o)}ngOnChanges(t){this._added||this._setUpControl(),ny(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Jh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(dr,13),c.Y36(ur,10),c.Y36(za,10),c.Y36(gs,10),c.Y36(aD,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([WA]),c.qOj,c.TTD]}),n})(),_y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[sD]}),n})();class yy extends _m{constructor(e,t,i){super(Q_(t),X_(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){J_(this,0,e),e.forEach((i,r)=>{$w(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function xm(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let vy=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return xm(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new sd(r,o)}record(t,i=null){const r=this._reduceControls(t);return new Gw(r,i)}control(t,i,r){let o={};return this.useNonNullable?(xm(i)?o=i:(o.validators=i,o.asyncValidators=r),new Nc(t,{...o,nonNullable:!0})):new Nc(t,i,r)}array(t,i,r){const o=t.map(u=>this._createControl(u));return new yy(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Nc||t instanceof _m?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ED=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:od,useValue:t.callSetDisabledState??Xh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_y]}),n})(),sS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:aD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:od,useValue:t.callSetDisabledState??Xh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_y]}),n})();var dd=P(6451);const oS=["matFormFieldNotchedOutline",""],CD=["*"],by=["textField"],xD=["iconPrefixContainer"],ID=["textPrefixContainer"];function AD(n,e){1&n&&c._UZ(0,"span",19)}function SD(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",17),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r._refreshOutlineNotchWidth())}),c.Hsn(1,1),c.YNc(2,AD,1,0,"span",18),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function aS(n,e){if(1&n&&c.YNc(0,SD,3,6,"label",16),2&n){const t=c.oxw();c.Q6J("ngIf",t._hasFloatingLabel())}}function TD(n,e){1&n&&c._UZ(0,"div",20)}function MD(n,e){}function lS(n,e){if(1&n&&c.YNc(0,MD,0,0,"ng-template",22),2&n){c.oxw(2);const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function kD(n,e){if(1&n&&(c.TgZ(0,"div",21),c.YNc(1,lS,1,1,"ng-template",9),c.qZA()),2&n){const t=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),c.xp6(1),c.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function RD(n,e){1&n&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function Tr(n,e){1&n&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function hd(n,e){}function cS(n,e){if(1&n&&c.YNc(0,hd,0,0,"ng-template",22),2&n){c.oxw();const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function uS(n,e){1&n&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function QO(n,e){1&n&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function XO(n,e){1&n&&c._UZ(0,"div",29)}function OD(n,e){if(1&n&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function PD(n,e){if(1&n&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function af(n,e){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,PD,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const dS=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wy=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})();const fS=new c.OlP("MatError");let pS=0,lf=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+pS++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(c.Ikx("id",i.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const ND=new c.OlP("MatPrefix"),cf=new c.OlP("MatSuffix");let Ey=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:cf,useExisting:n}])]}),n})(),gS=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function FD(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const LD="mdc-line-ripple--active",uf="mdc-line-ripple--deactivating";let Lc=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,u=o.contains(uf);"opacity"===r.propertyName&&u&&o.remove(LD,uf)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(uf),t.add(LD)}deactivate(){this._elementRef.nativeElement.classList.add(uf)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),VD=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:oS,ngContentSelectors:CD,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(1),c.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const BD={transitionMessages:pl("transitionMessages",[oc("enter",si({opacity:1,transform:"translateY(0%)"})),cs("void => enter",[si({opacity:0,transform:"translateY(-5px)"}),co("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const Cy=new c.OlP("MatFormField"),_S=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let UD=0,$D=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=oi(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,u,f,g,v){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=u,this._defaults=f,this._animationMode=g,this._document=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+UD++,this._hintLabelId="mat-mdc-hint-"+UD++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new rn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Va(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,dd.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Va(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Va(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(fo),c.Y36(Ti),c.Y36(_S,8),c.Y36(c.QbO,8),c.Y36(ee))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Dy,5),c.Suo(r,Dy,7),c.Suo(r,Im,5),c.Suo(r,ND,5),c.Suo(r,cf,5),c.Suo(r,fS,5),c.Suo(r,lf,5)),2&t){let o;c.iGM(o=c.CRH())&&(i._labelChildNonStatic=o.first),c.iGM(o=c.CRH())&&(i._labelChildStatic=o.first),c.iGM(o=c.CRH())&&(i._formFieldControl=o.first),c.iGM(o=c.CRH())&&(i._prefixChildren=o),c.iGM(o=c.CRH())&&(i._suffixChildren=o),c.iGM(o=c.CRH())&&(i._errorChildren=o),c.iGM(o=c.CRH())&&(i._hintChildren=o)}},viewQuery:function(t,i){if(1&t&&(c.Gf(by,5),c.Gf(xD,5),c.Gf(ID,5),c.Gf(gS,5),c.Gf(VD,5),c.Gf(Lc,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._textField=r.first),c.iGM(r=c.CRH())&&(i._iconPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._textPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._floatingLabel=r.first),c.iGM(r=c.CRH())&&(i._notchedOutline=r.first),c.iGM(r=c.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:Cy,useExisting:n}])],ngContentSelectors:wy,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(c.F$t(dS),c.YNc(0,aS,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),c.YNc(4,TD,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,kD,2,3,"div",5),c.YNc(7,RD,3,0,"div",6),c.YNc(8,Tr,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,cS,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,uS,2,0,"div",10),c.YNc(13,QO,2,0,"div",11),c.qZA(),c.YNc(14,XO,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,OD,2,1,"div",14),c.YNc(17,af,5,2,"div",15),c.qZA()),2&t&&(c.xp6(2),c.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),c.xp6(2),c.Q6J("ngIf",i._hasOutline()),c.xp6(1),c.Q6J("ngIf",i._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",i._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",i._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",i._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!i._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[ir,ca,Ks,Dr,F0,lf,gS,VD,Lc],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[BD.transitionMessages]},changeDetection:0}),n})(),GD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$s,Xs,y_,$s]}),n})();const Iy=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),yS=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qD=0;const WD=k_(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new rn.x}});let Ay=(()=>{class n extends WD{get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Oc.required)??!1}set required(t){this._required=oi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&y0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=oi(t)}constructor(t,i,r,o,u,f,g,v,C,T){super(f,o,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=T,this._uid="mat-input-"+qD++,this.focused=!1,this.stateChanges=new rn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>y0().has(H)),this._iOSKeyupListener=H=>{const te=H.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,U=N.nodeName.toLowerCase();this._inputValueAccessor=g||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){yS.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ti),c.Y36($a,10),c.Y36(El,8),c.Y36(Dm,8),c.Y36(lA),c.Y36(Iy,10),c.Y36(xw),c.Y36(c.R0b),c.Y36(Cy,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),c.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:Im,useExisting:n}]),c.qOj,c.TTD]}),n})(),YD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$s,GD,GD,Iw,$s]}),n})(),rP=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sP=["input"],oP=["*"];let bS=0;class df{constructor(e,t){this.source=e,this.value=t}}const aP={provide:gs,useExisting:(0,c.Gpc)(()=>XD),multi:!0},Sy=new c.OlP("MatRadioGroup"),Am=new c.OlP("mat-radio-default-options",{providedIn:"root",factory:function ZD(){return{color:"accent"}}});let KD=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=oi(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+bS++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new c.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new df(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class lP{constructor(e){this._elementRef=e}}const Ty=sw(iA(lP));let QD=(()=>{class n extends Ty{get checked(){return this._checked}set checked(t){const i=oi(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(oi(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=oi(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,u,f,g,v){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=u,this._providerOverride=g,this._uniqueId="mat-radio-"+ ++bS,this.id=this._uniqueId,this.change=new c.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===f,v&&(this.tabIndex=__(v,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new df(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(sP,5),2&t){let r;c.iGM(r=c.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[c.qOj]}),n})(),XD=(()=>{class n extends KD{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,My,5),2&t){let o;c.iGM(o=c.CRH())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[c._Bn([aP,{provide:Sy,useExisting:n}]),c.qOj]}),n})(),My=(()=>{class n extends QD{constructor(t,i,r,o,u,f,g,v){super(t,i,r,o,u,f,g,v)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sy,8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Xu),c.Y36(rP),c.Y36(c.QbO,8),c.Y36(Am,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&t&&(c.uIk("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),c.ekj("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[c.qOj],ngContentSelectors:oP,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(t,i){if(1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),c.NdJ("click",function(o){return i._onInputInteraction(o)}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("change",function(o){return i._onInputInteraction(o)}),c.qZA(),c.TgZ(6,"div",6),c._UZ(7,"div",7)(8,"div",8),c.qZA(),c.TgZ(9,"div",9),c._UZ(10,"div",10),c.qZA()(),c.TgZ(11,"label",11),c.Hsn(12),c.qZA()()),2&t){const r=c.MAs(1);c.ekj("mdc-form-field--align-end","before"==i.labelPosition),c.xp6(2),c.ekj("mdc-radio--disabled",i.disabled),c.xp6(2),c.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),c.xp6(5),c.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),c.xp6(2),c.Q6J("for",i.inputId)}},dependencies:[rm],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$s,Xs,dw,$s]}),n})();var hr=P(5577),wS=P(1144),ta=P(576);const Sm=["addListener","removeListener"],DS=["addEventListener","removeEventListener"],uP=["on","off"];function ky(n,e,t,i){if((0,ta.m)(t)&&(i=t,t=void 0),i)return ky(n,e,t).pipe(Yp(i));const[r,o]=function IS(n){return(0,ta.m)(n.addEventListener)&&(0,ta.m)(n.removeEventListener)}(n)?DS.map(u=>f=>n[u](e,f,t)):function CS(n){return(0,ta.m)(n.addListener)&&(0,ta.m)(n.removeListener)}(n)?Sm.map(ES(n,e)):function xS(n){return(0,ta.m)(n.on)&&(0,ta.m)(n.off)}(n)?uP.map(ES(n,e)):[];if(!r&&(0,wS.z)(n))return(0,hr.z)(u=>ky(u,e,t))((0,xc.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new qi.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return r(f),()=>o(f)})}function ES(n,e){return t=>i=>n[t](e,i)}var AS=P(4408),Mr=P(727);const fd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=fd;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Mr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=fd;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=fd;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var SS=P(7565);const TS=new class po extends SS.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class JD extends AS.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=fd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(fd.cancelAnimationFrame(t),e._scheduled=void 0)}});let tE,MS=1;const kr={};function nE(n){return n in kr&&(delete kr[n],!0)}const Ry={setImmediate(n){const e=MS++;return kr[e]=!0,tE||(tE=Promise.resolve()),tE.then(()=>nE(e)&&n()),e},clearImmediate(n){nE(n)}},{setImmediate:kS,clearImmediate:Oy}=Ry,hf={setImmediate(...n){const{delegate:e}=hf;return(e?.setImmediate||kS)(...n)},clearImmediate(n){const{delegate:e}=hf;return(e?.clearImmediate||Oy)(n)},delegate:void 0},rE=new class RS extends SS.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class iE extends AS.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=hf.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(hf.clearImmediate(t),e._scheduled=void 0)}});var sE=P(3532);function na(n,e=ju.z){return function PS(n){return(0,Mi.e)((e,t)=>{let i=!1,r=null,o=null,u=!1;const f=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,t.next(v)}u&&t.complete()},g=()=>{o=null,u&&t.complete()};e.subscribe((0,ki.x)(t,v=>{i=!0,r=v,o||(0,xc.Xf)(n(v)).subscribe(o=(0,ki.x)(t,f,g))},()=>{u=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function Py(n=0,e,t=ju.P){let i=-1;return null!=e&&((0,sE.K)(e)?t=e:i=e),new qi.y(r=>{let o=function NS(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}const oE=["contentWrapper"],Ny=["*"],Ga=new c.OlP("VIRTUAL_SCROLL_STRATEGY");let Tm=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new rn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new qi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(na(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ps(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ba(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ky(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Ti),c.LFG(ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aE=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new rn.x,this._elementScrolled=new qi.y(u=>this.ngZone.runOutsideAngular(()=>ky(this.elementRef.nativeElement,"scroll").pipe(Va(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Mh()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Mh()?t.left=t.right:1==Mh()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;Yx()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==Mh()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==Mh()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Tm),c.Y36(c.R0b),c.Y36(fo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),cE=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new rn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(na(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti),c.LFG(c.R0b),c.LFG(ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fy=new c.OlP("VIRTUAL_SCROLLABLE");let LS=(()=>{class n extends aE{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Tm),c.Y36(c.R0b),c.Y36(fo,8))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const pP=typeof requestAnimationFrame<"u"?TS:rE;let Ly=(()=>{class n extends LS{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=oi(t)}constructor(t,i,r,o,u,f,g,v){super(t,f,r,u),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=(0,c.f3M)(Ti),this._detachedSubject=new rn.x,this._renderedRangeSubject=new rn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new qi.y(C=>this._scrollStrategy.scrolledIndexChange.subscribe(T=>Promise.resolve().then(()=>this.ngZone.run(()=>C.next(T))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Mr.w0.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(zu(null),na(0,pP)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Va(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function uE(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,u=o?"X":"Y";let g=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(g+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",u="rtl"==this.dir?.value;i="start"==t?u?o:r:"end"==t?u?r:o:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Ga,8),c.Y36(fo,8),c.Y36(Tm),c.Y36(cE),c.Y36(Fy,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&c.Gf(oE,7),2&t){let r;c.iGM(r=c.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[c._Bn([{provide:aE,useFactory:(e,t)=>e||t,deps:[[new c.FiY,new c.tBr(Fy)],n]}]),c.qOj,c.jDz],ngContentSelectors:Ny,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(3),c.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[zh,Mm,Ly,zh,Mm]}),n})();class dE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class km extends dE{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class zS extends dE{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class $S extends dE{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class hE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof km?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof zS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof $S?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _P extends hE{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let fE=(()=>{class n extends hE{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=o=>{const u=o.element,f=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(ee))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),pE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Uy=Yx();class Vc{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=_i(-this._previousScrollPosition.left),e.style.top=_i(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Uy&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Uy&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Hy{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Rm{enable(){}disable(){}attach(){}}function jy(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Om(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class zy{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jy(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Pm=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Rm,this.close=u=>new Hy(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Vc(this._viewportRuler,this._document),this.reposition=u=>new zy(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Tm),c.LFG(cE),c.LFG(c.R0b),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qS{constructor(e){if(this.scrollStrategy=new Rm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class vP{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let mE=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YS=(()=>{class n extends mE{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const f=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZS=(()=>{class n extends mE{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=bl(o)},this._clickListener=o=>{const u=bl(o),f="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const C=g[v];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(f))break;const T=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(o)):T.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(Ti),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$y=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Hp()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),Hp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(Ti))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gE{constructor(e,t,i,r,o,u,f,g,v,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new rn.x,this._attachments=new rn.x,this._detachments=new rn.x,this._locationChanges=Mr.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new rn.x,this._outsidePointerEvents=new rn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=_i(this._config.width),e.height=_i(this._config.height),e.minWidth=_i(this._config.minWidth),e.minHeight=_i(this._config.minHeight),e.maxWidth=_i(this._config.maxWidth),e.maxHeight=_i(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Hu(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Va((0,dd.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Gy="cdk-overlay-connected-position-bounding-box",KS=/([A-Za-z%]+)$/;class _E{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new rn.x,this._resizeSubscription=Mr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Gy),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,r,f),v=this._getOverlayPoint(g,t,f),C=this._getOverlayFit(v,t,i,f);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(C,v,i)?o.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:v,originPoint:g,position:f,overlayRect:t})}if(o.length){let f=null,g=-1;for(const v of o){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>g&&(g=C,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Gy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=QS(t);let{x:u,y:f}=e,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(f+=v);let N=0-f,U=f+o.height-i.height,H=this._subtractOverflows(o.width,0-u,u+o.width-i.width),te=this._subtractOverflows(o.height,N,U),De=H*te;return{visibleArea:De,isCompletelyWithinViewport:o.width*o.height===De,fitsInViewportVertically:te===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,u=Nm(this._overlayRef.getConfig().minHeight),f=Nm(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=f&&f<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=QS(t),o=this._viewportRect,u=Math.max(e.x+r.width-o.width,0),f=Math.max(e.y+r.height-o.height,0),g=Math.max(o.top-i.top-e.y,0),v=Math.max(o.left-i.left-e.x,0);let C=0,T=0;return C=r.width<=o.width?v||-u:e.x<this._viewportMargin?o.left-i.left-e.x:0,T=r.height<=o.height?g||-f:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:C,y:T},{x:e.x+C,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new vP(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,u,f,C,T,N;if("top"===t.overlayY)u=e.y,o=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,o=i.height-f+this._viewportMargin;else{const U=Math.min(i.bottom-e.y+i.top,e.y),H=this._lastBoundingBoxSize.height;o=2*U,u=e.y-U,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-H/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)N=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)T=e.x,C=i.right-e.x;else{const U=Math.min(i.right-e.x+i.left,e.x),H=this._lastBoundingBoxSize.width;C=2*U,T=e.x-U,C>H&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-H/2)}return{top:u,left:T,bottom:f,right:N,width:C,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=_i(i.height),r.top=_i(i.top),r.bottom=_i(i.bottom),r.width=_i(i.width),r.left=_i(i.left),r.right=_i(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=_i(o)),u&&(r.maxWidth=_i(u))}this._lastBoundingBoxSize=i,Cl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Cl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();Cl(i,this._getExactOverlayY(t,e,C)),Cl(i,this._getExactOverlayX(t,e,C))}else i.position="static";let f="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),v&&(f+=`translateY(${v}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=_i(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=_i(u.maxWidth):o&&(i.maxWidth="")),Cl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=_i(o.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=_i(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Om(e,i),isOriginOutsideView:jy(e,i),isOverlayClipped:Om(t,i),isOverlayOutsideView:jy(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Hu(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Cl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Nm(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(KS);return t&&"px"!==t?null:parseFloat(e)}return n||null}function QS(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vE="cdk-global-overlay-wrapper";class JS{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(vE),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||f&&"100%"!==f&&"100vh"!==f),C=this._xPosition,T=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let U="",H="",te="";g?te="flex-start":"center"===C?(te="center",N?H=T:U=T):N?"left"===C||"end"===C?(te="flex-end",U=T):("right"===C||"start"===C)&&(te="flex-start",H=T):"left"===C||"start"===C?(te="flex-start",U=T):("right"===C||"end"===C)&&(te="flex-end",H=T),e.position=this._cssPosition,e.marginLeft=g?"0":U,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":H,t.justifyContent=te,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(vE),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let wP=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new JS}flexibleConnectedTo(t){return new _E(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cE),c.LFG(ee),c.LFG(Ti),c.LFG($y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DP=0,Fm=(()=>{class n{constructor(t,i,r,o,u,f,g,v,C,T,N,U){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=v,this._directionality=C,this._location=T,this._outsideClickDispatcher=N,this._animationsModuleType=U}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new qS(t);return u.direction=u.direction||this._directionality.value,new gE(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+DP++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new _P(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pm),c.LFG($y),c.LFG(c._Vd),c.LFG(wP),c.LFG(YS),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ee),c.LFG(fo),c.LFG(Me),c.LFG(ZS),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xP={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Fm],useFactory:function CP(n){return()=>n.scrollStrategies.reposition()}};let IP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fm,xP],imports:[zh,pE,ff,ff]}),n})();const SP=["mat-calendar-body",""];function TP(n,e){if(1&n&&(c.TgZ(0,"tr",3)(1,"td",4),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(1),c.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),c.uIk("colspan",t.numCols),c.xp6(1),c.hij(" ",t.label," ")}}function MP(n,e){if(1&n&&(c.TgZ(0,"td",4),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),c.uIk("colspan",t._firstRowOffset),c.xp6(1),c.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function kP(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",8)(1,"button",9),c.NdJ("click",function(r){const u=c.CHM(t).$implicit,f=c.oxw(2);return c.KtG(f._cellClicked(u,r))})("focus",function(r){const u=c.CHM(t).$implicit,f=c.oxw(2);return c.KtG(f._emitActiveDateChange(u,r))}),c.TgZ(2,"div",10),c._uU(3),c.qZA(),c._UZ(4,"div",11),c.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw().index,o=c.oxw();c.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),c.uIk("data-mat-row",r)("data-mat-col",i),c.xp6(1),c.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(t.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",o._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(t.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(t.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",o._isInPreview(t.compareValue)),c.Q6J("ngClass",t.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),c.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",o._isSelected(t.compareValue))("aria-current",o.todayValue===t.compareValue?"date":null)("aria-describedby",o._getDescribedby(t.compareValue)),c.xp6(1),c.ekj("mat-calendar-body-selected",o._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",o.todayValue===t.compareValue),c.xp6(1),c.hij(" ",t.displayValue," ")}}function RP(n,e){if(1&n&&(c.TgZ(0,"tr",5),c.YNc(1,MP,2,6,"td",6),c.YNc(2,kP,5,48,"td",7),c.qZA()),2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.xp6(1),c.Q6J("ngIf",0===i&&r._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",t)}}function OP(n,e){if(1&n&&(c.TgZ(0,"th",5)(1,"span",6),c._uU(2),c.qZA(),c.TgZ(3,"span",7),c._uU(4),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.long),c.xp6(2),c.Oqu(t.narrow)}}const s=["*"];function a(n,e){}function l(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o.activeDate=r)})("_userSelection",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._dateSelected(r))})("dragStarted",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._dragStarted(r))})("dragEnded",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._dragEnded(r))}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function d(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o.activeDate=r)})("monthSelected",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._goToDateInView(r,"month"))}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function h(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o.activeDate=r)})("yearSelected",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._goToDateInView(r,"year"))}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function p(n,e){}const y=["button"];function w(n,e){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"path",4),c.qZA())}const E=[[["","matDatepickerToggleIcon",""]]],S=["[matDatepickerToggleIcon]"];let ye=(()=>{class n{constructor(){this.changes=new rn.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Be{constructor(e,t,i,r,o={},u=e,f){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=f}}let Ge=1,Xe=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this.activeDateChange=new c.vpe,this.dragStarted=new c.vpe,this.dragEnded=new c.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const o=tT(r),u=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),Oe(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:u?.enabled?u:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const o=Oe(r.target);o?o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const u=this._getCellFromElement(o);this.dragEnded.emit({value:u?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const o=tT(r);o&&this._mouseupHandler({target:o})},this._id="mat-calendar-body-"+Ge++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=t.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("touchmove",this._touchmoveHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0),r.addEventListener("mousedown",this._mousedownHandler),r.addEventListener("touchstart",this._mousedownHandler),window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler)})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:r,numCols:o}=this;(t.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("touchmove",this._touchmoveHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("touchstart",this._mousedownHandler),window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler)}_isActiveCell(t,i){let r=t*this.numCols+i;return t&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zs(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return Ot(t,this.startValue,this.endValue)}_isRangeEnd(t){return En(t,this.startValue,this.endValue)}_isInRange(t){return Fn(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Ot(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,r){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(t,i,r){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(t){return En(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Fn(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Ot(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return En(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Fn(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const i=Oe(t);if(i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:SP,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(c.YNc(0,TP,3,6,"tr",0),c.YNc(1,RP,3,2,"tr",1),c.TgZ(2,"label",2),c._uU(3),c.qZA(),c.TgZ(4,"label",2),c._uU(5),c.qZA()),2&t&&(c.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",i.rows),c.xp6(1),c.Q6J("id",i._startDateLabelId),c.xp6(1),c.hij(" ",i.startDateAccessibleName,"\n"),c.xp6(1),c.Q6J("id",i._endDateLabelId),c.xp6(1),c.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[At,wr,ir],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function Dt(n){return"TD"===n?.nodeName}function Oe(n){let e;return Dt(n)?e=n:Dt(n.parentNode)?e=n.parentNode:Dt(n.parentNode?.parentNode)&&(e=n.parentNode.parentNode),null!=e?.getAttribute("data-mat-row")?e:null}function Ot(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function En(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function Fn(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}function tT(n){const e=n.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}class _s{constructor(e,t){this.start=e,this.end=t}}let pd=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new rn.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const r=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),mH=(()=>{class n extends pd{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ri))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const PP={provide:pd,deps:[[new c.FiY,new c.tp0,pd],Ri],useFactory:function _H(n,e){return n||new mH(e)}},bE=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let NP=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof _s?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,o,u){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=Mr.w0.EMPTY,this.activeDrag=null,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.dragStarted=new c.vpe,this.dragEnded=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zu(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,r=this._getDateFromDayOfMonth(i);let o,u;this._selected instanceof _s?(o=this._getDateInCurrentMonth(this._selected.start),u=this._getDateInCurrentMonth(this._selected.end)):o=u=this._getDateInCurrentMonth(this._selected),(o!==i||u!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!Uu(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,t);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){const u=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,t);u&&(this._previewStart=this._getCellCompareValue(u.start),this._previewEnd=this._getCellCompareValue(u.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,f)=>({long:u,narrow:i[f]}));this._weekdays=o.slice(t).concat(o.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<t;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),f=this._shouldEnableDate(u),g=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new Be(r+1,i[r],g,f,v,this._getCellCompareValue(u),u))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),r=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof _s?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(ed,8),c.Y36(Ri,8),c.Y36(fo,8),c.Y36(bE,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&c.Gf(Xe,5),2&t){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,i){1&t&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c.YNc(3,OP,5,2,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA()(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("dragStarted",function(o){return i.dragStarted.emit(o)})("dragEnded",function(o){return i._dragEnded(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngForOf",i._weekdays),c.xp6(3),c.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[wr,Xe],encapsulation:2,changeDetection:0}),n})(),FP=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),LP(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof _s?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Mr.w0.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zu(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-qy(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-qy(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-qy(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return qy(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Be(t,r,r,this._shouldEnableYear(t),o)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof _s){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(Ri,8),c.Y36(fo,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&c.Gf(Xe,5),2&t){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),c.qZA()()),2&t&&(c.xp6(4),c.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Xe],encapsulation:2,changeDetection:0}),n})();function LP(n,e,t,i,r){const o=n.getYear(e),u=n.getYear(t),f=VP(n,i,r);return Math.floor((o-f)/24)===Math.floor((u-f)/24)}function qy(n,e,t,i){return function wH(n,e){return(n%e+e)%e}(n.getYear(e)-VP(n,t,i),24)}function VP(n,e,t){let i=0;return t?i=n.getYear(t)-24+1:e&&(i=n.getYear(e)),i}let BP=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof _s?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Mr.w0.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zu(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,t[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(t,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new Be(t,i.toLocaleUpperCase(),o,this._shouldEnableMonth(t),u)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>r||t===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<r||t===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof _s?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(ed,8),c.Y36(Ri,8),c.Y36(fo,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&c.Gf(Xe,5),2&t){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),c.qZA()()),2&t&&(c.xp6(4),c.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Xe],encapsulation:2,changeDetection:0}),n})(),DH=1,EH=(()=>{class n{constructor(t,i,r,o,u){this._intl=t,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._id="mat-calendar-header-"+DH++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):LP(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-qy(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ye),c.Y36((0,c.Gpc)(()=>rT)),c.Y36(Ri,8),c.Y36(ed,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:s,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.currentPeriodClicked()}),c.TgZ(3,"span",3),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",4),c._UZ(6,"polygon",5),c.qZA()(),c.kcU(),c._UZ(7,"div",6),c.Hsn(8),c.TgZ(9,"button",7),c.NdJ("click",function(){return i.previousClicked()}),c.qZA(),c.TgZ(10,"button",8),c.NdJ("click",function(){return i.nextClicked()}),c.qZA()()(),c.TgZ(11,"label",9),c._uU(12),c.qZA()),2&t&&(c.xp6(2),c.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),c.xp6(2),c.Oqu(i.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==i.calendar.currentView),c.xp6(4),c.Q6J("disabled",!i.previousEnabled()),c.uIk("aria-label",i.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!i.nextEnabled()),c.uIk("aria-label",i.nextButtonLabel),c.xp6(1),c.Q6J("id",i._periodButtonLabelId),c.xp6(1),c.Oqu(i.periodButtonDescription))},dependencies:[L_,Dw],encapsulation:2,changeDetection:0}),n})(),rT=(()=>{class n{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof _s?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this._userDragDrop=new c.vpe,this._activeDrag=null,this.stateChanges=new rn.x,this._intlChanges=t.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new km(this.headerComponent||EH),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,r=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,o=i||r||t.dateFilter;if(o&&!o.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof _s||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ye),c.Y36(Ri,8),c.Y36(ed,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(c.Gf(NP,5),c.Gf(BP,5),c.Gf(FP,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.monthView=r.first),c.iGM(r=c.CRH())&&(i.yearView=r.first),c.iGM(r=c.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[c._Bn([PP]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(c.YNc(0,a,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,l,1,11,"mat-month-view",2),c.YNc(3,d,1,6,"mat-year-view",3),c.YNc(4,h,1,6,"mat-multi-year-view",4),c.qZA()),2&t&&(c.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",i.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ks,Dr,Jp,fE,NP,BP,FP],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const UP={transformPanel:pl("transformPanel",[cs("void => enter-dropdown",co("120ms cubic-bezier(0, 0, 0.2, 1)",Cu([si({opacity:0,transform:"scale(1, 0.8)"}),si({opacity:1,transform:"scale(1, 1)"})]))),cs("void => enter-dialog",co("150ms cubic-bezier(0, 0, 0.2, 1)",Cu([si({opacity:0,transform:"scale(0.7)"}),si({transform:"none",opacity:1})]))),cs("* => void",co("100ms linear",si({opacity:0})))]),fadeInCalendar:pl("fadeInCalendar",[oc("void",si({opacity:0})),oc("enter",si({opacity:1})),cs("void => *",co("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let CH=0;const HP=new c.OlP("mat-datepicker-scroll-strategy"),IH={provide:HP,deps:[Fm],useFactory:function xH(n){return()=>n.scrollStrategies.reposition()}},AH=Ha(class{constructor(n){this._elementRef=n}});let SH=(()=>{class n extends AH{constructor(t,i,r,o,u,f){super(t),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=u,this._subscriptions=new Mr.w0,this._animationDone=new rn.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=f.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,r=t.value,o=i instanceof _s;if(o&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,t.event);this._model.updateSelection(u,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(pd),c.Y36(Ri),c.Y36(bE,8),c.Y36(ye))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(1&t&&c.Gf(rT,5),2&t){let r;c.iGM(r=c.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,i){1&t&&c.WFA("@transformPanel.start",function(o){return i._handleAnimationEvent(o)})("@transformPanel.done",function(o){return i._handleAnimationEvent(o)}),2&t&&(c.d8E("@transformPanel",i._animationState),c.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,i){if(1&t&&(c.TgZ(0,"div",0)(1,"mat-calendar",1),c.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)})("_userDragDrop",function(o){return i._handleUserDragDrop(o)}),c.qZA(),c.YNc(2,p,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),c._uU(4),c.qZA()()),2&t){let r;c.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),c.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),c.xp6(1),c.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),c.xp6(1),c.Q6J("cdkPortalOutlet",i._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!i._closeButtonFocused),c.Q6J("color",i.color||"primary"),c.xp6(1),c.Oqu(i._closeButtonText)}},dependencies:[At,L_,Qu,fE,rT],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[UP.transformPanel,UP.fadeInCalendar]},changeDetection:0}),n})(),jP=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=oi(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=oi(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=oi(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function Gp(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t)}get opened(){return this._opened}set opened(t){oi(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,i,r,o,u,f,g){this._overlay=t,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=f,this._model=g,this._inputStateChanges=Mr.w0.EMPTY,this._document=(0,c.f3M)(ee),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+CH++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new rn.x,this._scrollStrategy=o}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof _E&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Fu(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(zs(1)).subscribe(()=>{const u=this._document.activeElement;t&&(!u||u===this._document.activeElement||o.nativeElement.contains(u))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new km(SH,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new qS({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const u=o.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe(zs(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",u="top"===o?"bottom":"top";return t.withPositions([{originX:i,originY:u,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:u}])}_getCloseStream(t){const i=["ctrlKey","shiftKey","metaKey"];return(0,dd.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(ps(r=>27===r.keyCode&&!Uu(r)||this.datepickerInput&&Uu(r,"altKey")&&38===r.keyCode&&i.every(o=>!Uu(r,o)))))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fm),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(HP),c.Y36(Ri,8),c.Y36(fo,8),c.Y36(pd))},n.\u0275dir=c.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),n})(),TH=(()=>{class n extends jP{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([PP,{provide:jP,useExisting:n}]),c.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();class wE{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let MH=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=oi(t),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new wE(this,this._elementRef.nativeElement)),this.dateChange.emit(new wE(this,this._elementRef.nativeElement))}})}constructor(t,i,r){this._elementRef=t,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new rn.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Mr.w0.EMPTY,this._localeSubscription=Mr.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),f=this._getMinDate();return!f||!u||this._dateAdapter.compareDate(f,u)<=0?null:{matDatepickerMin:{min:f,actual:u}}},this._maxValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),f=this._getMaxDate();return!f||!u||this._dateAdapter.compareDate(f,u)>=0?null:{matDatepickerMax:{max:f,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function kH(n,e){const t=Object.keys(n);for(let i of t){const{previousValue:r,currentValue:o}=n[i];if(!e.isDateInstance(r)||!e.isDateInstance(o))return!0;if(!e.sameDate(r,o))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){Uu(t,"altKey")&&40===t.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!Uu(t,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let r=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(t&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new wE(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new wE(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ri,8),c.Y36(ed,8))},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),n})();const RH={provide:gs,useExisting:(0,c.Gpc)(()=>sT),multi:!0},OH={provide:ur,useExisting:(0,c.Gpc)(()=>sT),multi:!0};let sT=(()=>{class n extends MH{set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(t,i,r,o){super(t,i,r),this._formField=o,this._closedSubscription=Mr.w0.EMPTY,this._validator=Oc.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ri,8),c.Y36(ed,8),c.Y36(Cy,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){1&t&&c.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&t&&(c.Ikx("disabled",i.disabled),c.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([RH,OH,{provide:Iy,useExisting:n}]),c.qOj]}),n})(),PH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),NH=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=oi(t)}constructor(t,i,r){this._intl=t,this._changeDetectorRef=i,this._stateChanges=Mr.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:at(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:at(),r=this.datepicker?(0,dd.T)(this.datepicker.openedStream,this.datepicker.closedStream):at();this._stateChanges.unsubscribe(),this._stateChanges=(0,dd.T)(this._intl.changes,t,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ye),c.Y36(c.sBO),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,PH,5),2&t){let o;c.iGM(o=c.CRH())&&(i._customIcon=o.first)}},viewQuery:function(t,i){if(1&t&&c.Gf(y,5),2&t){let r;c.iGM(r=c.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){1&t&&c.NdJ("click",function(o){return i._open(o)}),2&t&&(c.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),c.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.TTD],ngContentSelectors:S,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){1&t&&(c.F$t(E),c.TgZ(0,"button",0,1),c.YNc(2,w,2,0,"svg",2),c.Hsn(3),c.qZA()),2&t&&(c.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),c.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),c.xp6(2),c.Q6J("ngIf",!i._customIcon))},dependencies:[ir,Dw],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ye,IH],imports:[Xs,Ew,IP,X0,pE,$s,Mm]}),n})();function md(n,e){return(0,ta.m)(e)?(0,hr.z)(n,e,1):(0,hr.z)(n,1)}class DE{}class aT{}class Bc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Bc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Bc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Bc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===o.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class BH{encodeKey(e){return $P(e)}encodeValue(e){return $P(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const HH=/%(\d[a-f0-9])/gi,jH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $P(n){return encodeURIComponent(n).replace(HH,(e,t)=>jH[t]??e)}function EE(n){return`${n}`}class gd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new BH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function UH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,f]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],g=t.get(u)||[];g.push(f),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(EE):[EE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(EE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(EE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qP(n){return typeof Blob<"u"&&n instanceof Blob}function WP(n){return typeof FormData<"u"&&n instanceof FormData}class Wy{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $H(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Bc),this.context||(this.context=new zH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new gd,this.urlWithParams=t}serializeBody(){return null===this.body?null:GP(this.body)||qP(this.body)||WP(this.body)||function GH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WP(this.body)?null:qP(this.body)?this.body.type||null:GP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((T,N)=>T.set(N,e.setHeaders[N]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((T,N)=>T.set(N,e.setParams[N]),v)),new Wy(t,i,o,{params:v,headers:g,context:C,reportProgress:f,responseType:r,withCredentials:u})}}var Wi=(()=>((Wi=Wi||{})[Wi.Sent=0]="Sent",Wi[Wi.UploadProgress=1]="UploadProgress",Wi[Wi.ResponseHeader=2]="ResponseHeader",Wi[Wi.DownloadProgress=3]="DownloadProgress",Wi[Wi.Response=4]="Response",Wi[Wi.User=5]="User",Wi))();class lT{constructor(e,t=200,i="OK"){this.headers=e.headers||new Bc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cT extends lT{constructor(e={}){super(e),this.type=Wi.ResponseHeader}clone(e={}){return new cT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class CE extends lT{constructor(e={}){super(e),this.type=Wi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new CE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class YP extends lT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZP=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Wy)o=t;else{let g,v;g=r.headers instanceof Bc?r.headers:new Bc(r.headers),r.params&&(v=r.params instanceof gd?r.params:new gd({fromObject:r.params})),o=new Wy(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=at(o).pipe(md(g=>this.handler.handle(g)));if(t instanceof Wy||"events"===r.observe)return u;const f=u.pipe(ps(g=>g instanceof CE));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe((0,St.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,St.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,St.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,St.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new gd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,uT(r,i))}post(t,i,r={}){return this.request("POST",t,uT(r,i))}put(t,i,r={}){return this.request("PUT",t,uT(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(DE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function KP(n,e){return e(n)}function qH(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const YH=new c.OlP("HTTP_INTERCEPTORS"),Yy=new c.OlP("HTTP_INTERCEPTOR_FNS");function ZH(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(YH,{optional:!0})??[]).reduceRight(qH,KP)),n(e,t))}let QP=(()=>{class n extends DE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Yy)));this.chain=i.reduceRight((r,o)=>function WH(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(r,o,this.injector),KP)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aT),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const JH=/^\)\]\}',?\n/;let JP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qi.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((U,H)=>r.setRequestHeader(U,H.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const U=t.detectContentTypeHeader();null!==U&&r.setRequestHeader("Content-Type",U)}if(t.responseType){const U=t.responseType.toLowerCase();r.responseType="json"!==U?U:"text"}const o=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const U=r.statusText||"OK",H=new Bc(r.getAllResponseHeaders()),te=function ej(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new cT({headers:H,status:r.status,statusText:U,url:te}),u},g=()=>{let{headers:U,status:H,statusText:te,url:De}=f(),ze=null;204!==H&&(ze=typeof r.response>"u"?r.responseText:r.response),0===H&&(H=ze?200:0);let it=H>=200&&H<300;if("json"===t.responseType&&"string"==typeof ze){const _t=ze;ze=ze.replace(JH,"");try{ze=""!==ze?JSON.parse(ze):null}catch(ut){ze=_t,it&&(it=!1,ze={error:ut,text:ze})}}it?(i.next(new CE({body:ze,headers:U,status:H,statusText:te,url:De||void 0})),i.complete()):i.error(new YP({error:ze,headers:U,status:H,statusText:te,url:De||void 0}))},v=U=>{const{url:H}=f(),te=new YP({error:U,status:r.status||0,statusText:r.statusText||"Unknown Error",url:H||void 0});i.error(te)};let C=!1;const T=U=>{C||(i.next(f()),C=!0);let H={type:Wi.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(H.total=U.total),"text"===t.responseType&&r.responseText&&(H.partialText=r.responseText),i.next(H)},N=U=>{let H={type:Wi.UploadProgress,loaded:U.loaded};U.lengthComputable&&(H.total=U.total),i.next(H)};return r.addEventListener("load",g),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),t.reportProgress&&(r.addEventListener("progress",T),null!==o&&r.upload&&r.upload.addEventListener("progress",N)),r.send(o),i.next({type:Wi.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",g),r.removeEventListener("timeout",v),t.reportProgress&&(r.removeEventListener("progress",T),null!==o&&r.upload&&r.upload.removeEventListener("progress",N)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const dT=new c.OlP("XSRF_ENABLED"),eN="XSRF-TOKEN",tN=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>eN}),nN="X-XSRF-TOKEN",iN=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>nN});class rN{}let tj=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ci(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(c.Lbi),c.LFG(tN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function nj(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(dT)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,c.f3M)(rN).getToken(),r=(0,c.f3M)(iN);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Pi=(()=>((Pi=Pi||{})[Pi.Interceptors=0]="Interceptors",Pi[Pi.LegacyInterceptors=1]="LegacyInterceptors",Pi[Pi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pi[Pi.NoXsrfProtection=3]="NoXsrfProtection",Pi[Pi.JsonpSupport=4]="JsonpSupport",Pi[Pi.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pi))();function Lm(n,e){return{\u0275kind:n,\u0275providers:e}}function ij(...n){const e=[ZP,JP,QP,{provide:DE,useExisting:QP},{provide:aT,useExisting:JP},{provide:Yy,useValue:nj,multi:!0},{provide:dT,useValue:!0},{provide:rN,useClass:tj}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const sN=new c.OlP("LEGACY_INTERCEPTOR_FN");function sj({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:tN,useValue:n}),void 0!==e&&t.push({provide:iN,useValue:e}),Lm(Pi.CustomXsrfConfiguration,t)}let oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ij(Lm(Pi.LegacyInterceptors,[{provide:sN,useFactory:ZH},{provide:Yy,useExisting:sN,multi:!0}]),sj({cookieName:eN,headerName:nN}))]}),n})();const xE=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oN(n){return new qi.y(e=>{(0,xc.Xf)(n()).subscribe(e)})}var lj=P(9635);function Zy(n,e){const t=(0,ta.m)(n)?n:()=>n,i=r=>r.error(t());return new qi.y(e?r=>e.schedule(i,0,r):i)}function hT(){return(0,Mi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ki.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class aN extends qi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ki.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mr.w0.EMPTY)}return e}refCount(){return hT()(this)}}function fr(n,e){return(0,Mi.e)((t,i)=>{let r=null,o=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,ki.x)(i,g=>{r?.unsubscribe();let v=0;const C=o++;(0,xc.Xf)(n(g,C)).subscribe(r=(0,ki.x)(i,T=>i.next(e?e(g,T,C,v++):T),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function IE(n){return(0,Mi.e)((e,t)=>{let i=!1;e.subscribe((0,ki.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function lN(n=cj){return(0,Mi.e)((e,t)=>{let i=!1;e.subscribe((0,ki.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function cj(){return new xE}function Uc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ps((r,o)=>n(r,o,i)):Nh.y,zs(1),t?IE(e):lN(()=>new xE))}var qr=P(8505);function _d(n){return(0,Mi.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,ki.x)(t,void 0,void 0,u=>{o=(0,xc.Xf)(n(u,_d(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function uj(n,e,t,i,r){return(o,u)=>{let f=t,g=e,v=0;o.subscribe((0,ki.x)(u,C=>{const T=v++;g=f?n(g,C,T):(f=!0,C),i&&u.next(g)},r&&(()=>{f&&u.next(g),u.complete()})))}}function cN(n,e){return(0,Mi.e)(uj(n,e,arguments.length>=2,!0))}function fT(n){return n<=0?()=>La.E:(0,Mi.e)((e,t)=>{let i=[];e.subscribe((0,ki.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function uN(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ps((r,o)=>n(r,o,i)):Nh.y,fT(1),t?IE(e):lN(()=>new xE))}function pT(n){return(0,Mi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Qt="primary",Ky=Symbol("RouteTitle");class fj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vm(n){return new fj(n)}function pj(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],f=n[o];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xl(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!dN(n[r],e[r]))return!1;return!0}function dN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function hN(n){return Array.prototype.concat.apply([],n)}function fN(n){return n.length>0?n[n.length-1]:null}function Rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yd(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Wn.D)(Promise.resolve(n)):at(n)}const AE=!1,gj={exact:function gN(n,e,t){if(!mf(n.segments,e.segments)||!SE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!gN(n.children[i],e.children[i],t))return!1;return!0},subset:_N},pN={exact:function _j(n,e){return xl(n,e)},subset:function yj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dN(n[t],e[t]))},ignored:()=>!0};function mN(n,e,t){return gj[t.paths](n.root,e.root,t.matrixParams)&&pN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _N(n,e,t){return yN(n,e,e.segments,t)}function yN(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!mf(r,t)||e.hasChildren()||!SE(r,t,i))}if(n.segments.length===t.length){if(!mf(n.segments,t)||!SE(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!_N(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(mf(n.segments,r)&&SE(n.segments,r,i)&&n.children[Qt])&&yN(n.children[Qt],e,o,i)}}function SE(n,e,t){return e.every((i,r)=>pN[t](n[r].parameters,i.parameters))}class pf{constructor(e=new tn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vm(this.queryParams)),this._queryParamMap}toString(){return wj.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return TE(this)}}class Qy{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vm(this.parameters)),this._parameterMap}toString(){return wN(this)}}function mf(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Xy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new mT},providedIn:"root"}),n})();class mT{parse(e){const t=new Mj(e);return new pf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Jy(e.root,!0)}`,i=function Cj(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ME(t)}=${ME(r)}`).join("&"):`${ME(t)}=${ME(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Dj(n){return encodeURI(n)}(e.fragment)}`:""}`}}const wj=new mT;function TE(n){return n.segments.map(e=>wN(e)).join("/")}function Jy(n,e){if(!n.hasChildren())return TE(n);if(e){const t=n.children[Qt]?Jy(n.children[Qt],!1):"",i=[];return Rr(n.children,(r,o)=>{o!==Qt&&i.push(`${o}:${Jy(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function bj(n,e){let t=[];return Rr(n.children,(i,r)=>{r===Qt&&(t=t.concat(e(i,r)))}),Rr(n.children,(i,r)=>{r!==Qt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Qt?[Jy(n.children[Qt],!1)]:[`${r}:${Jy(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${TE(n)}/${t[0]}`:`${TE(n)}/(${t.join("//")})`}}function vN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ME(n){return vN(n).replace(/%3B/gi,";")}function gT(n){return vN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kE(n){return decodeURIComponent(n)}function bN(n){return kE(n.replace(/\+/g,"%20"))}function wN(n){return`${gT(n.path)}${function Ej(n){return Object.keys(n).map(e=>`;${gT(e)}=${gT(n[e])}`).join("")}(n.parameters)}`}const xj=/^[^\/()?;=#]+/;function RE(n){const e=n.match(xj);return e?e[0]:""}const Ij=/^[^=?&#]+/,Sj=/^[^&#]+/;class Mj{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Qt]=new tn(e,t)),i}parseSegment(){const e=RE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,AE);return this.capture(e),new Qy(kE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=RE(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=RE(this.remaining);r&&(i=r,this.capture(i))}e[kE(t)]=kE(i)}parseQueryParam(e){const t=function Aj(n){const e=n.match(Ij);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Tj(n){const e=n.match(Sj);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=bN(t),o=bN(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=RE(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,AE);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Qt);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[Qt]:new tn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,AE)}}function _T(n){return n.segments.length>0?new tn([],{[Qt]:n}):n}function OE(n){const e={};for(const i of Object.keys(n.children)){const o=OE(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function kj(n){if(1===n.numberOfChildren&&n.children[Qt]){const e=n.children[Qt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function gf(n){return n instanceof pf}function Pj(n,e,t,i,r){if(0===t.length)return Bm(e.root,e.root,e.root,i,r);const o=function CN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new EN(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Rr(o.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,o]},[]);return new EN(t,e,i)}(t);return o.toRoot()?Bm(e.root,e.root,new tn([],{}),i,r):function u(g){const v=function Fj(n,e,t,i){if(n.isAbsolute)return new Um(e.root,!0,0);if(-1===i)return new Um(t,t===e.root,0);return function xN(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Um(i,!1,r-o)}(t,i+(ev(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,g),C=v.processChildren?nv(v.segmentGroup,v.index,o.commands):vT(v.segmentGroup,v.index,o.commands);return Bm(e.root,v.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function ev(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tv(n){return"object"==typeof n&&null!=n&&n.outlets}function Bm(n,e,t,i,r){let u,o={};i&&Rr(i,(g,v)=>{o[v]=Array.isArray(g)?g.map(C=>`${C}`):`${g}`}),u=n===e?t:DN(n,e,t);const f=_T(OE(u));return new pf(f,o,r)}function DN(n,e,t){const i={};return Rr(n.children,(r,o)=>{i[o]=r===e?t:DN(r,e,t)}),new tn(n.segments,i)}class EN{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ev(i[0]))throw new c.vHH(4003,!1);const r=i.find(tv);if(r&&r!==fN(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Um{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function vT(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return nv(n,e,t);const i=function Vj(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const u=n.segments[r],f=t[i];if(tv(f))break;const g=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!AN(g,v,u))return o;i+=2}else{if(!AN(g,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new tn(n.segments.slice(0,i.pathIndex),{});return o.children[Qt]=new tn(n.segments.slice(i.pathIndex),n.children),nv(o,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?bT(n,e,t):i.match?nv(n,0,r):bT(n,e,t)}function nv(n,e,t){if(0===t.length)return new tn(n.segments,{});{const i=function Lj(n){return tv(n[0])?n[0].outlets:{[Qt]:n}}(t),r={};return Rr(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=vT(n.children[u],e,o))}),Rr(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new tn(n.segments,r)}}function bT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(tv(o)){const g=Bj(o.outlets);return new tn(i,g)}if(0===r&&ev(t[0])){i.push(new Qy(n.segments[e].path,IN(t[0]))),r++;continue}const u=tv(o)?o.outlets[Qt]:`${o}`,f=r<t.length-1?t[r+1]:null;u&&f&&ev(f)?(i.push(new Qy(u,IN(f))),r+=2):(i.push(new Qy(u,{})),r++)}return new tn(i,{})}function Bj(n){const e={};return Rr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=bT(new tn([],{}),0,t))}),e}function IN(n){const e={};return Rr(n,(t,i)=>e[i]=`${t}`),e}function AN(n,e,t){return n==t.path&&xl(e,t.parameters)}const iv="imperative";class Il{constructor(e,t){this.id=e,this.url=t}}class wT extends Il{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _f extends Il{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class PE extends Il{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class SN extends Il{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class TN extends Il{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Uj extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hj extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jj extends Il{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zj extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $j extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gj{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qj{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wj{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yj{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zj{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kj{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MN{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Xj=(()=>{class n{createUrlTree(t,i,r,o,u,f){return Pj(t||i.root,r,o,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return Xj.\u0275fac(e)},providedIn:"root"}),n})();class kN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=DT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=DT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ET(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ET(e,this._root).map(t=>t.value)}}function DT(n,e){if(n===e.value)return e;for(const t of e.children){const i=DT(n,t);if(i)return i}return null}function ET(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ET(n,t);if(i.length)return i.unshift(e),i}return[]}class Hc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class RN extends kN{constructor(e,t){super(e),this.snapshot=t,CT(this,e)}toString(){return this.snapshot.toString()}}function ON(n,e){const t=function e3(n,e){const u=new NE([],{},{},"",{},Qt,e,null,n.root,-1,{});return new NN("",new Hc(u,[]))}(n,e),i=new Us([new Qy("",{})]),r=new Us({}),o=new Us({}),u=new Us({}),f=new Us(""),g=new jm(i,r,u,f,o,Qt,e,t.root);return g.snapshot=t.root,new RN(new Hc(g,[]),t)}class jm{constructor(e,t,i,r,o,u,f,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,St.U)(v=>v[Ky]))??at(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>Vm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>Vm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PN(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function t3(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class NE{get title(){return this.data?.[Ky]}constructor(e,t,i,r,o,u,f,g,v,C,T){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=C,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class NN extends kN{constructor(e,t){super(t),this.url=e,CT(this,t)}toString(){return FN(this._root)}}function CT(n,e){e.value._routerState=n,e.children.forEach(t=>CT(n,t))}function FN(n){const e=n.children.length>0?` { ${n.children.map(FN).join(", ")} } `:"";return`${n.value}${e}`}function xT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xl(e.params,t.params)||n.params.next(t.params),function mj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function IT(n,e){const t=xl(n.params,e.params)&&function vj(n,e){return mf(n,e)&&n.every((t,i)=>xl(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||IT(n.parent,e.parent))}function rv(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function r3(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return rv(n,i,r);return rv(n,i)})}(n,e,t);return new Hc(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>rv(n,f)),u}}const i=function s3(n){return new jm(new Us(n.url),new Us(n.params),new Us(n.queryParams),new Us(n.fragment),new Us(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>rv(n,o));return new Hc(i,r)}}const AT="ngNavigationCancelingError";function LN(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=gf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=VN(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function VN(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[AT]=!0,i.cancellationCode=e,t&&(i.url=t),i}function BN(n){return UN(n)&&gf(n.url)}function UN(n){return n&&n[AT]}class o3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new sv,this.attachRef=null}}let sv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new o3,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FE=!1;let ST=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(sv),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,FE);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,FE);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,FE);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,FE);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new a3(t,f,r.injector);if(i&&function l3(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class a3{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===jm?this.route:e===sv?this.childContexts:this.parent.get(e,t)}}let TT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[ST],encapsulation:2}),n})();function HN(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kT(n){const e=n.children&&n.children.map(kT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=TT),t}function ia(n){return n.outlet||Qt}function jN(n,e){const t=n.filter(i=>ia(i)===e);return t.push(...n.filter(i=>ia(i)!==e)),t}function ov(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class f3{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),xT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Hm(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Rr(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Hm(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Hm(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Hm(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Kj(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yj(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(xT(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),xT(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=ov(r.snapshot),g=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class zN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class LE{constructor(e,t){this.component=e,this.route=t}}function p3(n,e,t){const i=n._root;return av(i,e?e._root:null,t,[i.value])}function zm(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function av(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hm(e);return n.children.forEach(u=>{(function g3(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function _3(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mf(n.url,e.url)||!xl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IT(n,e)||!xl(n.queryParams,e.queryParams);default:return!IT(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new zN(i)):(o.data=u.data,o._resolvedData=u._resolvedData),av(n,e,o.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new LE(f.outlet.component,u))}else u&&lv(e,f,r),r.canActivateChecks.push(new zN(i)),av(n,null,o.component?f?f.children:null:t,i,r)})(u,o[u.value.outlet],t,i.concat([u.value]),r),delete o[u.value.outlet]}),Rr(o,(u,f)=>lv(u,t.getContext(f),r)),r}function lv(n,e,t){const i=Hm(n),r=n.value;Rr(i,(o,u)=>{lv(o,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new LE(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function cv(n){return"function"==typeof n}function RT(n){return n instanceof xE||"EmptyError"===n?.name}const VE=Symbol("INITIAL_VALUE");function $m(){return fr(n=>Ic(n.map(e=>e.pipe(zs(1),zu(VE)))).pipe((0,St.U)(e=>{for(const t of e)if(!0!==t){if(t===VE)return VE;if(!1===t||t instanceof pf)return t}return!0}),ps(e=>e!==VE),zs(1)))}function $N(n){return(0,lj.z)((0,qr.b)(e=>{if(gf(e))throw LN(0,e)}),(0,St.U)(e=>!0===e))}const OT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GN(n,e,t,i,r){const o=PT(n,e,t);return o.matched?function P3(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?at(r.map(u=>{const f=zm(u,n);return yd(function E3(n){return n&&cv(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe($m(),$N()):at(!0)}(i=HN(e,i),e,t).pipe((0,St.U)(u=>!0===u?o:{...OT})):at(o)}function PT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...OT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||pj)(t,n,e);if(!r)return{...OT};const o={};Rr(r.posParams,(f,g)=>{o[g]=f.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function BE(n,e,t,i){if(t.length>0&&function L3(n,e,t){return t.some(i=>UE(n,e,i)&&ia(i)!==Qt)}(n,t,i)){const o=new tn(e,function F3(n,e,t,i){const r={};r[Qt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&ia(o)!==Qt){const u=new tn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[ia(o)]=u}return r}(n,e,i,new tn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function V3(n,e,t){return t.some(i=>UE(n,e,i))}(n,t,i)){const o=new tn(n.segments,function N3(n,e,t,i,r){const o={};for(const u of i)if(UE(n,t,u)&&!r[ia(u)]){const f=new tn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[ia(u)]=f}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new tn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function UE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qN(n,e,t,i){return!!(ia(n)===i||i!==Qt&&UE(e,t,n))&&("**"===n.path||PT(e,n,t).matched)}function WN(n,e,t){return 0===e.length&&!n.children[t]}const HE=!1;class jE{constructor(e){this.segmentGroup=e||null}}class YN{constructor(e){this.urlTree=e}}function uv(n){return Zy(new jE(n))}function ZN(n){return Zy(new YN(n))}class j3{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=BE(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Qt).pipe((0,St.U)(o=>this.createUrlTree(OE(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_d(o=>{if(o instanceof YN)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof jE?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Qt).pipe((0,St.U)(r=>this.createUrlTree(OE(r),e.queryParams,e.fragment))).pipe(_d(r=>{throw r instanceof jE?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,HE)}createUrlTree(e,t,i){const r=_T(e);return new pf(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,St.U)(o=>new tn([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Wn.D)(r).pipe(md(o=>{const u=i.children[o],f=jN(t,o);return this.expandSegmentGroup(e,f,u,o).pipe((0,St.U)(g=>({segment:g,outlet:o})))}),cN((o,u)=>(o[u.outlet]=u.segment,o),{}),uN())}expandSegment(e,t,i,r,o,u){return(0,Wn.D)(i).pipe(md(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,o,u).pipe(_d(v=>{if(v instanceof jE)return at(null);throw v}))),Uc(f=>!!f),_d((f,g)=>{if(RT(f))return WN(t,r,o)?at(new tn([],{})):uv(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,o,u,f){return qN(r,t,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u):uv(t):uv(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ZN(o):this.lineralizeSegments(i,o).pipe((0,hr.z)(u=>{const f=new tn(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:C}=PT(t,r,o);if(!f)return uv(t);const T=this.applyRedirectCommands(g,r.redirectTo,C);return r.redirectTo.startsWith("/")?ZN(T):this.lineralizeSegments(r,T).pipe((0,hr.z)(N=>this.expandSegment(e,t,i,N.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=HN(i,e),i.loadChildren?(i._loadedRoutes?at({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,St.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new tn(r,{})))):at(new tn(r,{}))):GN(t,i,r,e).pipe(fr(({matched:u,consumedSegments:f,remainingSegments:g})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,hr.z)(C=>{const T=C.injector??e,N=C.routes,{segmentGroup:U,slicedSegments:H}=BE(t,f,g,N),te=new tn(U.segments,U.children);if(0===H.length&&te.hasChildren())return this.expandChildren(T,N,te).pipe((0,St.U)(_t=>new tn(f,_t)));if(0===N.length&&0===H.length)return at(new tn(f,{}));const De=ia(i)===o;return this.expandSegment(T,te,N,H,De?Qt:o,!0).pipe((0,St.U)(it=>new tn(f.concat(it.segments),it.children)))})):uv(t)))}getChildConfig(e,t,i){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function O3(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?at(!0):at(r.map(u=>{const f=zm(u,n);return yd(function v3(n){return n&&cv(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe($m(),$N())}(e,t,i).pipe((0,hr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,qr.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function U3(n){return Zy(VN(HE,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return at(i);if(r.numberOfChildren>1||!r.children[Qt])return Zy(new c.vHH(4e3,HE));r=r.children[Qt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new pf(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Rr(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[o]=t[f]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let u={};return Rr(t.children,(f,g)=>{u[g]=this.createSegmentGroup(e,f,i,r)}),new tn(o,u)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,HE);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class $3{}class W3{constructor(e,t,i,r,o,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=BE(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Qt).pipe((0,St.U)(t=>{if(null===t)return null;const i=new NE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hc(i,t),o=new NN(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=PN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Wn.D)(Object.keys(i.children)).pipe(md(r=>{const o=i.children[r],u=jN(t,r);return this.processSegmentGroup(e,u,o,r)}),cN((r,o)=>r&&o?(r.push(...o),r):null),function dj(n,e=!1){return(0,Mi.e)((t,i)=>{let r=0;t.subscribe((0,ki.x)(i,o=>{const u=n(o,r++);(u||e)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),IE(null),uN(),(0,St.U)(r=>{if(null===r)return null;const o=QN(r);return function Y3(n){n.sort((e,t)=>e.value.outlet===Qt?-1:t.value.outlet===Qt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,Wn.D)(t).pipe(md(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,o)),Uc(u=>!!u),_d(u=>{if(RT(u))return WN(i,r,o)?at([]):at(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!qN(t,i,r,o))return at(null);let u;if("**"===t.path){const f=r.length>0?fN(r).parameters:{},g=JN(i)+r.length;u=at({snapshot:new NE(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eF(t),ia(t),t.component??t._loadedComponent??null,t,XN(i),g,tF(t)),consumedSegments:[],remainingSegments:[]})}else u=GN(i,t,r,e).pipe((0,St.U)(({matched:f,consumedSegments:g,remainingSegments:v,parameters:C})=>{if(!f)return null;const T=JN(i)+g.length;return{snapshot:new NE(g,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eF(t),ia(t),t.component??t._loadedComponent??null,t,XN(i),T,tF(t)),consumedSegments:g,remainingSegments:v}}));return u.pipe(fr(f=>{if(null===f)return at(null);const{snapshot:g,consumedSegments:v,remainingSegments:C}=f;e=t._injector??e;const T=t._loadedInjector??e,N=function Z3(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:H}=BE(i,v,C,N.filter(De=>void 0===De.redirectTo));if(0===H.length&&U.hasChildren())return this.processChildren(T,N,U).pipe((0,St.U)(De=>null===De?null:[new Hc(g,De)]));if(0===N.length&&0===H.length)return at([new Hc(g,[])]);const te=ia(t)===o;return this.processSegment(T,N,U,H,te?Qt:o).pipe((0,St.U)(De=>null===De?null:[new Hc(g,De)]))}))}}function K3(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function QN(n){const e=[],t=new Set;for(const i of n){if(!K3(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=QN(i.children);e.push(new Hc(i.value,r))}return e.filter(i=>!t.has(i))}function XN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function JN(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function eF(n){return n.data||{}}function tF(n){return n.resolve||{}}function nF(n){return"string"==typeof n.title||null===n.title}function NT(n){return fr(e=>{const t=n(e);return t?(0,Wn.D)(t).pipe((0,St.U)(()=>e)):at(e)})}const Gm=new c.OlP("ROUTES");let FT=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=yd(t.loadComponent()).pipe((0,St.U)(rF),(0,qr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),pT(()=>{this.componentLoaders.delete(t)})),r=new aN(i,()=>new rn.x).pipe(hT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return at({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,St.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,C=!1;Array.isArray(f)?v=f:(g=f.create(t).injector,v=hN(g.get(Gm,[],c.XFs.Self|c.XFs.Optional)));return{routes:v.map(kT),injector:g}}),pT(()=>{this.childrenLoaders.delete(i)})),u=new aN(o,()=>new rn.x).pipe(hT());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return yd(t()).pipe((0,St.U)(rF),(0,hr.z)(r=>r instanceof c.YKP||Array.isArray(r)?at(r):(0,Wn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rF(n){return function sz(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let $E=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new rn.x,this.configLoader=(0,c.f3M)(FT),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Xy),this.rootContexts=(0,c.f3M)(sv),this.navigationId=0,this.afterPreactivation=()=>at(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new qj(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Gj(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Us({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:iv,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ps(i=>0!==i.id),(0,St.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),fr(i=>{let r=!1,o=!1;return at(i).pipe((0,qr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fr(u=>{const f=t.browserUrlTree.toString(),g=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new SN(u.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),La.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return sF(u.source)&&(t.browserUrlTree=u.extractedUrl),at(u).pipe(fr(C=>{const T=this.transitions?.getValue();return this.events.next(new wT(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),T!==this.transitions?.getValue()?La.E:Promise.resolve(C)}),function z3(n,e,t,i){return fr(r=>function H3(n,e,t,i,r){return new j3(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,St.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,qr.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function X3(n,e,t,i,r){return(0,hr.z)(o=>function q3(n,e,t,i,r,o,u="emptyOnly"){return new W3(n,e,t,i,r,u,o).recognize().pipe(fr(f=>null===f?function G3(n){return new qi.y(e=>e.error(n))}(new $3):at(f)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,St.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,qr.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(N,C)}t.browserUrlTree=C.urlAfterRedirects}const T=new Uj(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(T)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:T,source:N,restoredState:U,extras:H}=u,te=new wT(C,this.urlSerializer.serialize(T),N,U);this.events.next(te);const De=ON(T,this.rootComponentType).snapshot;return at(i={...u,targetSnapshot:De,urlAfterRedirects:T,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new SN(u.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),La.E}}),(0,qr.b)(u=>{const f=new Hj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,St.U)(u=>i={...u,guards:p3(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function x3(n,e){return(0,hr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?at({...t,guardsResult:!0}):function I3(n,e,t,i){return(0,Wn.D)(n).pipe((0,hr.z)(r=>function R3(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?at(o.map(f=>{const g=ov(e)??r,v=zm(f,g);return yd(function D3(n){return n&&cv(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):g.runInContext(()=>v(n,e,t,i))).pipe(Uc())})).pipe($m()):at(!0)}(r.component,r.route,t,e,i)),Uc(r=>!0!==r,!0))}(u,i,r,n).pipe((0,hr.z)(f=>f&&function y3(n){return"boolean"==typeof n}(f)?function A3(n,e,t,i){return(0,Wn.D)(e).pipe(md(r=>Zp(function T3(n,e){return null!==n&&e&&e(new Wj(n)),at(!0)}(r.route.parent,i),function S3(n,e){return null!==n&&e&&e(new Zj(n)),at(!0)}(r.route,i),function k3(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function m3(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>oN(()=>at(u.guards.map(g=>{const v=ov(u.node)??t,C=zm(g,v);return yd(function w3(n){return n&&cv(n.canActivateChild)}(C)?C.canActivateChild(i,n):v.runInContext(()=>C(i,n))).pipe(Uc())})).pipe($m())));return at(o).pipe($m())}(n,r.path,t),function M3(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return at(!0);const r=i.map(o=>oN(()=>{const u=ov(e)??t,f=zm(o,u);return yd(function b3(n){return n&&cv(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(Uc())}));return at(r).pipe($m())}(n,r.route,t))),Uc(r=>!0!==r,!0))}(i,o,n,e):at(f)),(0,St.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,qr.b)(u=>{if(i.guardsResult=u.guardsResult,gf(u.guardsResult))throw LN(0,u.guardsResult);const f=new jj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),ps(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),NT(u=>{if(u.guards.canActivateChecks.length)return at(u).pipe((0,qr.b)(f=>{const g=new zj(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),fr(f=>{let g=!1;return at(f).pipe(function J3(n,e){return(0,hr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return at(t);let o=0;return(0,Wn.D)(r).pipe(md(u=>function ez(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!nF(r)&&(o[Ky]=r.title),function tz(n,e,t,i){const r=function nz(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return at({});const o={};return(0,Wn.D)(r).pipe((0,hr.z)(u=>function iz(n,e,t,i){const r=ov(e)??i,o=zm(n,r);return yd(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[u],e,t,i).pipe(Uc(),(0,qr.b)(f=>{o[u]=f}))),fT(1),function hj(n){return(0,St.U)(()=>n)}(o),_d(u=>RT(u)?La.E:Zy(u)))}(o,n,e,i).pipe((0,St.U)(u=>(n._resolvedData=u,n.data=PN(n,t).resolve,r&&nF(r)&&(n.data[Ky]=r.title),null)))}(u.route,i,n,e)),(0,qr.b)(()=>o++),fT(1),(0,hr.z)(u=>o===r.length?at(t):La.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,qr.b)({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,qr.b)(f=>{const g=new $j(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),NT(u=>{const f=g=>{const v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,qr.b)(C=>{g.component=C}),(0,St.U)(()=>{})));for(const C of g.children)v.push(...f(C));return v};return Ic(f(u.targetSnapshot.root)).pipe(IE(),zs(1))}),NT(()=>this.afterPreactivation()),(0,St.U)(u=>{const f=function n3(n,e,t){const i=rv(n,e._root,t?t._root:void 0);return new RN(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),(0,qr.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(i=>(new f3(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,qr.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new _f(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),pT(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),_d(u=>{if(o=!0,UN(u)){BN(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new PE(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),BN(u)){const g=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||sF(i.source)};t.scheduleNavigation(g,iv,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new TN(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(g){i.reject(g)}}return La.E}))}))}cancelNavigationTransition(t,i,r){const o=new PE(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sF(n){return n!==iv}let oF=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Qt);return i}getResolvedTitleForRoute(t){return t.data[Ky]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(oz)},providedIn:"root"}),n})(),oz=(()=>{class n extends oF{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(cz)},providedIn:"root"}),n})();class lz{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let cz=(()=>{class n extends lz{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GE=new c.OlP("",{providedIn:"root",factory:()=>({})});let dz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(hz)},providedIn:"root"}),n})(),hz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fz(n){throw n}function pz(n,e,t){return e.parse("/")}const mz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(GE,{optional:!0})||{},this.errorHandler=this.options.errorHandler||fz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(dz),this.routeReuseStrategy=(0,c.f3M)(az),this.urlCreationStrategy=(0,c.f3M)(Jj),this.titleStrategy=(0,c.f3M)(oF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=hN((0,c.f3M)(Gm,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)($E),this.urlSerializer=(0,c.f3M)(Xy),this.location=(0,c.f3M)(Me),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ON(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),iv,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(kT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:f,preserveFragment:g}=i,v=g?this.currentUrlTree.fragment:u;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...o};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=o||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,C,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=gf(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,iv,null,i)}navigate(t,i={skipLocationChange:!1}){return function _z(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...mz}:!1===i?{...gz}:i,gf(t))return mN(this.currentUrlTree,t,r);const o=this.parseUrl(t);return mN(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let f,g,v,C;return u?(f=u.resolve,g=u.reject,v=u.promise):v=new Promise((T,N)=>{f=T,g=N}),C="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(T=>Promise.reject(T))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lF{}let bz=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ps(t=>t instanceof _f),md(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,c.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,f=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,Wn.D)(r).pipe((0,Lh.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):at(null);const o=r.pipe((0,hr.z)(u=>null===u?at(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Wn.D)([o,u]).pipe((0,Lh.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(lF),c.LFG(FT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VT=new c.OlP("");let cF=(()=>{class n{constructor(t,i,r,o,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _f&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof MN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function yf(n,e){return{\u0275kind:n,\u0275providers:e}}function dF(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(Wr),r=n.get(hF);1===n.get(UT)&&i.initialNavigation(),n.get(fF,null,c.XFs.Optional)?.setUpPreloading(),n.get(VT,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const hF=new c.OlP("",{factory:()=>new rn.x}),UT=new c.OlP("",{providedIn:"root",factory:()=>1});const fF=new c.OlP("");function xz(n){return yf(0,[{provide:fF,useExisting:bz},{provide:lF,useExisting:n}])}const pF=new c.OlP("ROUTER_FORROOT_GUARD"),Iz=[Me,{provide:Xy,useClass:mT},Wr,sv,{provide:jm,useFactory:function uF(n){return n.routerState.root},deps:[Wr]},FT,[]];function Az(){return new c.PXZ("Router",Wr)}let mF=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Iz,[],{provide:Gm,multi:!0,useValue:t},{provide:pF,useFactory:kz,deps:[[Wr,new c.FiY,new c.tp0]]},{provide:GE,useValue:i||{}},i?.useHash?{provide:tt,useClass:Ie}:{provide:tt,useClass:xe},{provide:VT,useFactory:()=>{const n=(0,c.f3M)(So),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(GE),i=(0,c.f3M)($E),r=(0,c.f3M)(Xy);return t.scrollOffset&&n.setOffset(t.scrollOffset),new cF(r,i,n,e,t)}},i?.preloadingStrategy?xz(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Az},i?.initialNavigation?Rz(i):[],[{provide:gF,useFactory:dF},{provide:c.tb,multi:!0,useExisting:gF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Gm,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pF,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[TT]}),n})();function kz(n){return"guarded"}function Rz(n){return["disabled"===n.initialNavigation?yf(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Wr);return()=>{e.setUpLocationChangeListener()}}},{provide:UT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?yf(2,[{provide:UT,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(me,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Wr),u=e.get(hF);(function i(r){e.get(Wr).events.pipe(ps(u=>u instanceof _f||u instanceof PE||u instanceof TN),(0,St.U)(u=>u instanceof _f||u instanceof PE&&(0===u.code||1===u.code)&&null),ps(u=>null!==u),zs(1)).subscribe(()=>{r()})})(()=>{r(!0)}),e.get($E).afterPreactivation=()=>(r(!0),u.closed?at(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const gF=new c.OlP("");var fe=P(5861);const qa={firebase:{apiKey:"AIzaSyBI6lzB2YR1Q0Pjzayy70fbO28elnF4OBE",authDomain:"pom-database.firebaseapp.com",databaseURL:"https://pom-database-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"pom-database",storageBucket:"pom-database.appspot.com",messagingSenderId:"207136504668",appId:"1:207136504668:web:a035da4a053a26ba769f99",measurementId:"G-ET465RMGSB"},baseApiUrl:"https://localhost:7014",twilio:{verifyService:"VA7601a72cda7ddbeb4ec763b10485115f",userName:"|AC146b3||f1a6d0|47b3|105a10bb6d|||3bf4794||",password:"|55486||f6f127|b08a|4f507c5816|||5b1dde1||"}};class Wm{constructor(e){this.http=e}verifyNumber(e){var t=this;return(0,fe.Z)(function*(){const i=qa.baseApiUrl+"/api/Login/"+e;return console.log(i),t.http.get(i).pipe()})()}verifyOtp(e,t){var i=this;return(0,fe.Z)(function*(){const r=qa.baseApiUrl+"/api/Login?phoneNumber="+e+"&otp="+t;return console.log(r),i.http.post(r,"").pipe()})()}userRegistrationApi(e){var t=this;return(0,fe.Z)(function*(){return t.http.post(qa.baseApiUrl+"/api/User",e).pipe()})()}}Wm.\u0275fac=function(e){return new(e||Wm)(c.LFG(ZP))},Wm.\u0275prov=c.Yz7({token:Wm,factory:Wm.\u0275fac,providedIn:"root"});var ft,qE=P(9260),jc=P(9681),WE=P(4859),vd=P(1877),un=P(2090),Pz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zc={},HT=HT||{},Ht=Pz||self;function YE(){}function ZE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var jT="closure_uid_"+(1e9*Math.random()>>>0),Fz=0;function Lz(n,e,t){return n.call.apply(n.bind,arguments)}function Vz(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Yr(n,e,t){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lz:Vz).apply(null,arguments)}function KE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Or(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function bd(){this.s=this.s,this.o=this.o}bd.prototype.s=!1,bd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Nz(n){Object.prototype.hasOwnProperty.call(n,jT)&&n[jT]||(n[jT]=++Fz)}(this)},bd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _F=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function zT(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function yF(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(ZE(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var Uz=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",YE,e),Ht.removeEventListener("test",YE,e)}catch{}return n}();function QE(n){return/^[\s\xa0]*$/.test(n)}var vF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $T(n,e){return n<e?-1:n>e?1:0}function XE(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function Al(n){return-1!=XE().indexOf(n)}function GT(n){return GT[" "](n),n}GT[" "]=YE;var JE,n,jz=Al("Opera"),Ym=Al("Trident")||Al("MSIE"),bF=Al("Edge"),qT=bF||Ym,wF=Al("Gecko")&&!(-1!=XE().toLowerCase().indexOf("webkit")&&!Al("Edge"))&&!(Al("Trident")||Al("MSIE"))&&!Al("Edge"),zz=-1!=XE().toLowerCase().indexOf("webkit")&&!Al("Edge");function DF(){var n=Ht.document;return n?n.documentMode:void 0}e:{var WT="",YT=(n=XE(),wF?/rv:([^\);]+)(\)|;)/.exec(n):bF?/Edge\/([\d\.]+)/.exec(n):Ym?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zz?/WebKit\/(\S+)/.exec(n):jz?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YT&&(WT=YT?YT[1]:""),Ym){var ZT=DF();if(null!=ZT&&ZT>parseFloat(WT)){JE=String(ZT);break e}}JE=WT}var $z={};var qz=Ht.document&&Ym&&(DF()||parseInt(JE,10))||void 0;function fv(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wF){e:{try{GT(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wz[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&fv.X.h.call(this)}}Or(fv,Zr);var Wz={2:"touch",3:"pen",4:"mouse"};fv.prototype.h=function(){fv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var pv="closure_listenable_"+(1e6*Math.random()|0),Yz=0;function Zz(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++Yz,this.ba=this.ea=!1}function eC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function QT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function CF(n){const e={};for(const t in n)e[t]=n[t];return e}const xF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IF(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<xF.length;o++)t=xF[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function tC(n){this.src=n,this.g={},this.h=0}function XT(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=_F(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(eC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function JT(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==i)return r}return-1}tC.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=JT(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new Zz(e,this.src,o,!!i,r)).ea=t,n.push(e)),e};var eM="closure_lm_"+(1e6*Math.random()|0),tM={};function AF(n,e,t,i,r){if(i&&i.once)return TF(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)AF(n,e[o],t,i,r);return null}return t=sM(t),n&&n[pv]?n.N(e,t,hv(i)?!!i.capture:!!i,r):SF(n,e,t,!1,i,r)}function SF(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var u=hv(r)?!!r.capture:!!r,f=iM(n);if(f||(n[eM]=f=new tC(n)),(t=f.add(e,t,i,u,o)).proxy)return t;if(i=function Kz(){const e=Qz;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Uz||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(kF(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function TF(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)TF(n,e[o],t,i,r);return null}return t=sM(t),n&&n[pv]?n.O(e,t,hv(i)?!!i.capture:!!i,r):SF(n,e,t,!0,i,r)}function MF(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)MF(n,e[o],t,i,r);else i=hv(i)?!!i.capture:!!i,t=sM(t),n&&n[pv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=JT(o=n.g[e],t,i,r))&&(eC(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=iM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=JT(e,t,i,r)),(t=-1<n?e[n]:null)&&nM(t))}function nM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[pv])XT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(kF(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=iM(e))?(XT(t,n),0==t.h&&(t.src=null,e[eM]=null)):eC(n)}}}function kF(n){return n in tM?tM[n]:tM[n]="on"+n}function Qz(n,e){if(n.ba)n=!0;else{e=new fv(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&nM(n),n=t.call(i,e)}return n}function iM(n){return(n=n[eM])instanceof tC?n:null}var rM="__closure_events_fn_"+(1e9*Math.random()>>>0);function sM(n){return"function"==typeof n?n:(n[rM]||(n[rM]=function(e){return n.handleEvent(e)}),n[rM])}function pr(){bd.call(this),this.i=new tC(this),this.P=this,this.I=null}function Pr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var r=e;IF(e=new Zr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];r=nC(u,i,!0,e)&&r}if(r=nC(u=e.g=n,i,!0,e)&&r,r=nC(u,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=nC(u=e.g=t[o],i,!1,e)&&r}function nC(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.ba&&u.capture==t){var f=u.listener,g=u.ha||u.src;u.ea&&XT(n.i,u),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}Or(pr,bd),pr.prototype[pv]=!0,pr.prototype.removeEventListener=function(n,e,t,i){MF(this,n,e,t,i)},pr.prototype.M=function(){if(pr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)eC(t[i]);delete n.g[e],n.h--}}this.I=null},pr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},pr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var oM=Ht.JSON.stringify;function Xz(){var n=PF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var aM,RF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new e$,n=>n.reset());class e${constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function t$(n){Ht.setTimeout(()=>{throw n},0)}function OF(n,e){aM||function n$(){var n=Ht.Promise.resolve(void 0);aM=function(){n.then(i$)}}(),lM||(aM(),lM=!0),PF.add(n,e)}var lM=!1,PF=new class Jz{constructor(){this.h=this.g=null}add(e,t){const i=RF.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function i$(){for(var n;n=Xz();){try{n.h.call(n.g)}catch(t){t$(t)}var e=RF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lM=!1}function iC(n,e){pr.call(this),this.h=n||1,this.g=e||Ht,this.j=Yr(this.lb,this),this.l=Date.now()}function cM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function uM(n,e,t){if("function"==typeof n)t&&(n=Yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function NF(n){n.g=uM(()=>{n.g=null,n.i&&(n.i=!1,NF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Or(iC,pr),(ft=iC.prototype).ca=!1,ft.R=null,ft.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pr(this,"tick"),this.ca&&(cM(this),this.start()))}},ft.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){iC.X.M.call(this),cM(this),delete this.g};class r$ extends bd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NF(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mv(n){bd.call(this),this.h=n,this.g={}}Or(mv,bd);var FF=[];function LF(n,e,t,i){Array.isArray(t)||(t&&(FF[0]=t.toString()),t=FF);for(var r=0;r<t.length;r++){var o=AF(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function VF(n){QT(n.g,function(e,t){this.g.hasOwnProperty(t)&&nM(e)},n),n.g={}}function rC(){this.g=!0}function Zm(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function l$(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return oM(t)}catch{return e}}(n,t)+(i?" "+i:"")})}mv.prototype.M=function(){mv.X.M.call(this),VF(this)},mv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rC.prototype.Aa=function(){this.g=!1},rC.prototype.info=function(){};var vf={},BF=null;function sC(){return BF=BF||new pr}function UF(n){Zr.call(this,vf.Pa,n)}function gv(n){const e=sC();Pr(e,new UF(e))}function HF(n,e){Zr.call(this,vf.STAT_EVENT,n),this.stat=e}function ys(n){const e=sC();Pr(e,new HF(e,n))}function jF(n,e){Zr.call(this,vf.Qa,n),this.size=e}function _v(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}vf.Pa="serverreachability",Or(UF,Zr),vf.STAT_EVENT="statevent",Or(HF,Zr),vf.Qa="timingevent",Or(jF,Zr);var oC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},zF={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function dM(){}function GF(){}dM.prototype.h=null;var pM,yv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function hM(){Zr.call(this,"d")}function fM(){Zr.call(this,"c")}function aC(){}function vv(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new mv(this),this.O=c$,this.T=new iC(n=qT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new qF}function qF(){this.i=null,this.g="",this.h=!1}Or(hM,Zr),Or(fM,Zr),Or(aC,dM),aC.prototype.g=function(){return new XMLHttpRequest},aC.prototype.i=function(){return{}},pM=new aC;var c$=45e3,mM={},lC={};function gM(n,e,t){n.K=1,n.v=hC($c(e)),n.s=t,n.P=!0,WF(n,null)}function WF(n,e){n.F=Date.now(),bv(n),n.A=$c(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),iL(t.i,"t",i),n.C=0,t=n.l.H,n.h=new qF,n.g=AL(n.l,t?e:null,!n.s),0<n.N&&(n.L=new r$(Yr(n.La,n,n.g),n.N)),LF(n.S,n.g,"readystatechange",n.ib),e=n.H?CF(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),gv(),function s$(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",f=o.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var C=v[0];v=v[1];var T=C.split("_");u=2<=T.length&&"type"==T[1]?u+(C+"=")+v+"&":u+(C+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function YF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function ZF(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=u$(n,t),r==lC){4==e&&(n.o=4,ys(14),i=!1),Zm(n.j,n.m,null,"[Incomplete Response]");break}if(r==mM){n.o=4,ys(15),Zm(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Zm(n.j,n.m,r,null),_M(n,r)}YF(n)&&r!=lC&&r!=mM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ys(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),xM(e),e.K=!0,ys(11))):(Zm(n.j,n.m,t,"[Invalid Chunked Response]"),bf(n),wv(n))}function u$(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?lC:(t=Number(e.substring(t,i)),isNaN(t)?mM:(i+=1)+t>e.length?lC:(e=e.substr(i,t),n.C=i+t,e))}function bv(n){n.V=Date.now()+n.O,KF(n,n.O)}function KF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_v(Yr(n.gb,n),e)}function cC(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function wv(n){0==n.l.G||n.I||EL(n.l,n)}function bf(n){cC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,cM(n.T),VF(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _M(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||yM(t.h,n)))if(!n.J&&yM(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;yC(t),gC(t)}CM(t),ys(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=_v(Yr(t.cb,t),6e3));if(1>=oL(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Df(t,11)}else if((n.J||t.g==n)&&yC(t),!QE(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const C=v[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const T=v[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(t.J=i=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const H=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=i.h;o.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(vM(o,o.h),o.h=null))}if(i.D){const te=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(i.za=te,Yn(i.F,i.D,te))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=IL(i,i.H?i.ka:null,i.V),u.J){aL(i.h,u);var f=u,g=i.J;g&&f.setTimeout(g),f.B&&(cC(f),bv(f)),i.g=u}else wL(i);0<t.i.length&&_C(t)}else"stop"!=v[0]&&"close"!=v[0]||Df(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Df(t,7):EM(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}gv()}catch{}}function QF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ZE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function h$(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ZE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function d$(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ZE(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ft=vv.prototype).setTimeout=function(n){this.O=n},ft.ib=function(n){n=n.target;const e=this.L;e&&3==Gc(n)?e.l():this.La(n)},ft.La=function(n){try{if(n==this.g)e:{const C=Gc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||qT||this.g&&(this.h.h||this.g.fa()||mL(this.g)))){this.I||4!=C||7==e||gv(),cC(this);var t=this.g.aa();this.Y=t;t:if(YF(this)){var i=mL(this.g);n="";var r=i.length,o=4==Gc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bf(this),wv(this);var u="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function o$(n,e,t,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!QE(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,ys(12),bf(this),wv(this);break e}Zm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_M(this,t)}this.P?(ZF(this,C,u),qT&&this.i&&3==C&&(LF(this.S,this.T,"tick",this.hb),this.T.start())):(Zm(this.j,this.m,u,null),_M(this,u)),4==C&&bf(this),this.i&&!this.I&&(4==C?EL(this.l,this):(this.i=!1,bv(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,ys(12)):(this.o=0,ys(13)),bf(this),wv(this)}}}catch{}},ft.hb=function(){if(this.g){var n=Gc(this.g),e=this.g.fa();this.C<e.length&&(cC(this),ZF(this,n,e),this.i&&4!=n&&bv(this))}},ft.cancel=function(){this.I=!0,bf(this)},ft.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function a$(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(gv(),ys(17)),bf(this),this.o=2,wv(this)):KF(this,this.V-n)};var XF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wf){this.h=void 0!==e?e:n.h,uC(this,n.j),this.s=n.s,this.g=n.g,dC(this,n.m),this.l=n.l,e=n.i;var t=new Cv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),JF(this,t),this.o=n.o}else n&&(t=String(n).match(XF))?(this.h=!!e,uC(this,t[1]||"",!0),this.s=Dv(t[2]||""),this.g=Dv(t[3]||"",!0),dC(this,t[4]),this.l=Dv(t[5]||"",!0),JF(this,t[6]||"",!0),this.o=Dv(t[7]||"")):(this.h=!!e,this.i=new Cv(null,this.h))}function $c(n){return new wf(n)}function uC(n,e,t){n.j=t?Dv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function dC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function JF(n,e,t){e instanceof Cv?(n.i=e,function v$(n,e){e&&!n.j&&(wd(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(tL(this,i),iL(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ev(e,_$)),n.i=new Cv(e,n.h))}function Yn(n,e,t){n.i.set(e,t)}function hC(n){return Yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ev(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,p$),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function p$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ev(e,eL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ev(e,eL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ev(t,"/"==t.charAt(0)?g$:m$,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ev(t,y$)),n.join("")};var eL=/[#\/\?@]/g,m$=/[#\?:]/g,g$=/[#\?]/g,_$=/[#\?@]/g,y$=/#/g;function Cv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wd(n){n.g||(n.g=new Map,n.h=0,n.i&&function f$(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function tL(n,e){wd(n),e=Km(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function nL(n,e){return wd(n),e=Km(n,e),n.g.has(e)}function iL(n,e,t){tL(n,e),0<t.length&&(n.i=null,n.g.set(Km(n,e),zT(t)),n.h+=t.length)}function Km(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rL(n){this.l=n||w$,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Cv.prototype).add=function(n,e){wd(this),this.i=null,n=Km(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){wd(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ft.oa=function(){wd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ft.W=function(n){wd(this);let e=[];if("string"==typeof n)nL(this,n)&&(e=e.concat(this.g.get(Km(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ft.set=function(n,e){return wd(this),this.i=null,nL(this,n=Km(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var w$=10;function sL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oL(n){return n.h?1:n.g?n.g.size:0}function yM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vM(n,e){n.g?n.g.add(e):n.h=e}function aL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lL(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return zT(n.i)}function bM(){}function D$(){this.g=new bM}function E$(n,e,t){const i=t||"";try{QF(n,function(r,o){let u=r;hv(r)&&(u=oM(r)),e.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function fC(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function xv(n){this.l=n.ac||null,this.j=n.jb||!1}function pC(n,e){pr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=wM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rL.prototype.cancel=function(){if(this.i=lL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},bM.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},bM.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},Or(xv,dM),xv.prototype.g=function(){return new pC(this.l,this.j)},xv.prototype.i=function(n){return function(){return n}}({}),Or(pC,pr);var wM=0;function cL(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Iv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Av(n)}function Av(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=pC.prototype).open=function(n,e){if(this.readyState!=wM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Av(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Iv(this)),this.readyState=wM},ft.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Av(this)),this.g&&(this.readyState=3,Av(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cL(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ft.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Iv(this):Av(this),3==this.readyState&&cL(this)}},ft.Va=function(n){this.g&&(this.response=this.responseText=n,Iv(this))},ft.Ua=function(n){this.g&&(this.response=n,Iv(this))},ft.ga=function(){this.g&&Iv(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var x$=Ht.JSON.parse;function yi(n){pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uL,this.K=this.L=!1}Or(yi,pr);var uL="",I$=/^https?$/i,A$=["POST","PUT"];function dL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hL(n),mC(n)}function hL(n){n.D||(n.D=!0,Pr(n,"complete"),Pr(n,"error"))}function fL(n){if(n.h&&typeof HT<"u"&&(!n.C[1]||4!=Gc(n)||2!=n.aa()))if(n.v&&4==Gc(n))uM(n.Ha,0,n);else if(Pr(n,"readystatechange"),4==Gc(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(XF)[1]||null;if(!r&&Ht.self&&Ht.self.location){var o=Ht.self.location.protocol;r=o.substr(0,o.length-1)}i=!I$.test(r?r.toLowerCase():"")}t=i}if(t)Pr(n,"complete"),Pr(n,"success");else{n.m=6;try{var u=2<Gc(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",hL(n)}}finally{mC(n)}}}function mC(n,e){if(n.g){pL(n);const t=n.g,i=n.C[0]?YE:null;n.g=null,n.C=null,e||Pr(n,"ready");try{t.onreadystatechange=i}catch{}}}function pL(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function Gc(n){return n.g?n.g.readyState:0}function mL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gL(n){let e="";return QT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function DM(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=gL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Yn(n,e,t))}function Sv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _L(n){this.Ca=0,this.i=[],this.j=new rC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Sv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Sv("baseRetryDelayMs",5e3,n),this.bb=Sv("retryDelaySeedMs",1e4,n),this.$a=Sv("forwardChannelMaxRetries",2,n),this.ta=Sv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new rL(n&&n.concurrentRequestLimit),this.Fa=new D$,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function EM(n){if(yL(n),3==n.G){var e=n.U++,t=$c(n.F);Yn(t,"SID",n.I),Yn(t,"RID",e),Yn(t,"TYPE","terminate"),Tv(n,t),(e=new vv(n,n.j,e,void 0)).K=2,e.v=hC($c(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=AL(e.l,null),e.g.da(e.v)),e.F=Date.now(),bv(e)}xL(n)}function gC(n){n.g&&(xM(n),n.g.cancel(),n.g=null)}function yL(n){gC(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),yC(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function _C(n){sL(n.h)||n.m||(n.m=!0,OF(n.Ja,n),n.C=0)}function vL(n,e){var t;t=e?e.m:n.U++;const i=$c(n.F);Yn(i,"SID",n.I),Yn(i,"RID",t),Yn(i,"AID",n.T),Tv(n,i),n.o&&n.s&&DM(i,n.o,n.s),t=new vv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=bL(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),vM(n.h,t),gM(t,i,e)}function Tv(n,e){n.ia&&QT(n.ia,function(t,i){Yn(e,i,t)}),n.l&&QF({},function(t,i){Yn(e,i,t)})}function bL(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Yr(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let f=!0;for(let g=0;g<t;g++){let v=r[g].h;const C=r[g].g;if(v-=o,0>v)o=Math.max(0,r[g].h-100),f=!1;else try{E$(C,u,"req"+v+"_")}catch{i&&i(C)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function wL(n){n.g||n.u||(n.Z=1,OF(n.Ia,n),n.A=0)}function CM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=_v(Yr(n.Ia,n),CL(n,n.A)),n.A++,0))}function xM(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function DL(n){n.g=new vv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=$c(n.sa);Yn(e,"RID","rpc"),Yn(e,"SID",n.I),Yn(e,"CI",n.L?"0":"1"),Yn(e,"AID",n.T),Yn(e,"TYPE","xmlhttp"),Tv(n,e),n.o&&n.s&&DM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=hC($c(e)),t.s=null,t.P=!0,WF(t,n)}function yC(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function EL(n,e){var t=null;if(n.g==e){yC(n),xM(n),n.g=null;var i=2}else{if(!yM(n.h,e))return;t=e.D,aL(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Pr(i=sC(),new jF(i,t)),_C(n)}else wL(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function T$(n,e){return!(oL(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=_v(Yr(n.Ja,n,e),CL(n,n.C)),n.C++,0)))}(n,e)||2==i&&CM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Df(n,5);break;case 4:Df(n,10);break;case 3:Df(n,6);break;default:Df(n,2)}}function CL(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Df(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Yr(n.kb,n);t||(t=new wf("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||uC(t,"https"),hC(t)),function C$(n,e){const t=new rC;if(Ht.Image){const i=new Image;i.onload=KE(fC,t,i,"TestLoadImage: loaded",!0,e),i.onerror=KE(fC,t,i,"TestLoadImage: error",!1,e),i.onabort=KE(fC,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=KE(fC,t,i,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ys(2);n.G=0,n.l&&n.l.va(e),xL(n),yL(n)}function xL(n){if(n.G=0,n.la=[],n.l){const e=lL(n.h);(0!=e.length||0!=n.i.length)&&(yF(n.la,e),yF(n.la,n.i),n.h.i.length=0,zT(n.i),n.i.length=0),n.l.ua()}}function IL(n,e,t){var i=t instanceof wf?$c(t):new wf(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),dC(i,i.m);else{var r=Ht.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new wf(null,void 0);i&&uC(o,i),e&&(o.g=e),r&&dC(o,r),t&&(o.l=t),i=o}return e=n.za,(t=n.D)&&e&&Yn(i,t,e),Yn(i,"VER",n.ma),Tv(n,i),i}function AL(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yi(t&&n.Da&&!n.ra?new xv({jb:!0}):n.ra)).Ka(n.H),e}function SL(){}function vC(){if(Ym&&!(10<=Number(qz)))throw Error("Environmental error: no available transport.")}function go(n,e){pr.call(this),this.g=new _L(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!QE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!QE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qm(this)}function TL(n){hM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ML(){fM.call(this),this.status=1}function Qm(n){this.g=n}(ft=yi.prototype).Ka=function(n){this.L=n},ft.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pM.g(),this.C=function $F(n){return n.h||(n.h=n.i())}(this.u?this.u:pM),this.g.onreadystatechange=Yr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void dL(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Ht.FormData&&n instanceof Ht.FormData,!(0<=_F(A$,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pL(this),0<this.B&&((this.K=function S$(n){return Ym&&function Gz(){return function Hz(n){var e=$z;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=vF(String(JE)).split("."),t=vF("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",o=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=$T(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||$T(0==r[2].length,0==o[2].length)||$T(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.qa,this)):this.A=uM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){dL(this,o)}},ft.qa=function(){typeof HT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pr(this,"complete"),Pr(this,"abort"),mC(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mC(this,!0)),yi.X.M.call(this)},ft.Ha=function(){this.s||(this.F||this.v||this.l?fL(this):this.fb())},ft.fb=function(){fL(this)},ft.aa=function(){try{return 2<Gc(this)?this.g.status:-1}catch{return-1}},ft.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),x$(e)}},ft.Ea=function(){return this.m},ft.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=_L.prototype).ma=8,ft.G=1,ft.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new vv(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=CF(o),IF(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bL(this,r,e),Yn(t=$c(this.F),"RID",n),Yn(t,"CVER",22),this.D&&Yn(t,"X-HTTP-Session-Id",this.D),Tv(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(gL(o)))+"&"+e:this.o&&DM(t,this.o,o)),vM(this.h,r),this.Ya&&Yn(t,"TYPE","init"),this.O?(Yn(t,"$req",e),Yn(t,"SID","null"),r.Z=!0,gM(r,t,null)):gM(r,t,e),this.G=2}}else 3==this.G&&(n?vL(this,n):0==this.i.length||sL(this.h)||vL(this))},ft.Ia=function(){if(this.u=null,DL(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=_v(Yr(this.eb,this),n)}},ft.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ys(10),gC(this),DL(this))},ft.cb=function(){null!=this.v&&(this.v=null,gC(this),CM(this),ys(19))},ft.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ys(2)):(this.j.info("Failed to ping google.com"),ys(1))},(ft=SL.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Ra=function(){},vC.prototype.g=function(n,e){return new go(n,e)},Or(go,pr),go.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ys(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=IL(n,null,n.V),_C(n)},go.prototype.close=function(){EM(this.g)},go.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=oM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&_C(e)},go.prototype.M=function(){this.g.l=null,delete this.j,EM(this.g),delete this.g,go.X.M.call(this)},Or(TL,hM),Or(ML,fM),Or(Qm,SL),Qm.prototype.xa=function(){Pr(this.g,"a")},Qm.prototype.wa=function(n){Pr(this.g,new TL(n))},Qm.prototype.va=function(n){Pr(this.g,new ML)},Qm.prototype.ua=function(){Pr(this.g,"b")},vC.prototype.createWebChannel=vC.prototype.g,go.prototype.send=go.prototype.u,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,oC.NO_ERROR=0,oC.TIMEOUT=8,oC.HTTP_ERROR=6,zF.COMPLETE="complete",GF.EventType=yv,yv.OPEN="a",yv.CLOSE="b",yv.ERROR="c",yv.MESSAGE="d",pr.prototype.listen=pr.prototype.N,yi.prototype.listenOnce=yi.prototype.O,yi.prototype.getLastError=yi.prototype.Oa,yi.prototype.getLastErrorCode=yi.prototype.Ea,yi.prototype.getStatus=yi.prototype.aa,yi.prototype.getResponseJson=yi.prototype.Sa,yi.prototype.getResponseText=yi.prototype.fa,yi.prototype.send=yi.prototype.da,yi.prototype.setWithCredentials=yi.prototype.Ka;var M$=zc.createWebChannelTransport=function(){return new vC},k$=zc.getStatEventTarget=function(){return sC()},IM=zc.ErrorCode=oC,R$=zc.EventType=zF,O$=zc.Event=vf,kL=zc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},P$=zc.FetchXmlHttpFactory=xv,bC=zc.WebChannel=GF,N$=zc.XhrIo=yi;const RL="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let Xm="9.17.2";const Dd=new vd.Yd("@firebase/firestore");function AM(){return Dd.logLevel}function Le(n,...e){if(Dd.logLevel<=vd.in.DEBUG){const t=e.map(SM);Dd.debug(`Firestore (${Xm}): ${n}`,...t)}}function Ni(n,...e){if(Dd.logLevel<=vd.in.ERROR){const t=e.map(SM);Dd.error(`Firestore (${Xm}): ${n}`,...t)}}function Ef(n,...e){if(Dd.logLevel<=vd.in.WARN){const t=e.map(SM);Dd.warn(`Firestore (${Xm}): ${n}`,...t)}}function SM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${Xm}) INTERNAL ASSERTION FAILED: `+n;throw Ni(e),new Error(e)}function pt(n,e){n||Je()}function We(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class OL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class B${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U${constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,fe.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},g=v=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt("string"==typeof i.accessToken),new OL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new mr(e)}}class H${constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(pt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class j${constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new H$(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z${constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=o=>{null!=o.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt("string"==typeof t.token),this.A=t.token,new PL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class NL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=$$(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function jt(n,e){return n<e?-1:n>e?1:0}function Jm(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function FL(n){return n+"\0"}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Zn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Zn(0,0))}static max(){return new vt(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mv{constructor(e,t,i){void 0===t?t=0:t>e.length&&Je(),void 0===i?i=e.length-t:i>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Mv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),u=t.get(r);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Mv{construct(e,t,i){return new ln(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const G$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends Mv{construct(e,t,i){return new vi(e,t,i)}static isValidIdentifier(e){return G$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Pe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Pe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Pe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(o(),r++)}if(o(),u)throw new Pe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(ln.fromString(e))}static fromName(e){return new qe(ln.fromString(e).popFirst(5))}static empty(){return new qe(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new ln(e.slice()))}}class wC{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function TM(n){return n.fields.find(e=>2===e.kind)}function Cf(n){return n.fields.filter(e=>2!==e.kind)}wC.UNKNOWN_ID=-1;class DC{constructor(e,t){this.fieldPath=e,this.kind=t}}class kv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kv(0,_o.min())}}function LL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=vt.fromTimestamp(1e9===i?new Zn(t+1,0):new Zn(t,i));return new _o(r,qe.empty(),e)}function VL(n){return new _o(n.readTime,n.key,-1)}class _o{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _o(vt.min(),qe.empty(),-1)}static max(){return new _o(vt.max(),qe.empty(),-1)}}function MM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const BL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ed(n){return kM.apply(this,arguments)}function kM(){return kM=(0,fe.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==BL)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),kM.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let r=0,o=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++o,u&&o===r&&t()},g=>i(g))}),u=!0,o===r&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(r=>r?le.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new le((i,r)=>{const o=e.length,u=new Array(o);let f=0;for(let g=0;g<o;g++){const v=g;t(e[v]).next(C=>{u[v]=C,++f,f===o&&i(u)},C=>r(C))}})}static doWhile(e,t){return new le((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class EC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new er,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Rv(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=RM(i.target.error);this.v.reject(new Rv(e,r))}}static open(e,t,i,r){try{return new EC(t,e.transaction(r,i))}catch(o){throw new Rv(t,o)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Z$(t)}}class Wa{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Wa.D((0,un.z$)())&&Ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),xf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,un.hl)())return!1;if(Wa.N())return!0;const e=(0,un.z$)(),t=Wa.D(e),i=0<t&&t<10,r=Wa.k(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,fe.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Rv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Pe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Pe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Rv(e,f))},o.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,fe.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{o.db=yield o.F(e);const g=EC.open(o.db,e,u?"readonly":"readwrite",i),v=r(g).next(C=>(g.V(),C)).catch(C=>(g.abort(C),le.reject(C))).toPromise();return v.catch(()=>{}),yield g.P,v}catch(g){const v=g,C="FirebaseError"!==v.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),o.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Y${constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return xf(this.q.delete())}}class Rv extends Pe{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cd(n){return"IndexedDbTransactionError"===n.name}class Z${constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),xf(i)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),xf(this.store.add(e))}get(e){return xf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),xf(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),xf(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,f)=>{o.push(f)}).next(()=>o)}{const r=this.store.getAll(i.range);return new le((o,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{o(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new le((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Z=!1;const r=this.cursor(i);return this.H(r,(o,u,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new le((i,r)=>{t.onerror=o=>{const u=RM(o.target.error);r(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(e,t){const i=[];return new le((r,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const g=new Y$(f),v=t(f.primaryKey,f.value,g);if(v instanceof le){const C=v.catch(T=>(g.done(),le.reject(T)));i.push(C)}g.isDone?r():null===g.G?f.continue():f.continue(g.G)}}).next(()=>le.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Z?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xf(n){return new le((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=RM(i.target.error);t(r)}})}let HL=!1;function RM(n){const e=Wa.D((0,un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HL||(HL=!0,setTimeout(()=>{throw i},0)),i}}return n}class K${constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,fe.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Cd(i)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ed(i)}yield t.nt(6e4)}))}}class Q${constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,fe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,o=!0;return le.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(f=>{r-=f,i.add(u)});o=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,o)).next(f=>(Le("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,o)=>{const u=VL(o);MM(u,i)>0&&(i=u)}),new _o(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let yo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class eG{constructor(e,t,i,r,o,u,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class xd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}function jL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function If(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ov(n){return null==n}function Pv(n){return 0===n&&1/n==-1/0}function $L(n){return"number"==typeof n&&Number.isInteger(n)&&!Pv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new tG("Invalid base64 string: "+r):r}}(e);return new tr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const iG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Id(n){if(pt(!!n),"string"==typeof n){let e=0;const t=iG.exec(n);if(pt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bi(n.seconds),nanos:bi(n.nanos)}}function bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Af(n){return"string"==typeof n?tr.fromBase64String(n):tr.fromUint8Array(n)}function PM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function GL(n){const e=n.mapValue.fields.__previous_value__;return PM(e)?GL(e):e}function Nv(n){const e=Id(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}const Ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CC={nullValue:"NULL_VALUE"};function Sf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PM(n)?4:ZL(n)?9007199254740991:10:Je()}function Sl(n,e){if(n===e)return!0;const t=Sf(n);if(t!==Sf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nv(n).isEqual(Nv(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Id(i.timestampValue),u=Id(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Af(n.bytesValue).isEqual(Af(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return bi(i.geoPointValue.latitude)===bi(r.geoPointValue.latitude)&&bi(i.geoPointValue.longitude)===bi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return bi(i.integerValue)===bi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=bi(i.doubleValue),u=bi(r.doubleValue);return o===u?Pv(o)===Pv(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Jm(n.arrayValue.values||[],e.arrayValue.values||[],Sl);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(jL(o)!==jL(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===u[f]||!Sl(o[f],u[f])))return!1;return!0}(n,e);default:return Je()}var r}function Fv(n,e){return void 0!==(n.values||[]).find(t=>Sl(t,e))}function Sd(n,e){if(n===e)return 0;const t=Sf(n),i=Sf(e);if(t!==i)return jt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(r,o){const u=bi(r.integerValue||r.doubleValue),f=bi(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return qL(n.timestampValue,e.timestampValue);case 4:return qL(Nv(n),Nv(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(r,o){const u=Af(r),f=Af(o);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const u=r.split("/"),f=o.split("/");for(let g=0;g<u.length&&g<f.length;g++){const v=jt(u[g],f[g]);if(0!==v)return v}return jt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const u=jt(bi(r.latitude),bi(o.latitude));return 0!==u?u:jt(bi(r.longitude),bi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const u=r.values||[],f=o.values||[];for(let g=0;g<u.length&&g<f.length;++g){const v=Sd(u[g],f[g]);if(v)return v}return jt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Ad.mapValue&&o===Ad.mapValue)return 0;if(r===Ad.mapValue)return 1;if(o===Ad.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),g=o.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const T=jt(f[C],v[C]);if(0!==T)return T;const N=Sd(u[f[C]],g[v[C]]);if(0!==N)return N}return jt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Je()}}function qL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Id(n),i=Id(e),r=jt(t.seconds,i.seconds);return 0!==r?r:jt(t.nanos,i.nanos)}function eg(n){return NM(n)}function NM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Id(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Af(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=NM(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${NM(i.fields[f])}`;return o+"}"}(n.mapValue):Je();var e}function Tf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FM(n){return!!n&&"integerValue"in n}function Lv(n){return!!n&&"arrayValue"in n}function WL(n){return!!n&&"nullValue"in n}function YL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xC(n){return!!n&&"mapValue"in n}function Vv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return If(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Vv(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ZL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rG(n){return"nullValue"in n?CC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tf(xd.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function sG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tf(xd.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ad:Je()}function KL(n,e){const t=Sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function QL(n,e){const t=Sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Td{constructor(e,t){this.position=e,this.inclusive=t}}function XL(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(i=o.field.isKeyField()?qe.comparator(qe.fromName(u.referenceValue),t.key):Sd(u,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function JL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sl(n.position[t],e.position[t]))return!1;return!0}class eV{}class sn extends eV{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new oG(e,t,i):"array-contains"===t?new cG(e,i):"in"===t?new oV(e,i):"not-in"===t?new uG(e,i):"array-contains-any"===t?new dG(e,i):new sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new aG(e,i):new lG(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sd(t,this.value)):null!==t&&Sf(this.value)===Sf(t)&&this.matchesComparison(Sd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends eV{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new vn(e,t)}matches(e){return tg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function tg(n){return"and"===n.op}function LM(n){return"or"===n.op}function VM(n){return tV(n)&&tg(n)}function tV(n){for(const e of n.filters)if(e instanceof vn)return!1;return!0}function BM(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+eg(n.value);if(VM(n))return n.filters.map(e=>BM(e)).join(",");{const e=n.filters.map(t=>BM(t)).join(",");return`${n.op}(${e})`}}function nV(n,e){return n instanceof sn?(t=n,(i=e)instanceof sn&&t.op===i.op&&t.field.isEqual(i.field)&&Sl(t.value,i.value)):n instanceof vn?function(t,i){return i instanceof vn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,u)=>r&&nV(o,i.filters[u]),!0)}(n,e):void Je();var t,i}function iV(n,e){const t=n.filters.concat(e);return vn.create(t,n.op)}function rV(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${eg(e.value)}`:n instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(rV).join(" ,")+"}"}(n):"Filter";var e}class oG extends sn{constructor(e,t,i){super(e,t,i),this.key=qe.fromName(i.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class aG extends sn{constructor(e,t){super(e,"in",t),this.keys=sV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lG extends sn{constructor(e,t){super(e,"not-in",t),this.keys=sV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>qe.fromName(i.referenceValue))}class cG extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lv(t)&&Fv(t.arrayValue,this.value)}}class oV extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fv(this.value.arrayValue,t)}}class uG extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fv(this.value.arrayValue,t)}}class dG extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Fv(this.value.arrayValue,i))}}class ng{constructor(e,t="asc"){this.field=e,this.dir=t}}function hG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class wi{constructor(e,t){this.comparator=e,this.root=t||Nr.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new IC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new IC(this.root,e,this.comparator,!1)}getReverseIterator(){return new IC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new IC(this.root,e,this.comparator,!0)}}class IC{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Nr.RED,this.left=r??Nr.EMPTY,this.right=o??Nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Nr(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Nr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1,Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Nr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aV(this.data.getIterator())}getIteratorFrom(e){return new aV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class aV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ig(n){return n.hasNext()?n.getNext():void 0}class Gs{constructor(e){this.fields=e,e.sort(vi.comparator)}static empty(){return new Gs([])}unionWith(e){let t=new Cn(vi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jm(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vv(t)}setAll(e){let t=vi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Vv(u):r.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());xC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];xC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){If(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new gr(Vv(this.value))}}function lV(n){const e=[];return If(n.fields,(t,i)=>{const r=new vi([t]);if(xC(i)){const o=lV(i.mapValue).fields;if(0===o.length)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)}),new Gs(e)}class Ln{constructor(e,t,i,r,o,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Ln(e,0,vt.min(),vt.min(),vt.min(),gr.empty(),0)}static newFoundDocument(e,t,i,r){return new Ln(e,1,t,vt.min(),i,r,0)}static newNoDocument(e,t){return new Ln(e,2,t,vt.min(),vt.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,vt.min(),vt.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fG{constructor(e,t=null,i=[],r=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=f,this._t=null}}function UM(n,e=null,t=[],i=[],r=null,o=null,u=null){return new fG(n,e,t,i,r,o,u)}function Mf(n){const e=We(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>BM(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ov(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eg(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eg(i)).join(",")),e._t=t}return e._t}function Bv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JL(n.startAt,e.startAt)&&JL(n.endAt,e.endAt)}function AC(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function SC(n,e){return n.filters.filter(t=>t instanceof sn&&t.field.isEqual(e))}function cV(n,e,t){let i=CC,r=!0;for(const o of SC(n,e)){let u=CC,f=!0;switch(o.op){case"<":case"<=":u=rG(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,f=!1;break;case"!=":case"not-in":u=CC}KL({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];KL({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function uV(n,e,t){let i=Ad,r=!0;for(const o of SC(n,e)){let u=Ad,f=!0;switch(o.op){case">=":case">":u=sG(o.value),f=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,f=!1;break;case"!=":case"not-in":u=Ad}QL({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];QL({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class qc{constructor(e,t=null,i=[],r=[],o=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=g,this.wt=null,this.gt=null}}function dV(n,e,t,i,r,o,u,f){return new qc(n,e,t,i,r,o,u,f)}function rg(n){return new qc(n)}function hV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function HM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function TC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jM(n){return null!==n.collectionGroup}function kf(n){const e=We(n);if(null===e.wt){e.wt=[];const t=TC(e),i=HM(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new ng(t)),e.wt.push(new ng(vi.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ng(vi.keyField(),o))}}}return e.wt}function vs(n){const e=We(n);if(!e.gt)if("F"===e.limitType)e.gt=UM(e.path,e.collectionGroup,kf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of kf(e))t.push(new ng(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Td(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Td(e.startAt.position,e.startAt.inclusive):null;e.gt=UM(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.gt}function zM(n,e){e.getFirstInequalityField(),TC(n);const t=n.filters.concat([e]);return new qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function MC(n,e,t){return new qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Uv(n,e){return Bv(vs(n),vs(e))&&n.limitType===e.limitType}function fV(n){return`${Mf(vs(n))}|lt:${n.limitType}`}function $M(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>rV(i)).join(", ")}]`),Ov(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eg(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eg(i)).join(",")),`Target(${t})`}(vs(n))}; limitType=${n.limitType})`}function Hv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of kf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,u){const f=XL(r,o,u);return r.inclusive?f<=0:f<0}(t.startAt,kf(t),i)||t.endAt&&!function(r,o,u){const f=XL(r,o,u);return r.inclusive?f>=0:f>0}(t.endAt,kf(t),i)));var t,i}function pV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mV(n){return(e,t)=>{let i=!1;for(const r of kf(n)){const o=pG(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function pG(n,e,t){const i=n.field.isKeyField()?qe.comparator(e.key,t.key):function(r,o,u){const f=o.data.field(r),g=u.data.field(r);return null!==f&&null!==g?Sd(f,g):Je()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Je()}}function gV(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pv(e)?"-0":e}}function _V(n){return{integerValue:""+n}}function yV(n,e){return $L(e)?_V(e):gV(n,e)}class kC{constructor(){this._=void 0}}function mG(n,e,t){return n instanceof sg?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Rf?bV(n,e):n instanceof Of?wV(n,e):function(i,r){const o=vV(i,r),u=DV(o)+DV(i.It);return FM(o)&&FM(i.It)?_V(u):gV(i.Tt,u)}(n,e)}function gG(n,e,t){return n instanceof Rf?bV(n,e):n instanceof Of?wV(n,e):t}function vV(n,e){return n instanceof og?FM(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class sg extends kC{}class Rf extends kC{constructor(e){super(),this.elements=e}}function bV(n,e){const t=EV(e);for(const i of n.elements)t.some(r=>Sl(r,i))||t.push(i);return{arrayValue:{values:t}}}class Of extends kC{constructor(e){super(),this.elements=e}}function wV(n,e){let t=EV(e);for(const i of n.elements)t=t.filter(r=>!Sl(r,i));return{arrayValue:{values:t}}}class og extends kC{constructor(e,t){super(),this.Tt=e,this.It=t}}function DV(n){return bi(n.integerValue||n.doubleValue)}function EV(n){return Lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jv{constructor(e,t){this.field=e,this.transform=t}}class yG{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function RC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class OC{}function CV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lg(n.key,Kn.none()):new ag(n.key,n.data,Kn.none());{const t=n.data,i=gr.empty();let r=new Cn(vi.comparator);for(let o of e.fields)if(!r.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Wc(n.key,i,new Gs(r.toArray()),Kn.none())}}function vG(n,e,t){n instanceof ag?function(i,r,o){const u=i.value.clone(),f=AV(i.fieldTransforms,r,o.transformResults);u.setAll(f),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Wc?function(i,r,o){if(!RC(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=AV(i.fieldTransforms,r,o.transformResults),f=r.data;f.setAll(IV(i)),f.setAll(u),r.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zv(n,e,t,i){return n instanceof ag?function(r,o,u,f){if(!RC(r.precondition,o))return u;const g=r.value.clone(),v=SV(r.fieldTransforms,f,o);return g.setAll(v),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Wc?function(r,o,u,f){if(!RC(r.precondition,o))return u;const g=SV(r.fieldTransforms,f,o),v=o.data;return v.setAll(IV(r)),v.setAll(g),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(u=t,RC(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function bG(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=vV(i.transform,r||null);null!=o&&(null===t&&(t=gr.empty()),t.set(i.field,o))}return t||null}function xV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Jm(t,i,(r,o)=>function _G(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Rf&&i instanceof Rf||t instanceof Of&&i instanceof Of?Jm(t.elements,i.elements,Sl):t instanceof og&&i instanceof og?Sl(t.It,i.It):t instanceof sg&&i instanceof sg);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class ag extends OC{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wc extends OC{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function AV(n,e,t){const i=new Map;pt(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,f=e.data.field(o.field);i.set(o.field,gG(u,f,t[r]))}return i}function SV(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,mG(o,u,e))}return i}class lg extends OC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends OC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wG{constructor(e){this.count=e}}var Yi,cn;function TV(n){switch(n){default:return Je();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function MV(n){if(void 0===n)return Ni("GRPC error has no .code"),he.UNKNOWN;switch(n){case Yi.OK:return he.OK;case Yi.CANCELLED:return he.CANCELLED;case Yi.UNKNOWN:return he.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return he.INTERNAL;case Yi.UNAVAILABLE:return he.UNAVAILABLE;case Yi.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Yi.NOT_FOUND:return he.NOT_FOUND;case Yi.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Yi.ABORTED:return he.ABORTED;case Yi.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Yi.DATA_LOSS:return he.DATA_LOSS;default:return Je()}}(cn=Yi||(Yi={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class Md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){If(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return zL(this.inner)}size(){return this.innerSize}}const DG=new wi(qe.comparator);function qs(){return DG}const kV=new wi(qe.comparator);function $v(...n){let e=kV;for(const t of n)e=e.insert(t.key,t);return e}function RV(n){let e=kV;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Tl(){return Gv()}function OV(){return Gv()}function Gv(){return new Md(n=>n.toString(),(n,e)=>n.isEqual(e))}const EG=new wi(qe.comparator),CG=new Cn(qe.comparator);function Gt(...n){let e=CG;for(const t of n)e=e.add(t);return e}const xG=new Cn(jt);function PC(){return xG}class qv{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Wv.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new qv(vt.min(),r,PC(),qs(),Gt())}}class Wv{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Wv(i,t,Gt(),Gt(),Gt())}}class NC{constructor(e,t,i,r){this.Et=e,this.removedTargetIds=t,this.key=i,this.At=r}}class PV{constructor(e,t){this.targetId=e,this.Rt=t}}class NV{constructor(e,t,i=tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class FV{constructor(){this.bt=0,this.vt=VV(),this.Pt=tr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Gt(),t=Gt(),i=Gt();return this.vt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Je()}}),new Wv(this.Pt,this.Vt,e,t,i)}kt(){this.St=!1,this.vt=VV()}Ot(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class IG{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=qs(),this.Kt=LV(),this.Gt=new Cn(jt)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const i=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&i.xt(e.resumeToken);break;case 1:i.$t(),i.Dt||i.kt(),i.xt(e.resumeToken);break;case 2:i.$t(),i.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(i.Bt(),i.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),i.xt(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((i,r)=>{this.Jt(r)&&t(r)})}Zt(e){const t=e.targetId,i=e.Rt.count,r=this.Xt(t);if(r){const o=r.target;if(AC(o))if(0===i){const u=new qe(o.path);this.zt(t,u,Ln.newNoDocument(u,vt.min()))}else pt(1===i);else this.te(t)!==i&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((o,u)=>{const f=this.Xt(u);if(f){if(o.current&&AC(f.target)){const g=new qe(f.target.path);null!==this.Ut.get(g)||this.ne(u,g)||this.zt(u,g,Ln.newNoDocument(g,e))}o.Ct&&(t.set(u,o.Nt()),o.kt())}});let i=Gt();this.Kt.forEach((o,u)=>{let f=!0;u.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(i=i.add(o))}),this.Ut.forEach((o,u)=>u.setReadTime(e));const r=new qv(e,t,this.Gt,this.Ut,i);return this.Ut=qs(),this.Kt=LV(),this.Gt=new Cn(jt),r}jt(e,t){if(!this.Jt(e))return;const i=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,i){if(!this.Jt(e))return;const r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let t=this.qt.get(e);return t||(t=new FV,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new Cn(jt),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new FV),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function LV(){return new wi(qe.comparator)}function VV(){return new wi(qe.comparator)}const AG={asc:"ASCENDING",desc:"DESCENDING"},SG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TG={and:"AND",or:"OR"};class MG{constructor(e,t){this.databaseId=e,this.yt=t}}function cg(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BV(n,e){return n.yt?e.toBase64():e.toUint8Array()}function kG(n,e){return cg(n,e.toTimestamp())}function Fi(n){return pt(!!n),vt.fromTimestamp(function(e){const t=Id(e);return new Zn(t.seconds,t.nanos)}(n))}function qM(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UV(n){const e=ln.fromString(n);return pt(ZV(e)),e}function Yv(n,e){return qM(n.databaseId,e.path)}function Ml(n,e){const t=UV(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(jV(t))}function WM(n,e){return qM(n.databaseId,e)}function HV(n){const e=UV(n);return 4===e.length?ln.emptyPath():jV(e)}function Zv(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jV(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zV(n,e,t){return{name:Yv(n,e),fields:t.value.mapValue.fields}}function $V(n,e,t){const i=Ml(n,e.name),r=Fi(e.updateTime),o=e.createTime?Fi(e.createTime):vt.min(),u=new gr({mapValue:{fields:e.fields}}),f=Ln.newFoundDocument(i,r,o,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Kv(n,e){let t;if(e instanceof ag)t={update:zV(n,e.key,e.value)};else if(e instanceof lg)t={delete:Yv(n,e.key)};else if(e instanceof Wc)t={update:zV(n,e.key,e.data),updateMask:BG(e.fieldMask)};else{if(!(e instanceof GM))return Je();t={verify:Yv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof sg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Rf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Of)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof og)return{fieldPath:o.field.canonicalString(),increment:u.It};throw Je()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:kG(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Je()),t;var r}function YM(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Kn.updateTime(Fi(r.updateTime)):void 0!==r.exists?Kn.exists(r.exists):Kn.none():Kn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,u){let f=null;"setToServerValue"in u?(pt("REQUEST_TIME"===u.setToServerValue),f=new sg):"appendMissingElements"in u?f=new Rf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Of(u.removeAllFromArray.values||[]):"increment"in u?f=new og(o,u.increment):Je();const g=vi.fromServerFormat(u.fieldPath);return new jv(g,f)}(n,r)):[];var r;if(e.update){const r=Ml(n,e.update.name),o=new gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Gs((e.updateMask.fieldPaths||[]).map(v=>vi.fromServerFormat(v)));return new Wc(r,o,u,t,i)}return new ag(r,o,t,i)}if(e.delete){const r=Ml(n,e.delete);return new lg(r,t)}if(e.verify){const r=Ml(n,e.verify);return new GM(r,t)}return Je()}function GV(n,e){return{documents:[WM(n,e.path)]}}function ZM(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=WM(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=WM(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return YV(vn.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(v=>{return{field:kd((C=v).field),direction:FG(C.dir)};var C})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=(v=e.limit,n.yt||Ov(v)?v:{value:v});var v,f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function qV(n){let e=HV(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){pt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let o=[];t.where&&(o=function(C){const T=WV(C);return T instanceof vn&&VM(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new ng(ug((T=C).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;t.limit&&(f=function(C){let T;return T="object"==typeof C?C.value:C,Ov(T)?null:T}(t.limit));let g=null;var C;t.startAt&&(g=new Td((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new Td(C.values||[],!C.before)}(t.endAt)),dV(e,r,u,o,f,"F",g,v)}function WV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ug(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=ug(e.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ug(e.unaryFilter.field);return sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ug(e.unaryFilter.field);return sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?sn.create(ug((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return vn.create(e.compositeFilter.filters.map(t=>WV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function FG(n){return AG[n]}function LG(n){return SG[n]}function VG(n){return TG[n]}function kd(n){return{fieldPath:n.canonicalString()}}function ug(n){return vi.fromServerFormat(n.fieldPath)}function YV(n){return n instanceof sn?function(e){if("=="===e.op){if(YL(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NAN"}};if(WL(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(YL(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NOT_NAN"}};if(WL(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kd(e.field),op:LG(e.op),value:e.value}}}(n):n instanceof vn?function(e){const t=e.getFilters().map(i=>YV(i));return 1===t.length?t[0]:{compositeFilter:{op:VG(e.op),filters:t}}}(n):Je()}function BG(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function bs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KV(e)),e=UG(n.get(t),e);return KV(e)}function UG(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function KV(n){return n+"\x01\x01"}function kl(n){const e=n.length;if(pt(e>=2),2===e)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&Je(),n.charAt(u+1)){case"\x01":const f=n.substring(o,u);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:Je()}o=u+2}return new ln(i)}const QV=["userId","batchId"];function FC(n,e){return[n,bs(e)]}function XV(n,e,t){return[n,bs(e),t]}const HG={},jG=["prefixPath","collectionGroup","readTime","documentId"],zG=["prefixPath","collectionGroup","documentId"],$G=["collectionGroup","readTime","prefixPath","documentId"],GG=["canonicalId","targetId"],qG=["targetId","path"],WG=["path","targetId"],YG=["collectionId","parent"],ZG=["indexId","uid"],KG=["uid","sequenceNumber"],QG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XG=["indexId","uid","orderedDocumentKey"],JG=["userId","collectionPath","documentId"],e6=["userId","collectionPath","largestBatchId"],t6=["userId","collectionGroup","largestBatchId"],JV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],n6=[...JV,"documentOverlays"],e2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],t2=e2,i6=[...t2,"indexConfiguration","indexState","indexEntries"];class KM extends UL{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function _r(n,e){const t=We(n);return Wa.M(t.re,e)}class QM{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&vG(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zv(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zv(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=OV();return this.mutations.forEach(r=>{const o=e.get(r.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(r.key)?null:f;const g=CV(u,f);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(vt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Jm(this.mutations,e.mutations,(t,i)=>xV(t,i))&&Jm(this.baseMutations,e.baseMutations,(t,i)=>xV(t,i))}}class XM{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){pt(e.mutations.length===i.length);let r=EG;const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new XM(e,t,i,r)}}class JM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rd{constructor(e,t,i,r,o=vt.min(),u=vt.min(),f=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Rd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class n2{constructor(e){this.oe=e}}function r2(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:LC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Yv(r=n.oe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:cg(r,o.version.toTimestamp()),createTime:cg(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Pf(e.version)};else{if(!e.isUnknownDocument())return Je();i.unknownDocument={path:t.path.toArray(),version:Pf(e.version)}}var r,o;return i}function LC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nf(n){const e=new Zn(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function Ff(n,e){const t=(e.baseMutations||[]).map(o=>YM(n.oe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>YM(n.oe,o)),r=Zn.fromMillis(e.localWriteTimeMs);return new QM(e.batchId,r,t,i)}function Qv(n){const e=Nf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nf(n.lastLimboFreeSnapshotVersion):vt.min();let i;var r;return void 0!==n.query.documents?(pt(1===(r=n.query).documents.length),i=vs(rg(HV(r.documents[0])))):i=vs(qV(n.query)),new Rd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,tr.fromBase64String(n.resumeToken))}function s2(n,e){const t=Pf(e.snapshotVersion),i=Pf(e.lastLimboFreeSnapshotVersion);let r;r=AC(e.target)?GV(n.oe,e.target):ZM(n.oe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mf(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ek(n){const e=qV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?MC(e,e.limit,"L"):e}function tk(n,e){return new JM(e.largestBatchId,YM(n.oe,e.overlayMutation))}function o2(n,e){const t=e.path.lastSegment();return[n,bs(e.path.popLast()),t]}function a2(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Pf(i.readTime),documentKey:bs(i.documentKey.path),largestBatchId:i.largestBatchId}}class s6{getBundleMetadata(e,t){return l2(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Nf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return l2(e).put({bundleId:(i=t).id,createTime:Pf(Fi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return c2(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:ek(r.bundledQuery),readTime:Nf(r.readTime)};var r})}saveNamedQuery(e,t){return c2(e).put({name:(i=t).name,readTime:Pf(Fi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function l2(n){return _r(n,"bundles")}function c2(n){return _r(n,"namedQueries")}class VC{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new VC(e,t.uid||"")}getOverlay(e,t){return Xv(e).get(o2(this.userId,t)).next(i=>i?tk(this.Tt,i):null)}getOverlays(e,t){const i=Tl();return le.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,u)=>{const f=new JM(t,u);r.push(this.ce(e,f))}),le.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(bs(u.getCollectionPath())));const o=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Xv(e).Y("collectionPathOverlayIndex",f))}),le.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Tl(),o=bs(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Xv(e).W("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const v=tk(this.Tt,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Tl();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xv(e).X({index:"collectionGroupOverlayIndex",range:f},(g,v,C)=>{const T=tk(this.Tt,v);o.size()<r||T.largestBatchId===u?(o.set(T.getKey(),T),u=T.largestBatchId):C.done()}).next(()=>o)}ce(e,t){return Xv(e).put(function(i,r,o){const[u,f,g]=o2(r,o.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Kv(i.oe,o.mutation)}}(this.Tt,this.userId,t))}}function Xv(n){return _r(n,"documentOverlays")}class Lf{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(bi(e.integerValue));else if("doubleValue"in e){const i=bi(e.doubleValue);isNaN(i)?this.fe(t,13):(this.fe(t,15),Pv(i)?t.de(0):t.de(i))}else if("timestampValue"in e){const i=e.timestampValue;this.fe(t,20),"string"==typeof i?t._e(i):(t._e(`${i.seconds||""}`),t.de(i.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Af(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?ZL(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Je()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const i=e.fields||{};this.fe(t,55);for(const r of Object.keys(i))this.we(r,t),this.he(i[r],t)}Ie(e,t){const i=e.values||[];this.fe(t,50);for(const r of i)this.he(r,t)}ye(e,t){this.fe(t,37),qe.fromName(e).path.forEach(i=>{this.fe(t,60),this.Te(i,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function o6(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function u2(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=o6(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Lf.Ee=new Lf;class a6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.be()}ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.Ve()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.be()}De(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.Ve()}Ce(e){const t=this.xe(e),i=u2(t);this.Ne(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}ke(e){const t=this.xe(e),i=u2(t);this.Ne(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class l6{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class c6{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class Jv{constructor(){this.Le=new a6,this.qe=new l6(this.Le),this.Ue=new c6(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class Vf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Vf(this.indexId,this.documentKey,this.arrayValue,i)}}function Od(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=d2(n.arrayValue,e.arrayValue),0!==t?t:(t=d2(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function d2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class u6{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const i=t;i.isInequality()?this.ze=i:this.je.push(i)}}We(e){pt(e.collectionGroup===this.collectionId);const t=TM(e);if(void 0!==t&&!this.He(t))return!1;const i=Cf(e);let r=0,o=0;for(;r<i.length&&this.He(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.ze){const u=i[r];if(!this.Je(this.ze,u)||!this.Ye(this.Qe[o++],u))return!1;++r}for(;r<i.length;++r)if(o>=this.Qe.length||!this.Ye(this.Qe[o++],i[r]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function h2(n){var e,t;if(pt(n instanceof sn||n instanceof vn),n instanceof sn){if(n instanceof oV){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>sn.create(n.field,"==",o)))||[];return vn.create(r,"or")}return n}const i=n.filters.map(r=>h2(r));return vn.create(i,n.op)}function d6(n){if(0===n.getFilters().length)return[];const e=rk(h2(n));return pt(f2(e)),nk(e)||ik(e)?[e]:e.getFilters()}function nk(n){return n instanceof sn}function ik(n){return n instanceof vn&&VM(n)}function f2(n){return nk(n)||ik(n)||function(e){if(e instanceof vn&&LM(e)){for(const t of e.getFilters())if(!nk(t)&&!ik(t))return!1;return!0}return!1}(n)}function rk(n){if(pt(n instanceof sn||n instanceof vn),n instanceof sn)return n;if(1===n.filters.length)return rk(n.filters[0]);const e=n.filters.map(i=>rk(i));let t=vn.create(e,n.op);return t=BC(t),f2(t)?t:(pt(t instanceof vn),pt(tg(t)),pt(t.filters.length>1),t.filters.reduce((i,r)=>sk(i,r)))}function sk(n,e){let t;return pt(n instanceof sn||n instanceof vn),pt(e instanceof sn||e instanceof vn),t=n instanceof sn?e instanceof sn?vn.create([n,e],"and"):p2(n,e):e instanceof sn?p2(e,n):function(i,r){if(pt(i.filters.length>0&&r.filters.length>0),tg(i)&&tg(r))return iV(i,r.getFilters());const o=LM(i)?i:r,u=LM(i)?r:i,f=o.filters.map(g=>sk(g,u));return vn.create(f,"or")}(n,e),BC(t)}function p2(n,e){if(tg(e))return iV(e,n.getFilters());{const t=e.filters.map(i=>sk(n,i));return vn.create(t,"or")}}function BC(n){if(pt(n instanceof sn||n instanceof vn),n instanceof sn)return n;const e=n.getFilters();if(1===e.length)return BC(e[0]);if(tV(n))return n;const t=e.map(r=>BC(r)),i=[];return t.forEach(r=>{r instanceof sn?i.push(r):r instanceof vn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:vn.create(i,n.op)}class h6{constructor(){this.Ze=new ok}addToCollectionParentIndex(e,t){return this.Ze.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(_o.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class ok{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Cn(ln.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Cn(ln.comparator)).toArray()}}const UC=new Uint8Array(0);class f6{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ok,this.tn=new Md(i=>Mf(i),(i,r)=>Bv(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const o={collectionId:i,parent:bs(r)};return m2(e).put(o)}return le.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[FL(t),""],!1,!0);return m2(e).W(r).next(o=>{for(const u of o){if(u.collectionId!==t)break;i.push(kl(u.parent))}return i})}addFieldIndex(e,t){const i=HC(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const o=i.add(r);if(t.indexState){const u=tb(e);return o.next(f=>{u.put(a2(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=HC(e),r=tb(e),o=eb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=eb(e);let r=!0;const o=new Map;return le.forEach(this.en(t),u=>this.nn(e,u).next(f=>{r&&(r=!!f),o.set(u,f)})).next(()=>{if(r){let u=Gt();const f=[];return le.forEach(o,(g,v)=>{var C;Le("IndexedDbIndexManager",`Using index ${C=g,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${Mf(t)}`);const T=function(_t,ut){const Vt=TM(ut);if(void 0===Vt)return null;for(const Pt of SC(_t,Vt.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(v,g),N=function(_t,ut){const Vt=new Map;for(const Pt of Cf(ut))for(const dn of SC(_t,Pt.fieldPath))switch(dn.op){case"==":case"in":Vt.set(Pt.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return Vt.set(Pt.fieldPath.canonicalString(),dn.value),Array.from(Vt.values())}return null}(v,g),U=function(_t,ut){const Vt=[];let Pt=!0;for(const dn of Cf(ut)){const Cs=0===dn.kind?cV(_t,dn.fieldPath,_t.startAt):uV(_t,dn.fieldPath,_t.startAt);Vt.push(Cs.value),Pt&&(Pt=Cs.inclusive)}return new Td(Vt,Pt)}(v,g),H=function(_t,ut){const Vt=[];let Pt=!0;for(const dn of Cf(ut)){const Cs=0===dn.kind?uV(_t,dn.fieldPath,_t.endAt):cV(_t,dn.fieldPath,_t.endAt);Vt.push(Cs.value),Pt&&(Pt=Cs.inclusive)}return new Td(Vt,Pt)}(v,g),te=this.sn(g,v,U),De=this.sn(g,v,H),ze=this.rn(g,v,N),it=this.on(g.indexId,T,te,U.inclusive,De,H.inclusive,ze);return le.forEach(it,_t=>i.J(_t,t.limit).next(ut=>{ut.forEach(Vt=>{const Pt=qe.fromSegments(Vt.documentKey);u.has(Pt)||(u=u.add(Pt),f.push(Pt))})}))}).next(()=>f)}return le.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:d6(vn.create(e.filters,"and")).map(i=>UM(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,i,r,o,u,f){const g=(null!=t?t.length:1)*Math.max(i.length,o.length),v=g/(null!=t?t.length:1),C=[];for(let T=0;T<g;++T){const N=t?this.un(t[T/v]):UC,U=this.cn(e,N,i[T%v],r),H=this.an(e,N,o[T%v],u),te=f.map(De=>this.cn(e,N,De,!0));C.push(...this.createRange(U,H,te))}return C}cn(e,t,i,r){const o=new Vf(e,qe.empty(),t,i);return r?o:o.Ge()}an(e,t,i,r){const o=new Vf(e,qe.empty(),t,i);return r?o.Ge():o}nn(e,t){const i=new u6(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let u=null;for(const f of o)i.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.en(t);return le.forEach(r,o=>this.nn(e,o).next(u=>{u?0!==i&&u.fields.length<function(f){let g=new Cn(vi.comparator),v=!1;for(const C of f.filters)for(const T of C.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?v=!0:g=g.add(T.field));for(const C of f.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}hn(e,t){const i=new Jv;for(const r of Cf(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const u=i.Ke(r.kind);Lf.Ee.ae(o,u)}return i.Be()}un(e){const t=new Jv;return Lf.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const i=new Jv;return Lf.Ee.ae(Tf(this.databaseId,t),i.Ke(function(r){const o=Cf(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Be()}rn(e,t,i){if(null===i)return[];let r=[];r.push(new Jv);let o=0;for(const u of Cf(e)){const f=i[o++];for(const g of r)if(this.fn(t,u.fieldPath)&&Lv(f))r=this.dn(r,u,f);else{const v=g.Ke(u.kind);Lf.Ee.ae(f,v)}}return this._n(r)}sn(e,t,i){return this.rn(e,t,i.position)}_n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Be();return t}dn(e,t,i){const r=[...e],o=[];for(const u of i.arrayValue.values||[])for(const f of r){const g=new Jv;g.seed(f.Be()),Lf.Ee.ae(u,g.Ke(t.kind)),o.push(g)}return o}fn(e,t){return!!e.filters.find(i=>i instanceof sn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=HC(e),r=tb(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const u=[];return le.forEach(o,f=>r.get([f.indexId,this.uid]).next(g=>{u.push(function(v,C){const T=C?new kv(C.sequenceNumber,new _o(Nf(C.readTime),new qe(kl(C.documentKey)),C.largestBatchId)):kv.empty(),N=v.fields.map(([U,H])=>new DC(vi.fromServerFormat(U),H));return new wC(v.indexId,v.collectionGroup,N,T)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:jt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=HC(e),o=tb(e);return this.wn(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>le.forEach(f,g=>o.put(a2(g.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return le.forEach(t,(r,o)=>{const u=i.get(r.collectionGroup);return(u?le.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),le.forEach(f,g=>this.mn(e,r,g).next(v=>{const C=this.gn(o,g);return v.isEqual(C)?le.resolve():this.yn(e,o,g,v,C)}))))})}pn(e,t,i,r){return eb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(i,t.key),documentKey:t.key.path.toArray()})}In(e,t,i,r){return eb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(i,t.key),t.key.path.toArray()])}mn(e,t,i){const r=eb(e);let o=new Cn(Od);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.ln(i,t)])},(u,f)=>{o=o.add(new Vf(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>o)}gn(e,t){let i=new Cn(Od);const r=this.hn(t,e);if(null==r)return i;const o=TM(t);if(null!=o){const u=e.data.field(o.fieldPath);if(Lv(u))for(const f of u.arrayValue.values||[])i=i.add(new Vf(t.indexId,e.key,this.un(f),r))}else i=i.add(new Vf(t.indexId,e.key,UC,r));return i}yn(e,t,i,r,o){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,g,v,C,T){const N=f.getIterator(),U=g.getIterator();let H=ig(N),te=ig(U);for(;H||te;){let De=!1,ze=!1;if(H&&te){const it=v(H,te);it<0?ze=!0:it>0&&(De=!0)}else null!=H?ze=!0:De=!0;De?(C(te),te=ig(U)):ze?(T(H),H=ig(N)):(H=ig(N),te=ig(U))}}(r,o,Od,f=>{u.push(this.pn(e,t,i,f))},f=>{u.push(this.In(e,t,i,f))}),le.waitFor(u)}wn(e){let t=1;return tb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Od(u,f)).filter((u,f,g)=>!f||0!==Od(u,g[f-1]));const r=[];r.push(e);for(const u of i){const f=Od(u,e),g=Od(u,t);if(0===f)r[0]=e.Ge();else if(f>0&&g<0)r.push(u),r.push(u.Ge());else if(g>0)break}r.push(t);const o=[];for(let u=0;u<r.length;u+=2){if(this.Tn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,UC,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,UC,[]]))}return o}Tn(e,t){return Od(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(g2)}getMinOffset(e,t){return le.mapArray(this.en(t),i=>this.nn(e,i).next(r=>r||Je())).next(g2)}}function m2(n){return _r(n,"collectionParents")}function eb(n){return _r(n,"indexEntries")}function HC(n){return _r(n,"indexConfiguration")}function tb(n){return _r(n,"indexState")}function g2(n){pt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;MM(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new _o(e.readTime,e.documentKey,t)}const _2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function y2(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=i.X({range:u},(C,T,N)=>(f++,N.delete()));o.push(g.next(()=>{pt(1===f)}));const v=[];for(const C of t.mutations){const T=XV(e,C.key.path,t.batchId);o.push(r.delete(T)),v.push(C.key)}return le.waitFor(o).next(()=>v)}function jC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class zC{constructor(e,t,i,r){this.userId=e,this.Tt=t,this.indexManager=i,this.referenceDelegate=r,this.En={}}static ue(e,t,i,r){pt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new zC(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pd(e).X({index:"userMutationsIndex",range:i},(r,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=dg(e),u=Pd(e);return u.add({}).next(f=>{pt("number"==typeof f);const g=new QM(f,t,i,r),v=function(N,U,H){const te=H.baseMutations.map(ze=>Kv(N.oe,ze)),De=H.mutations.map(ze=>Kv(N.oe,ze));return{userId:U,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:te,mutations:De}}(this.Tt,this.userId,g),C=[];let T=new Cn((N,U)=>jt(N.canonicalString(),U.canonicalString()));for(const N of r){const U=XV(this.userId,N.key.path,f);T=T.add(N.key.path.popLast()),C.push(u.put(v)),C.push(o.put(U,HG))}return T.forEach(N=>{C.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.En[f]=g.keys()}),le.waitFor(C).next(()=>g)})}lookupMutationBatch(e,t){return Pd(e).get(t).next(i=>i?(pt(i.userId===this.userId),Ff(this.Tt,i)):null)}An(e,t){return this.En[t]?le.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.En[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Pd(e).X({index:"userMutationsIndex",range:r},(u,f,g)=>{f.userId===this.userId&&(pt(f.batchId>=i),o=Ff(this.Tt,f)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Pd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pd(e).W("userMutationsIndex",t).next(i=>i.map(r=>Ff(this.Tt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=FC(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return dg(e).X({range:r},(u,f,g)=>{const[v,C,T]=u,N=kl(C);if(v===this.userId&&t.path.isEqual(N))return Pd(e).get(T).next(U=>{if(!U)throw Je();pt(U.userId===this.userId),o.push(Ff(this.Tt,U))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Cn(jt);const r=[];return t.forEach(o=>{const u=FC(this.userId,o.path),f=IDBKeyRange.lowerBound(u),g=dg(e).X({range:f},(v,C,T)=>{const[N,U,H]=v,te=kl(U);N===this.userId&&o.path.isEqual(te)?i=i.add(H):T.done()});r.push(g)}),le.waitFor(r).next(()=>this.Rn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=FC(this.userId,i),u=IDBKeyRange.lowerBound(o);let f=new Cn(jt);return dg(e).X({range:u},(g,v,C)=>{const[T,N,U]=g,H=kl(N);T===this.userId&&i.isPrefixOf(H)?H.length===r&&(f=f.add(U)):C.done()}).next(()=>this.Rn(e,f))}Rn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Pd(e).get(o).next(u=>{if(null===u)throw Je();pt(u.userId===this.userId),i.push(Ff(this.Tt,u))}))}),le.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return y2(e.re,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.bn(t.batchId)}),le.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return dg(e).X({range:i},(o,u,f)=>{if(o[0]===this.userId){const g=kl(o[1]);r.push(g)}else f.done()}).next(()=>{pt(0===r.length)})})}containsKey(e,t){return v2(e,this.userId,t)}vn(e){return b2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function v2(n,e,t){const i=FC(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return dg(n).X({range:o,Z:!0},(f,g,v)=>{const[C,T,N]=f;C===e&&T===r&&(u=!0),v.done()}).next(()=>u)}function Pd(n){return _r(n,"mutations")}function dg(n){return _r(n,"documentMutations")}function b2(n){return _r(n,"mutationQueues")}class Bf{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new Bf(0)}static Sn(){return new Bf(-1)}}class p6{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const i=new Bf(t.highestTargetId);return t.highestTargetId=i.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>vt.fromTimestamp(new Zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Dn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Cn(e,r)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(i=>(i.targetCount+=1,this.Nn(t,i),this.Cn(e,i))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hg(e).delete(t.targetId)).next(()=>this.Dn(e)).next(i=>(pt(i.targetCount>0),i.targetCount-=1,this.Cn(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return hg(e).X((u,f)=>{const g=Qv(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(e,g)))}).next(()=>le.waitFor(o)).next(()=>r)}forEachTarget(e,t){return hg(e).X((i,r)=>{const o=Qv(r);t(o)})}Dn(e){return w2(e).get("targetGlobalKey").next(t=>(pt(null!==t),t))}Cn(e,t){return w2(e).put("targetGlobalKey",t)}xn(e,t){return hg(e).put(s2(this.Tt,t))}Nn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Mf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return hg(e).X({range:r,index:"queryTargetsIndex"},(u,f,g)=>{const v=Qv(f);Bv(t,v.target)&&(o=v,g.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Nd(e);return t.forEach(u=>{const f=bs(u.path);r.push(o.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),le.waitFor(r)}removeMatchingKeys(e,t,i){const r=Nd(e);return le.forEach(t,o=>{const u=bs(o.path);return le.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Nd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nd(e);let o=Gt();return r.X({range:i,Z:!0},(u,f,g)=>{const v=kl(u[1]),C=new qe(v);o=o.add(C)}).next(()=>o)}containsKey(e,t){const i=bs(t.path),r=IDBKeyRange.bound([i],[FL(i)],!1,!0);let o=0;return Nd(e).X({index:"documentTargetsIndex",Z:!0,range:r},([u,f],g,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}ie(e,t){return hg(e).get(t).next(i=>i?Qv(i):null)}}function hg(n){return _r(n,"targets")}function w2(n){return _r(n,"targetGlobal")}function Nd(n){return _r(n,"targetDocuments")}function D2([n,e],[t,i]){const r=jt(n,t);return 0===r?jt(e,i):r}class m6{constructor(e){this.kn=e,this.buffer=new Cn(D2),this.On=0}Mn(){return++this.On}Fn(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();D2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,fe.Z)(function*(){t.$n=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Cd(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ed(i)}yield t.Bn(3e5)}))}}class _6{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return le.resolve(yo.at);const i=new m6(t);return this.Ln.forEachTarget(e,r=>i.Fn(r.sequenceNumber)).next(()=>this.Ln.Un(e,r=>i.Fn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Ln.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(_2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_2):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let i,r,o,u,f,g,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,u=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,t))).next(T=>(o=T,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(v=Date.now(),AM()<=vd.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${o} targets in `+(g-f)+`ms\n\tRemoved ${T} documents in `+(v-g)+`ms\nTotal Duration: ${v-C}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:T})))}}class y6{constructor(e,t){this.db=e,this.garbageCollector=new _6(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Gn(e){let t=0;return this.Un(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(i,r)=>t(r))}addReference(e,t,i){return $C(e,i)}removeReference(e,t,i){return $C(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return $C(e,t)}jn(e,t){return function(i,r){let o=!1;return b2(i).tt(u=>v2(i,u,r).next(f=>(f&&(o=!0),le.resolve(!f)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Qn(e,(u,f)=>{if(f<=t){const g=this.jn(e,u).next(v=>{if(!v)return o++,i.getEntry(e,u).next(()=>(i.removeEntry(u,vt.min()),Nd(e).delete([0,bs(u.path)])))});r.push(g)}}).next(()=>le.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return $C(e,t)}Qn(e,t){const i=Nd(e);let r,o=yo.at;return i.X({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:v})=>{0===u?(o!==yo.at&&t(new qe(kl(r)),o),o=v,r=g):o=yo.at}).next(()=>{o!==yo.at&&t(new qe(kl(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $C(n,e){return Nd(n).put((i=n.currentSequenceNumber,{targetId:0,path:bs(e.path),sequenceNumber:i}));var i}class E2{constructor(){this.changes=new Md(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class v6{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Uf(e).put(i)}removeEntry(e,t,i){return Uf(e).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],LC(o),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.zn(e,i)))}getEntry(e,t){let i=Ln.newInvalidDocument(t);return Uf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nb(t))},(r,o)=>{i=this.Wn(t,o)}).next(()=>i)}Hn(e,t){let i={size:0,document:Ln.newInvalidDocument(t)};return Uf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nb(t))},(r,o)=>{i={document:this.Wn(t,o),size:jC(o)}}).next(()=>i)}getEntries(e,t){let i=qs();return this.Jn(e,t,(r,o)=>{const u=this.Wn(r,o);i=i.insert(r,u)}).next(()=>i)}Yn(e,t){let i=qs(),r=new wi(qe.comparator);return this.Jn(e,t,(o,u)=>{const f=this.Wn(o,u);i=i.insert(o,f),r=r.insert(o,jC(u))}).next(()=>({documents:i,Zn:r}))}Jn(e,t,i){if(t.isEmpty())return le.resolve();let r=new Cn(A2);t.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(nb(r.first()),nb(r.last())),u=r.getIterator();let f=u.getNext();return Uf(e).X({index:"documentKeyIndex",range:o},(g,v,C)=>{const T=qe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&A2(f,T)<0;)i(f,null),f=u.getNext();f&&f.isEqual(T)&&(i(f,v),f=u.hasNext()?u.getNext():null),f?C.j(nb(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,u=[o.popLast().toArray(),o.lastSegment(),LC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uf(e).W(IDBKeyRange.bound(u,f,!0)).next(g=>{let v=qs();for(const C of g){const T=this.Wn(qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);T.isFoundDocument()&&(Hv(t,T)||r.has(T.key))&&(v=v.insert(T.key,T))}return v})}getAllFromCollectionGroup(e,t,i,r){let o=qs();const u=I2(t,i),f=I2(t,_o.max());return Uf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,v,C)=>{const T=this.Wn(qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(T.key,T),o.size===r&&C.done()}).next(()=>o)}newChangeBuffer(e){return new b6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return x2(e).get("remoteDocumentGlobalKey").next(t=>(pt(!!t),t))}zn(e,t){return x2(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const i=function r6(n,e){let t;if(e.document)t=$V(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=qe.fromSegments(e.noDocument.path),r=Nf(e.noDocument.readTime);t=Ln.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const i=qe.fromSegments(e.unknownDocument.path),r=Nf(e.unknownDocument.version);t=Ln.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Zn(i[0],i[1]);return vt.fromTimestamp(r)}(e.readTime)),t}(this.Tt,t);if(!i.isNoDocument()||!i.version.isEqual(vt.min()))return i}return Ln.newInvalidDocument(e)}}function C2(n){return new v6(n)}class b6 extends E2{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Md(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Cn((o,u)=>jt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const f=this.ts.get(o);if(t.push(this.Xn.removeEntry(e,o,f.readTime)),u.isValidDocument()){const g=r2(this.Xn.Tt,u);r=r.add(o.path.popLast());const v=jC(g);i+=v-f.size,t.push(this.Xn.addEntry(e,o,g))}else if(i-=f.size,this.trackRemovals){const g=r2(this.Xn.Tt,u.convertToNoDocument(vt.min()));t.push(this.Xn.addEntry(e,o,g))}}),r.forEach(o=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Xn.updateMetadata(e,i)),le.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(i=>(this.ts.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:i,Zn:r})=>(r.forEach((o,u)=>{this.ts.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function x2(n){return _r(n,"remoteDocumentGlobal")}function Uf(n){return _r(n,"remoteDocumentsV14")}function nb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function I2(n,e){const t=e.documentKey.path.toArray();return[n,LC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function A2(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=jt(t[o],i[o]),r)return r;return r=jt(t.length,i.length),r||(r=jt(t[t.length-2],i[i.length-2]),r||jt(t[t.length-1],i[i.length-1]))}class w6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class S2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&zv(i.mutation,r,Gs.empty(),Zn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Gt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Gt()){const r=Tl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let u=$v();return o.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Tl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Gt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let o=qs();const u=Gv(),f=Gv();return t.forEach((g,v)=>{const C=i.get(v.key);r.has(v.key)&&(void 0===C||C.mutation instanceof Wc)?o=o.insert(v.key,v):void 0!==C?(u.set(v.key,C.mutation.getFieldMask()),zv(C.mutation,v,C.mutation.getFieldMask(),Zn.now())):u.set(v.key,Gs.empty())}),this.recalculateAndSaveOverlays(e,o).next(g=>(g.forEach((v,C)=>u.set(v,C)),t.forEach((v,C)=>{var T;return f.set(v,new w6(C,null!==(T=u.get(v))&&void 0!==T?T:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Gv();let r=new wi((u,f)=>u-f),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let C=i.get(g)||Gs.empty();C=f.applyToLocalView(v,C),i.set(g,C);const T=(r.get(f.batchId)||Gt()).add(g);r=r.insert(f.batchId,T)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,C=g.value,T=OV();C.forEach(N=>{if(!o.has(N)){const U=CV(t.get(N),i.get(N));null!==U&&T.set(N,U),o=o.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,T))}return le.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):le.resolve(Tl());let f=-1,g=o;return u.next(v=>le.forEach(v,(C,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),o.get(C)?le.resolve():this.remoteDocumentCache.getEntry(e,C).next(N=>{g=g.insert(C,N)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,g,v,Gt())).next(C=>({batchId:f,changes:RV(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(i=>{let r=$v();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=$v();return this.indexManager.getCollectionParents(e,r).next(u=>le.forEach(u,f=>{const g=(v=t,C=f.child(r),new qc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((C,T)=>{o=o.insert(C,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((f,g)=>{const v=g.getKey();null===o.get(v)&&(o=o.insert(v,Ln.newInvalidDocument(v)))});let u=$v();return o.forEach((f,g)=>{const v=r.get(f);void 0!==v&&zv(v.mutation,g,Gs.empty(),Zn.now()),Hv(t,g)&&(u=u.insert(f,g))}),u})}}class D6{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return le.resolve(this.es.get(t))}saveBundleMetadata(e,t){var i;return this.es.set(t.id,{id:(i=t).id,version:i.version,createTime:Fi(i.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(i=t).name,query:ek(i.bundledQuery),readTime:Fi(i.readTime)}),le.resolve();var i}}class E6{constructor(){this.overlays=new wi(qe.comparator),this.ss=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Tl();return le.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ce(e,t,o)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ss.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ss.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const r=Tl(),o=t.length+1,u=new qe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return le.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new wi((v,C)=>v-C);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let C=o.get(v.largestBatchId);null===C&&(C=Tl(),o=o.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=Tl(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=r)););return le.resolve(f)}ce(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new JM(t,i));let o=this.ss.get(t);void 0===o&&(o=Gt(),this.ss.set(t,o)),this.ss.set(t,o.add(i.key))}}class ak{constructor(){this.rs=new Cn(yr.os),this.us=new Cn(yr.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const i=new yr(e,t);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ls(new yr(e,t))}fs(e,t){e.forEach(i=>this.removeReference(i,t))}ds(e){const t=new qe(new ln([])),i=new yr(t,e),r=new yr(t,e+1),o=[];return this.us.forEachInRange([i,r],u=>{this.ls(u),o.push(u.key)}),o}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new qe(new ln([])),i=new yr(t,e),r=new yr(t,e+1);let o=Gt();return this.us.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new yr(e,0),i=this.rs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class yr{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return qe.comparator(e.key,t.key)||jt(e.gs,t.gs)}static cs(e,t){return jt(e.gs,t.gs)||qe.comparator(e.key,t.key)}}class C6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new Cn(yr.os)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.ys;this.ys++;const u=new QM(o,t,i,r);this.mutationQueue.push(u);for(const f of r)this.ps=this.ps.add(new yr(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ts(t+1),o=r<0?0:r;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new yr(t,0),r=new yr(t,Number.POSITIVE_INFINITY),o=[];return this.ps.forEachInRange([i,r],u=>{const f=this.Is(u.gs);o.push(f)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Cn(jt);return t.forEach(r=>{const o=new yr(r,0),u=new yr(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([o,u],f=>{i=i.add(f.gs)})}),le.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;qe.isDocumentKey(o)||(o=o.child(""));const u=new yr(new qe(o),0);let f=new Cn(jt);return this.ps.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(g.gs)),!0)},u),le.resolve(this.Es(f))}Es(e){const t=[];return e.forEach(i=>{const r=this.Is(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){pt(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ps;return le.forEach(t.mutations,r=>{const o=new yr(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ps=i})}bn(e){}containsKey(e,t){const i=new yr(t,0),r=this.ps.firstAfterOrEqual(i);return le.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return le.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x6{constructor(e){this.Rs=e,this.docs=new wi(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.Rs(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let i=qs();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ln.newInvalidDocument(r))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=qs();const u=t.path,f=new qe(u.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:C}}=g.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||MM(VL(C),i)<=0||(r.has(C.key)||Hv(t,C))&&(o=o.insert(C.key,C.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Je()}bs(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new I6(this)}getSize(e){return le.resolve(this.size)}}class I6 extends E2{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Xn.addEntry(e,r)):this.Xn.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class A6{constructor(e){this.persistence=e,this.vs=new Md(t=>Mf(t),Bv),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new ak,this.targetCount=0,this.Ss=Bf.Vn()}forEachTarget(e,t){return this.vs.forEach((i,r)=>t(r)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ps&&(this.Ps=t),le.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new Bf(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.xn(t),le.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.vs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.vs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),le.waitFor(o).next(()=>r)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.vs.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this.Vs.hs(t,i),le.resolve()}removeMatchingKeys(e,t,i){this.Vs.fs(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(u=>{o.push(r.markPotentiallyOrphaned(e,u))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Vs.ws(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this.Vs.containsKey(t))}}class T2{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new yo(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new A6(this),this.indexManager=new h6,this.remoteDocumentCache=new x6(i=>this.referenceDelegate.ks(i)),this.Tt=new n2(t),this.Os=new D6(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new E6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ds[e.toKey()];return i||(i=new C6(t,this.referenceDelegate),this.Ds[e.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,t,i){Le("MemoryPersistence","Starting transaction:",e);const r=new S6(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(o=>this.referenceDelegate.Fs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}$s(e,t){return le.or(Object.values(this.Ds).map(i=>()=>i.containsKey(e,t)))}}class S6 extends UL{constructor(e){super(),this.currentSequenceNumber=e}}class GC{constructor(e){this.persistence=e,this.Bs=new ak,this.Ls=null}static qs(e){return new GC(e)}get Us(){if(this.Ls)return this.Ls;throw Je()}addReference(e,t,i){return this.Bs.addReference(i,t),this.Us.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Bs.removeReference(i,t),this.Us.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),le.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Us.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ms(){this.Ls=new Set}Fs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Us,i=>{const r=qe.fromPath(i);return this.Ks(e,r).next(o=>{o||t.removeEntry(r,vt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(i=>{i?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return le.or([()=>le.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.$s(e,t)])}}class T6{constructor(e){this.Tt=e}$(e,t,i,r){const o=new EC("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QV,{unique:!0}),f.createObjectStore("documentMutations"),M2(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=le.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),M2(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,g){return g.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QV,{unique:!0});const C=g.store("mutations"),T=v.map(N=>C.put(N));return le.waitFor(T)})}(e,o))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Gs(o))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(o)))),i<7&&r>=7&&(u=u.next(()=>this.js(o))),i<8&&r>=8&&(u=u.next(()=>this.zs(e,o))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Ws(o))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:JG});g.createIndex("collectionPathOverlayIndex",e6,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",t6,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:jG});g.createIndex("documentKeyIndex",zG),g.createIndex("collectionGroupIndex",$G)}(e)).next(()=>this.Hs(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Js(e,o))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:ZG}).createIndex("sequenceNumberIndex",KG,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:QG}).createIndex("documentKeyIndex",XG,{unique:!1})}(e))),u}Qs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=jC(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>le.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>le.forEach(f,g=>{pt(g.userId===o.userId);const v=Ff(this.Tt,g);return y2(e,o.userId,v).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((u,f)=>{const g=new ln(u),v=[0,bs(g)];o.push(t.get(v).next(C=>C?le.resolve():t.put({targetId:0,path:bs(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>le.waitFor(o))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:YG});const i=t.store("collectionParents"),r=new ok,o=u=>{if(r.add(u)){const f=u.lastSegment(),g=u.popLast();return i.put({collectionId:f,parent:bs(g)})}};return t.store("remoteDocuments").X({Z:!0},(u,f)=>{const g=new ln(u);return o(g.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([u,f,g],v)=>{const C=kl(f);return o(C.popLast())}))}Ws(e){const t=e.store("targets");return t.X((i,r)=>{const o=Qv(r),u=s2(this.Tt,o);return t.put(u)})}Hs(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,u)=>{const f=t.store("remoteDocumentsV14"),g=(v=u,v.document?new qe(ln.fromString(v.document.name).popFirst(5)):v.noDocument?qe.fromSegments(v.noDocument.path):v.unknownDocument?qe.fromSegments(v.unknownDocument.path):Je()).path.toArray();var v;const C={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(C))}).next(()=>le.waitFor(r))}Js(e,t){const i=t.store("mutations"),r=C2(this.Tt),o=new T2(GC.qs,this.Tt.oe);return i.W().next(u=>{const f=new Map;return u.forEach(g=>{var v;let C=null!==(v=f.get(g.userId))&&void 0!==v?v:Gt();Ff(this.Tt,g).keys().forEach(T=>C=C.add(T)),f.set(g.userId,C)}),le.forEach(f,(g,v)=>{const C=new mr(v),T=VC.ue(this.Tt,C),N=o.getIndexManager(C),U=zC.ue(C,this.Tt,N,o.referenceDelegate);return new S2(r,U,T,N).recalculateAndSaveOverlaysForDocumentKeys(new KM(t,yo.at),g).next()})})}}function M2(n){n.createObjectStore("targetDocuments",{keyPath:qG}).createIndex("documentTargetsIndex",WG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GG,{unique:!0}),n.createObjectStore("targetGlobal")}const lk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ck{constructor(e,t,i,r,o,u,f,g,v,C,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ys=o,this.window=u,this.document=f,this.Zs=v,this.Xs=C,this.ti=T,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=N=>Promise.resolve(),!ck.C())throw new Pe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y6(this,r),this.oi=t+"main",this.Tt=new n2(g),this.ui=new Wa(this.oi,this.ti,new T6(this.Tt)),this.Ns=new p6(this.referenceDelegate,this.Tt),this.remoteDocumentCache=C2(this.Tt),this.Os=new s6,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===C&&Ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(he.FAILED_PRECONDITION,lk);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new yo(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var i=(0,fe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,fe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,fe.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Cd(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return ib(e).get("owner").next(t=>le.resolve(this.yi(t)))}pi(e){return qC(e).delete(this.clientId)}Ii(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=_r(i,"clientMetadata");return r.W().next(o=>{const u=e.Ei(o,18e5),f=o.filter(g=>-1===u.indexOf(g));return le.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ci)for(const i of t)e.ci.removeItem(e.Ai(i.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?le.resolve(!0):ib(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new Pe(he.FAILED_PRECONDITION,lk);return!1}}return!(!this.networkEnabled||!this.inForeground)||qC(e).W().next(i=>void 0===this.Ei(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.xs=!1,e.bi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.Pi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new KM(t,yo.at);return e.mi(i).next(()=>e.pi(i))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(i=>this.Ti(i.updateTimeMs,t)&&!this.Ri(i.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>qC(e).W().next(t=>this.Ei(t,18e5).map(i=>i.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return zC.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new f6(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return VC.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,t,i){Le("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(u=this.ti)?i6:14===u?t2:13===u?e2:12===u?n6:11===u?JV:void Je();var u;let f;return this.ui.runTransaction(e,r,o,g=>(f=new KM(g,this.Cs?this.Cs.next():yo.at),"readwrite-primary"===t?this._i(f).next(v=>!!v||this.wi(f)).next(v=>{if(!v)throw Ni(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Pe(he.FAILED_PRECONDITION,BL);return i(f)}).next(v=>this.gi(f).next(()=>v)):this.Di(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Di(e){return ib(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(he.FAILED_PRECONDITION,lk)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ib(e).put("owner",t)}static C(){return Wa.C()}mi(e){const t=ib(e);return t.get("owner").next(i=>this.yi(i)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Ti(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ni(`Detected an update time that is in the future: ${e} > ${i}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.bi(),(0,un.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const i=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Le("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ni("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Ni("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ib(n){return _r(n,"owner")}function qC(n){return _r(n,"clientMetadata")}function uk(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class dk{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ci=i,this.xi=r}static Ni(e,t){let i=Gt(),r=Gt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new dk(e,t.fromCache,i,r)}}class k2{constructor(){this.ki=!1}initialize(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Mi(e,t).next(o=>o||this.Fi(e,t,r,i)).next(o=>o||this.$i(e,t))}Mi(e,t){if(hV(t))return le.resolve(null);let i=vs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=MC(t,null,"F"),i=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=Gt(...o);return this.Oi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.Bi(t,f);return this.Li(t,v,u,g.readTime)?this.Mi(e,MC(t,null,"F")):this.qi(e,v,t,g)}))})))}Fi(e,t,i,r){return hV(t)||r.isEqual(vt.min())?this.$i(e,t):this.Oi.getDocuments(e,i).next(o=>{const u=this.Bi(t,o);return this.Li(t,u,i,r)?this.$i(e,t):(AM()<=vd.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$M(t)),this.qi(e,u,t,LL(r,-1)))})}Bi(e,t){let i=new Cn(mV(e));return t.forEach((r,o)=>{Hv(e,o)&&(i=i.add(o))}),i}Li(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}$i(e,t){return AM()<=vd.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",$M(t)),this.Oi.getDocumentsMatchingQuery(e,t,_o.min())}qi(e,t,i,r){return this.Oi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class M6{constructor(e,t,i,r){this.persistence=e,this.Ui=t,this.Tt=r,this.Ki=new wi(jt),this.Gi=new Md(o=>Mf(o),Bv),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(i)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S2(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function R2(n,e,t,i){return new M6(n,e,t,i)}function O2(n,e){return hk.apply(this,arguments)}function hk(){return hk=(0,fe.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.zi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],f=[];let g=Gt();for(const v of r){u.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}for(const v of o){f.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}return t.localDocuments.getDocuments(i,g).next(v=>({Wi:v,removedBatchIds:u,addedBatchIds:f}))})})}),hk.apply(this,arguments)}function k6(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ji.newChangeBuffer({trackRemovals:!0});return function(u,f,g,v){const C=g.batch,T=C.keys();let N=le.resolve();return T.forEach(U=>{N=N.next(()=>v.getEntry(f,U)).next(H=>{const te=g.docVersions.get(U);pt(null!==te),H.version.compareTo(te)<0&&(C.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(f,C))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Gt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(f=f.add(u.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function P2(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function R6(n,e){const t=We(n),i=e.snapshotVersion;let r=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ji.newChangeBuffer({trackRemovals:!0});r=t.Ki;const f=[];e.targetChanges.forEach((C,T)=>{const N=r.get(T);if(!N)return;f.push(t.Ns.removeMatchingKeys(o,C.removedDocuments,T).next(()=>t.Ns.addMatchingKeys(o,C.addedDocuments,T)));let U=N.withSequenceNumber(o.currentSequenceNumber);var H,te,De;e.targetMismatches.has(T)?U=U.withResumeToken(tr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):C.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(C.resumeToken,i)),r=r.insert(T,U),te=U,De=C,(0===(H=N).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&f.push(t.Ns.updateTargetData(o,U))});let g=qs(),v=Gt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,C))}),f.push(N2(o,u,e.documentUpdates).next(C=>{g=C.Hi,v=C.Ji})),!i.isEqual(vt.min())){const C=t.Ns.getLastRemoteSnapshotVersion(o).next(T=>t.Ns.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(C)}return le.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,g,v)).next(()=>g)}).then(o=>(t.Ki=r,o))}function N2(n,e,t){let i=Gt(),r=Gt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=qs();return t.forEach((f,g)=>{const v=o.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(vt.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):Le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Hi:u,Ji:r}})}function O6(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fg(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ns.getTargetData(i,e).next(o=>o?(r=o,le.resolve(r)):t.Ns.allocateTargetId(i).next(u=>(r=new Rd(e,u,0,i.currentSequenceNumber),t.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ki.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(i.targetId,i),t.Gi.set(e,i.targetId)),i})}function pg(n,e,t){return fk.apply(this,arguments)}function fk(){return fk=(0,fe.Z)(function*(n,e,t){const i=We(n),r=i.Ki.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Cd(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ki=i.Ki.remove(e),i.Gi.delete(r.target)}),fk.apply(this,arguments)}function WC(n,e,t){const i=We(n);let r=vt.min(),o=Gt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,g,v){const C=We(f),T=C.Gi.get(v);return void 0!==T?le.resolve(C.Ki.get(T)):C.Ns.getTargetData(g,v)}(i,u,vs(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(u,f.targetId).next(g=>{o=g})}).next(()=>i.Ui.getDocumentsMatchingQuery(u,e,t?r:vt.min(),t?o:Gt())).next(f=>(V2(i,pV(e),f),{documents:f,Yi:o})))}function F2(n,e){const t=We(n),i=We(t.Ns),r=t.Ki.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.ie(o,e).next(u=>u?u.target:null))}function L2(n,e){const t=We(n),i=t.Qi.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ji.getAllFromCollectionGroup(r,e,LL(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(V2(t,e,r),r))}function V2(n,e,t){let i=n.Qi.get(e)||vt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Qi.set(e,i)}function pk(){return pk=(0,fe.Z)(function*(n,e,t,i){const r=We(n);let o=Gt(),u=qs();for(const v of t){const C=e.Zi(v.metadata.name);v.document&&(o=o.add(C));const T=e.Xi(v);T.setReadTime(e.tr(v.metadata.readTime)),u=u.insert(C,T)}const f=r.ji.newChangeBuffer({trackRemovals:!0}),g=yield fg(r,(v=i,vs(rg(ln.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>N2(v,f,u).next(C=>(f.apply(v),C)).next(C=>r.Ns.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Ns.addMatchingKeys(v,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,C.Hi,C.Ji)).next(()=>C.Hi)))}),pk.apply(this,arguments)}function N6(n,e){return mk.apply(this,arguments)}function mk(){return mk=(0,fe.Z)(function*(n,e,t=Gt()){const i=yield fg(n,vs(ek(e.bundledQuery))),r=We(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Fi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Os.saveNamedQuery(o,e);const f=i.withResumeToken(tr.EMPTY_BYTE_STRING,u);return r.Ki=r.Ki.insert(f.targetId,f),r.Ns.updateTargetData(o,f).next(()=>r.Ns.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ns.addMatchingKeys(o,t,i.targetId)).next(()=>r.Os.saveNamedQuery(o,e))})}),mk.apply(this,arguments)}function B2(n,e){return`firestore_clients_${n}_${e}`}function U2(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function gk(n,e){return`firestore_targets_${n}_${e}`}class YC{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static er(e,t,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Pe(r.error.code,r.error.message))),u?new YC(e,t,r.state,o):(Ni("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static er(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Pe(i.error.code,i.error.message))),o?new rb(e,i.state,r):(Ni("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=PC();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=$L(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new ZC(e,o):(Ni("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _k{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _k(t.clientId,t.onlineState):(Ni("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yk{constructor(){this.activeTargetIds=PC()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vk{constructor(e,t,i,r,o){this.window=e,this.Ys=t,this.persistenceKey=i,this.rr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new wi(jt),this.started=!1,this.hr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.lr=B2(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new yk),this._r=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const t=yield e.syncEngine.Si();for(const r of t){if(r===e.rr)continue;const o=e.getItem(B2(e.persistenceKey,r));if(o){const u=ZC.er(r,o);u&&(e.ar=e.ar.insert(u.clientId,u))}}e.pr();const i=e.storage.getItem(e.gr);if(i){const r=e.Ir(i);r&&e.Tr(r)}for(const r of e.hr)e.cr(r);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,i){this.Ar(e,t,i),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(gk(this.persistenceKey,e));if(i){const r=rb.er(e,i);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gk(this.persistenceKey,e))}updateQueryState(e,t,i){this.vr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Rr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.lr)return void Ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,fe.Z)(function*(){if(t.started){if(null!==i.key)if(t._r.test(i.key)){if(null==i.newValue){const r=t.Sr(i.key);return t.Dr(r,null)}{const r=t.Cr(i.key,i.newValue);if(r)return t.Dr(r.clientId,r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(t.mr.test(i.key)){if(null!==i.newValue){const r=t.Or(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.gr){if(null!==i.newValue){const r=t.Ir(i.newValue);if(r)return t.Tr(r)}}else if(i.key===t.dr){const r=function(o){let u=yo.at;if(null!=o)try{const f=JSON.parse(o);pt("number"==typeof f),u=f}catch(f){Ni("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==yo.at&&t.sequenceNumberHandler(r)}else if(i.key===t.yr){const r=t.Fr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.$r(o)))}}else t.hr.push(i)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,t,i){const r=new YC(this.currentUser,e,t,i),o=U2(this.persistenceKey,this.currentUser,e);this.setItem(o,r.nr())}Rr(e){const t=U2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,i){const r=gk(this.persistenceKey,e),o=new rb(e,t,i);this.setItem(r,o.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const i=this.Sr(e);return ZC.er(i,t)}Nr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return YC.er(new mr(void 0!==i[2]?i[2]:null),r,t)}Or(e,t){const i=this.mr.exec(e),r=Number(i[1]);return rb.er(r,t)}Ir(e){return _k.er(e)}Fr(e){return JSON.parse(e)}kr(e){var t=this;return(0,fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Er(this.ar),o=this.Er(i),u=[],f=[];return o.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{o.has(g)||f.push(g)}),this.syncEngine.qr(u,f).then(()=>{this.ar=i})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=PC();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class H2{constructor(){this.Ur=new yk,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,i){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new yk,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F6{Gr(e){}shutdown(){}}class j2{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V6{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class B6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,i,r,o){const u=this.fo(e,t);Le("RestConnection","Sending: ",u,i);const f={};return this._o(f,r,o),this.wo(e,u,f,i).then(g=>(Le("RestConnection","Received: ",g),g),g=>{throw Ef("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",i),g})}mo(e,t,i,r,o,u){return this.lo(e,t,i,r,o)}_o(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}fo(e,t){return`${this.co}/v1/${t}:${L6[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,i,r){return new Promise((o,u)=>{const f=new N$;f.setWithCredentials(!0),f.listenOnce(R$.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case IM.NO_ERROR:const v=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(v)),o(v);break;case IM.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new Pe(he.DEADLINE_EXCEEDED,"Request time out"));break;case IM.HTTP_ERROR:const C=f.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',C,"response text:",f.getResponseText()),C>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T?.error;if(N&&N.status&&N.message){const U=function(H){const te=H.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(te)>=0?te:he.UNKNOWN}(N.status);u(new Pe(U,N.message))}else u(new Pe(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Pe(he.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);f.send(t,"POST",g,i,15)})}yo(e,t,i){const r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=M$(),u=k$(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new P$({})),this._o(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=r.join("");Le("Connection","Creating WebChannel: "+g,f);const v=o.createWebChannel(g,f);let C=!1,T=!1;const N=new V6({Yr:H=>{T?Le("Connection","Not sending because WebChannel is closed:",H):(C||(Le("Connection","Opening WebChannel transport."),v.open(),C=!0),Le("Connection","WebChannel sending:",H),v.send(H))},Zr:()=>v.close()}),U=(H,te,De)=>{H.listen(te,ze=>{try{De(ze)}catch(it){setTimeout(()=>{throw it},0)}})};return U(v,bC.EventType.OPEN,()=>{T||Le("Connection","WebChannel transport opened.")}),U(v,bC.EventType.CLOSE,()=>{T||(T=!0,Le("Connection","WebChannel transport closed"),N.oo())}),U(v,bC.EventType.ERROR,H=>{T||(T=!0,Ef("Connection","WebChannel transport errored:",H),N.oo(new Pe(he.UNAVAILABLE,"The operation could not be completed")))}),U(v,bC.EventType.MESSAGE,H=>{var te;if(!T){const De=H.data[0];pt(!!De);const it=De.error||(null===(te=De[0])||void 0===te?void 0:te.error);if(it){Le("Connection","WebChannel received error:",it);const _t=it.status;let ut=function(Pt){const dn=Yi[Pt];if(void 0!==dn)return MV(dn)}(_t),Vt=it.message;void 0===ut&&(ut=he.INTERNAL,Vt="Unknown error status: "+_t+" with message "+it.message),T=!0,N.oo(new Pe(ut,Vt)),v.close()}else Le("Connection","WebChannel received:",De),N.uo(De)}}),U(u,O$.STAT_EVENT,H=>{H.stat===kL.PROXY?Le("Connection","Detected buffering proxy"):H.stat===kL.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.ro()},0),N}}function z2(){return typeof window<"u"?window:null}function KC(){return typeof document<"u"?document:null}function sb(n){return new MG(n,!0)}class bk{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Ys=e,this.timerId=t,this.po=i,this.Io=r,this.To=o,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,t-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class $2{constructor(e,t,i,r,o,u,f,g){this.Ys=e,this.So=i,this.Do=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new bk(e,t)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,fe.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,fe.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var i=this;return(0,fe.Z)(function*(){i.Uo(),i.Ko(),i.ko.cancel(),i.Co++,4!==e?i.ko.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Ni(t.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),i.ko.bo()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Go(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===t&&this.jo(i,r)},i=>{e(()=>{const r=new Pe(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(e,t){const i=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Fo(){var e=this;this.state=5,this.ko.vo((0,fe.Z)(function*(){e.state=0,e.start()}))}zo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U6 extends $2{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.Tt=o}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function OG(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Je(),r=e.targetChange.targetIds||[],o=function(g,v){return g.yt?(pt(void 0===v||"string"==typeof v),tr.fromBase64String(v||"")):(pt(void 0===v||v instanceof Uint8Array),tr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const v=void 0===g.code?he.UNKNOWN:MV(g.code);return new Pe(v,g.message||"")}(u);t=new NV(i,r,o,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Ml(n,i.document.name),o=Fi(i.document.updateTime),u=i.document.createTime?Fi(i.document.createTime):vt.min(),f=new gr({mapValue:{fields:i.document.fields}}),g=Ln.newFoundDocument(r,o,u,f);t=new NC(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=Ml(n,i.document),o=i.readTime?Fi(i.readTime):vt.min(),u=Ln.newNoDocument(r,o);t=new NC([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Ml(n,i.document);t=new NC([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Je();{const i=e.filter,o=new wG(i.count||0);t=new PV(i.targetId,o)}}var g;return t}(this.Tt,e),i=function(r){if(!("targetChange"in r))return vt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?vt.min():o.readTime?Fi(o.readTime):vt.min()}(e);return this.listener.Ho(t,i)}Jo(e){const t={};t.database=Zv(this.Tt),t.addTarget=function(r,o){let u;const f=o.target;return u=AC(f)?{documents:GV(r,f)}:{query:ZM(r,f)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=BV(r,o.resumeToken):o.snapshotVersion.compareTo(vt.min())>0&&(u.readTime=cg(r,o.snapshotVersion.toTimestamp())),u}(this.Tt,e);const i=function NG(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.qo(t)}Yo(e){const t={};t.database=Zv(this.Tt),t.removeTarget=e,this.qo(t)}}class H6 extends $2{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.Tt=o,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function PG(n,e){return n&&n.length>0?(pt(void 0!==e),n.map(t=>function(i,r){let o=Fi(i.updateTime?i.updateTime:r);return o.isEqual(vt.min())&&(o=Fi(r)),new yG(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Fi(e.commitTime);return this.listener.eu(i,t)}return pt(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Zv(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Kv(this.Tt,i))};this.qo(t)}}class j6 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.lo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Pe(he.UNKNOWN,r.toString())})}mo(e,t,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.mo(e,t,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(he.UNKNOWN,o.toString())})}terminate(){this.iu=!0}}class $6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Ni(t),this.cu=!1):Le("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class G6{constructor(e,t,i,r,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=o,this.yu.Gr(f=>{i.enqueueAndForget((0,fe.Z)(function*(){var g;Yc(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,fe.Z)(function*(v){const C=We(v);C.mu.add(4),yield mg(C),C.pu.set("Unknown"),C.mu.delete(4),yield ob(C)}),function(v){return g.apply(this,arguments)})(u))}))}),this.pu=new $6(i,r)}}function ob(n){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,fe.Z)(function*(n){if(Yc(n))for(const e of n.gu)yield e(!0)}),Dk.apply(this,arguments)}function mg(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,fe.Z)(function*(n){for(const e of n.gu)yield e(!1)}),Ek.apply(this,arguments)}function QC(n,e){const t=We(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),Ik(t)?xk(t):_g(t).Mo()&&Ck(t,e))}function ab(n,e){const t=We(n),i=_g(t);t.wu.delete(e),i.Mo()&&G2(t,e),0===t.wu.size&&(i.Mo()?i.Bo():Yc(t)&&t.pu.set("Unknown"))}function Ck(n,e){n.Iu.Ft(e.targetId),_g(n).Jo(e)}function G2(n,e){n.Iu.Ft(e),_g(n).Yo(e)}function xk(n){n.Iu=new IG({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),_g(n).start(),n.pu.au()}function Ik(n){return Yc(n)&&!_g(n).Oo()&&n.wu.size>0}function Yc(n){return 0===We(n).mu.size}function q2(n){n.Iu=void 0}function q6(n){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,fe.Z)(function*(n){n.wu.forEach((e,t)=>{Ck(n,e)})}),Ak.apply(this,arguments)}function W6(n,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,fe.Z)(function*(n,e){q2(n),Ik(n)?(n.pu.fu(e),xk(n)):n.pu.set("Unknown")}),Sk.apply(this,arguments)}function Y6(n,e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,fe.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof NV&&2===e.state&&e.cause)try{yield(i=(0,fe.Z)(function*(r,o){const u=o.cause;for(const f of o.targetIds)r.wu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.wu.delete(f),r.Iu.removeTarget(f))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield XC(n,i)}else if(e instanceof NC?n.Iu.Qt(e):e instanceof PV?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(vt.min()))try{const i=yield P2(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const u=r.Iu.ee(o);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.wu.get(g);v&&r.wu.set(g,v.withResumeToken(f.resumeToken,o))}}),u.targetMismatches.forEach(f=>{const g=r.wu.get(f);if(!g)return;r.wu.set(f,g.withResumeToken(tr.EMPTY_BYTE_STRING,g.snapshotVersion)),G2(r,f);const v=new Rd(g.target,f,1,g.sequenceNumber);Ck(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield XC(n,i)}var i}),Tk.apply(this,arguments)}function XC(n,e,t){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,fe.Z)(function*(n,e,t){if(!Cd(e))throw e;n.mu.add(1),yield mg(n),n.pu.set("Offline"),t||(t=()=>P2(n.localStore)),n.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield ob(n)}))}),Mk.apply(this,arguments)}function W2(n,e){return e().catch(t=>XC(n,t,e))}function gg(n){return kk.apply(this,arguments)}function kk(){return kk=(0,fe.Z)(function*(n){const e=We(n),t=Fd(e);let i=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Z6(e);)try{const r=yield O6(e.localStore,i);if(null===r){0===e._u.length&&t.Bo();break}i=r.batchId,K6(e,r)}catch(r){yield XC(e,r)}Y2(e)&&Z2(e)}),kk.apply(this,arguments)}function Z6(n){return Yc(n)&&n._u.length<10}function K6(n,e){n._u.push(e);const t=Fd(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function Y2(n){return Yc(n)&&!Fd(n).Oo()&&n._u.length>0}function Z2(n){Fd(n).start()}function Q6(n){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,fe.Z)(function*(n){Fd(n).su()}),Rk.apply(this,arguments)}function X6(n){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,fe.Z)(function*(n){const e=Fd(n);for(const t of n._u)e.tu(t.mutations)}),Ok.apply(this,arguments)}function J6(n,e,t){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,fe.Z)(function*(n,e,t){const i=n._u.shift(),r=XM.from(i,e,t);yield W2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield gg(n)}),Pk.apply(this,arguments)}function e4(n,e){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,fe.Z)(function*(n,e){var t;e&&Fd(n).Xo&&(yield(t=(0,fe.Z)(function*(i,r){if(TV(o=r.code)&&o!==he.ABORTED){const u=i._u.shift();Fd(i).$o(),yield W2(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield gg(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),Y2(n)&&Z2(n)}),Nk.apply(this,arguments)}function K2(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,fe.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Yc(t);t.mu.add(3),yield mg(t),i&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield ob(t)}),Fk.apply(this,arguments)}function Lk(n,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,fe.Z)(function*(n,e){const t=We(n);e?(t.mu.delete(2),yield ob(t)):e||(t.mu.add(2),yield mg(t),t.pu.set("Unknown"))}),Vk.apply(this,arguments)}function _g(n){return n.Tu||(n.Tu=function(e,t,i){const r=We(e);return r.ru(),new U6(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:q6.bind(null,n),no:W6.bind(null,n),Ho:Y6.bind(null,n)}),n.gu.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Tu.$o(),Ik(n)?xk(n):n.pu.set("Unknown")):(yield n.Tu.stop(),q2(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function Fd(n){return n.Eu||(n.Eu=function(e,t,i){const r=We(e);return r.ru(),new H6(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:Q6.bind(null,n),no:e4.bind(null,n),nu:X6.bind(null,n),eu:J6.bind(null,n)}),n.gu.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Eu.$o(),yield gg(n)):(yield n.Eu.stop(),n._u.length>0&&(Le("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class Bk{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,f=new Bk(e,t,u,r,o);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(n,e){if(Ni("AsyncQueue",`${e}: ${n}`),Cd(n))return new Pe(he.UNAVAILABLE,`${e}: ${n}`);throw n}class vg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||qe.comparator(t.key,i.key):(t,i)=>qe.comparator(t.key,i.key),this.keyedMap=$v(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new vg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new vg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Q2{constructor(){this.Au=new wi(qe.comparator)}track(e){const t=e.doc.key,i=this.Au.get(t);i?0!==e.type&&3===i.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==i.type?this.Au=this.Au.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Au=this.Au.remove(t):1===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Je():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,i)=>{e.push(i)}),e}}class bg{constructor(e,t,i,r,o,u,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new bg(e,t,vg.emptySet(t),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class t4{constructor(){this.bu=void 0,this.listeners=[]}}class n4{constructor(){this.queries=new Md(e=>fV(e),Uv),this.onlineState="Unknown",this.vu=new Set}}function Uk(n,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,fe.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new t4),r)try{o.bu=yield t.onListen(i)}catch(u){const f=yg(u,`Initialization of query '${$M(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,o),o.listeners.push(e),e.Pu(t.onlineState),o.bu&&e.Vu(o.bu)&&$k(t)}),Hk.apply(this,arguments)}function jk(n,e){return zk.apply(this,arguments)}function zk(){return zk=(0,fe.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),zk.apply(this,arguments)}function i4(n,e){const t=We(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Vu(r)&&(i=!0);u.bu=r}}i&&$k(t)}function r4(n,e,t){const i=We(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function $k(n){n.vu.forEach(e=>{e.next()})}class Gk{constructor(e,t,i){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new bg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.Ou||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=bg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class s4{constructor(e,t){this.Mu=e,this.byteLength=t}Fu(){return"metadata"in this.Mu}}class X2{constructor(e){this.Tt=e}Zi(e){return Ml(this.Tt,e)}Xi(e){return e.metadata.exists?$V(this.Tt,e.document,!1):Ln.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Fi(e)}}class o4{constructor(e,t,i){this.$u=e,this.localStore=t,this.Tt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=J2(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const i=ln.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,i=new X2(this.Tt);for(const r of e)if(r.metadata.queries){const o=i.Zi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Gt()).add(o);t.set(u,f)}}return t}complete(){var e=this;return(0,fe.Z)(function*(){const t=yield function P6(n,e,t,i){return pk.apply(this,arguments)}(e.localStore,new X2(e.Tt),e.documents,e.$u.id),i=e.Lu(e.documents);for(const r of e.queries)yield N6(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function J2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class eB{constructor(e){this.key=e}}class tB{constructor(e){this.key=e}}class nB{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Gt(),this.mutatedKeys=Gt(),this.ju=mV(e),this.zu=new vg(this.ju)}get Wu(){return this.Ku}Hu(e,t){const i=t?t.Ju:new Q2,r=t?t.zu:this.zu;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,T)=>{const N=r.get(C),U=Hv(this.query,T)?T:null,H=!!N&&this.mutatedKeys.has(N.key),te=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let De=!1;N&&U?N.data.isEqual(U.data)?H!==te&&(i.track({type:3,doc:U}),De=!0):this.Yu(N,U)||(i.track({type:2,doc:U}),De=!0,(g&&this.ju(U,g)>0||v&&this.ju(U,v)<0)&&(f=!0)):!N&&U?(i.track({type:0,doc:U}),De=!0):N&&!U&&(i.track({type:1,doc:N}),De=!0,(g||v)&&(f=!0)),De&&(U?(u=u.add(U),o=te?o.add(C):o.delete(C)):(u=u.delete(C),o=o.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),o=o.delete(C.key),i.track({type:1,doc:C})}return{zu:u,Ju:i,Li:f,mutatedKeys:o}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const o=e.Ju.Ru();o.sort((v,C)=>function(T,N){const U=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return U(T)-U(N)}(v.type,C.type)||this.ju(v.doc,C.doc)),this.Zu(i);const u=t?this.Xu():[],f=0===this.Qu.size&&this.current?1:0,g=f!==this.Gu;return this.Gu=f,0!==o.length||g?{snapshot:new bg(this.query,e.zu,r,o,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:u}:{tc:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Q2,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Gt(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const t=[];return e.forEach(i=>{this.Qu.has(i)||t.push(new tB(i))}),this.Qu.forEach(i=>{e.has(i)||t.push(new eB(i))}),t}nc(e){this.Ku=e.Yi,this.Qu=Gt();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return bg.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class a4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class l4{constructor(e){this.key=e,this.ic=!1}}class c4{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.rc={},this.oc=new Md(f=>fV(f),Uv),this.uc=new Map,this.cc=new Set,this.ac=new wi(qe.comparator),this.hc=new Map,this.lc=new ak,this.fc={},this.dc=new Map,this._c=Bf.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function u4(n,e){return qk.apply(this,arguments)}function qk(){return qk=(0,fe.Z)(function*(n,e){const t=g1(n);let i,r;const o=t.oc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.sc();else{const u=yield fg(t.localStore,vs(e));t.isPrimaryClient&&QC(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Wk(t,e,i,"current"===f,u.resumeToken)}return r}),qk.apply(this,arguments)}function Wk(n,e,t,i,r){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,fe.Z)(function*(n,e,t,i,r){n.mc=(T,N,U)=>{return(H=(0,fe.Z)(function*(te,De,ze,it){let _t=De.view.Hu(ze);_t.Li&&(_t=yield WC(te.localStore,De.query,!1).then(({documents:Pt})=>De.view.Hu(Pt,_t)));const ut=it&&it.targetChanges.get(De.targetId),Vt=De.view.applyChanges(_t,te.isPrimaryClient,ut);return s1(te,De.targetId,Vt.tc),Vt.snapshot}),function(te,De,ze,it){return H.apply(this,arguments)})(n,T,N,U);var H};const o=yield WC(n.localStore,e,!0),u=new nB(e,o.Yi),f=u.Hu(o.documents),g=Wv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(f,n.isPrimaryClient,g);s1(n,t,v.tc);const C=new a4(e,t,u);return n.oc.set(e,C),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),v.snapshot}),Yk.apply(this,arguments)}function d4(n,e){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,fe.Z)(function*(n,e){const t=We(n),i=t.oc.get(e),r=t.uc.get(i.targetId);if(r.length>1)return t.uc.set(i.targetId,r.filter(o=>!Uv(o,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),ab(t.remoteStore,i.targetId),wg(t,i.targetId)}).catch(Ed))):(wg(t,i.targetId),yield pg(t.localStore,i.targetId,!0))}),Zk.apply(this,arguments)}function Kk(){return Kk=(0,fe.Z)(function*(n,e,t){const i=_1(n);try{const r=yield function(o,u){const f=We(o),g=Zn.now(),v=u.reduce((N,U)=>N.add(U.key),Gt());let C,T;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=qs(),H=Gt();return f.ji.getEntries(N,v).next(te=>{U=te,U.forEach((De,ze)=>{ze.isValidDocument()||(H=H.add(De))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,U)).next(te=>{C=te;const De=[];for(const ze of u){const it=bG(ze,C.get(ze.key).overlayedDocument);null!=it&&De.push(new Wc(ze.key,it,lV(it.value.mapValue),Kn.exists(!0)))}return f.mutationQueue.addMutationBatch(N,g,De,u)}).next(te=>{T=te;const De=te.applyToLocalDocumentSet(C,H);return f.documentOverlayCache.saveOverlays(N,te.batchId,De)})}).then(()=>({batchId:T.batchId,changes:RV(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,f){let g=o.fc[o.currentUser.toKey()];g||(g=new wi(jt)),g=g.insert(u,f),o.fc[o.currentUser.toKey()]=g}(i,r.batchId,t),yield Zc(i,r.changes),yield gg(i.remoteStore)}catch(r){const o=yg(r,"Failed to persist write");t.reject(o)}}),Kk.apply(this,arguments)}function iB(n,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,fe.Z)(function*(n,e){const t=We(n);try{const i=yield R6(t.localStore,e);e.targetChanges.forEach((r,o)=>{const u=t.hc.get(o);u&&(pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ic=!0:r.modifiedDocuments.size>0?pt(u.ic):r.removedDocuments.size>0&&(pt(u.ic),u.ic=!1))}),yield Zc(t,i,e)}catch(i){yield Ed(i)}}),Qk.apply(this,arguments)}function rB(n,e,t){const i=We(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.oc.forEach((o,u)=>{const f=u.view.Pu(e);f.snapshot&&r.push(f.snapshot)}),function(o,u){const f=We(o);f.onlineState=u;let g=!1;f.queries.forEach((v,C)=>{for(const T of C.listeners)T.Pu(u)&&(g=!0)}),g&&$k(f)}(i.eventManager,e),r.length&&i.rc.Ho(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function f4(n,e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,fe.Z)(function*(n,e,t){const i=We(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.hc.get(e),o=r&&r.key;if(o){let u=new wi(qe.comparator);u=u.insert(o,Ln.newNoDocument(o,vt.min()));const f=Gt().add(o),g=new qv(vt.min(),new Map,new Cn(jt),u,f);yield iB(i,g),i.ac=i.ac.remove(o),i.hc.delete(e),o1(i)}else yield pg(i.localStore,e,!1).then(()=>wg(i,e,t)).catch(Ed)}),Xk.apply(this,arguments)}function p4(n,e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,fe.Z)(function*(n,e){const t=We(n),i=e.batch.batchId;try{const r=yield k6(t.localStore,e);r1(t,i,null),n1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Zc(t,r)}catch(r){yield Ed(r)}}),Jk.apply(this,arguments)}function m4(n,e,t){return e1.apply(this,arguments)}function e1(){return e1=(0,fe.Z)(function*(n,e,t){const i=We(n);try{const r=yield function(o,u){const f=We(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,u).next(C=>(pt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(g,C))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(i.localStore,e);r1(i,e,t),n1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Zc(i,r)}catch(r){yield Ed(r)}}),e1.apply(this,arguments)}function t1(){return t1=(0,fe.Z)(function*(n,e){const t=We(n);Yc(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=We(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.dc.get(i)||[];r.push(e),t.dc.set(i,r)}catch(i){const r=yg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),t1.apply(this,arguments)}function n1(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function r1(n,e,t){const i=We(n);let r=i.fc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.fc[i.currentUser.toKey()]=r}}function wg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.uc.get(e))n.oc.delete(i),t&&n.rc.gc(i,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(i=>{n.lc.containsKey(i)||sB(n,i)})}function sB(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(ab(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),o1(n))}function s1(n,e,t){for(const i of t)i instanceof eB?(n.lc.addReference(i.key,e),_4(n,i)):i instanceof tB?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.lc.removeReference(i.key,e),n.lc.containsKey(i.key)||sB(n,i.key)):Je()}function _4(n,e){const t=e.key,i=t.path.canonicalString();n.ac.get(t)||n.cc.has(i)||(Le("SyncEngine","New document in limbo: "+t),n.cc.add(i),o1(n))}function o1(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new qe(ln.fromString(e)),i=n._c.next();n.hc.set(i,new l4(t)),n.ac=n.ac.insert(t,i),QC(n.remoteStore,new Rd(vs(rg(t.path)),i,2,yo.at))}}function Zc(n,e,t){return a1.apply(this,arguments)}function a1(){return a1=(0,fe.Z)(function*(n,e,t){const i=We(n),r=[],o=[],u=[];var f;i.oc.isEmpty()||(i.oc.forEach((f,g)=>{u.push(i.mc(g,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const C=dk.Ni(g.targetId,v);o.push(C)}}))}),yield Promise.all(u),i.rc.Ho(r),yield(f=(0,fe.Z)(function*(g,v){const C=We(g);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(v,N=>le.forEach(N.Ci,U=>C.persistence.referenceDelegate.addReference(T,N.targetId,U)).next(()=>le.forEach(N.xi,U=>C.persistence.referenceDelegate.removeReference(T,N.targetId,U)))))}catch(T){if(!Cd(T))throw T;Le("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const N=T.targetId;if(!T.fromCache){const U=C.Ki.get(N),te=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);C.Ki=C.Ki.insert(N,te)}}}),function(g,v){return f.apply(this,arguments)})(i.localStore,o))}),a1.apply(this,arguments)}function y4(n,e){return l1.apply(this,arguments)}function l1(){return l1=(0,fe.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const i=yield O2(t.localStore,e);t.currentUser=e,(r=t).dc.forEach(u=>{u.forEach(f=>{f.reject(new Pe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.dc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zc(t,i.Wi)}var r}),l1.apply(this,arguments)}function v4(n,e){const t=We(n),i=t.hc.get(e);if(i&&i.ic)return Gt().add(i.key);{let r=Gt();const o=t.uc.get(e);if(!o)return r;for(const u of o){const f=t.oc.get(u);r=r.unionWith(f.view.Wu)}return r}}function b4(n,e){return c1.apply(this,arguments)}function c1(){return c1=(0,fe.Z)(function*(n,e){const t=We(n),i=yield WC(t.localStore,e.query,!0),r=e.view.nc(i);return t.isPrimaryClient&&s1(t,e.targetId,r.tc),r}),c1.apply(this,arguments)}function w4(n,e){return u1.apply(this,arguments)}function u1(){return u1=(0,fe.Z)(function*(n,e){const t=We(n);return L2(t.localStore,e).then(i=>Zc(t,i))}),u1.apply(this,arguments)}function D4(n,e,t,i){return d1.apply(this,arguments)}function d1(){return d1=(0,fe.Z)(function*(n,e,t,i){const r=We(n),o=yield function(u,f){const g=We(u),v=We(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.An(C,f).next(T=>T?g.localDocuments.getDocuments(C,T):le.resolve(null)))}(r.localStore,e);var f;null!==o?("pending"===t?yield gg(r.remoteStore):"acknowledged"===t||"rejected"===t?(r1(r,e,i||null),n1(r,e),f=e,We(We(r.localStore).mutationQueue).bn(f)):Je(),yield Zc(r,o)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),d1.apply(this,arguments)}function h1(){return h1=(0,fe.Z)(function*(n,e){const t=We(n);if(g1(t),_1(t),!0===e&&!0!==t.wc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield oB(t,i.toArray());t.wc=!0,yield Lk(t.remoteStore,!0);for(const o of r)QC(t.remoteStore,o)}else if(!1===e&&!1!==t.wc){const i=[];let r=Promise.resolve();t.uc.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(wg(t,u),pg(t.localStore,u,!0))),ab(t.remoteStore,u)}),yield r,yield oB(t,i),function(o){const u=We(o);u.hc.forEach((f,g)=>{ab(u.remoteStore,g)}),u.lc._s(),u.hc=new Map,u.ac=new wi(qe.comparator)}(t),t.wc=!1,yield Lk(t.remoteStore,!1)}}),h1.apply(this,arguments)}function oB(n,e,t){return f1.apply(this,arguments)}function f1(){return f1=(0,fe.Z)(function*(n,e,t){const i=We(n),r=[],o=[];for(const u of e){let f;const g=i.uc.get(u);if(g&&0!==g.length){f=yield fg(i.localStore,vs(g[0]));for(const v of g){const C=i.oc.get(v),T=yield b4(i,C);T.snapshot&&o.push(T.snapshot)}}else{const v=yield F2(i.localStore,u);f=yield fg(i.localStore,v),yield Wk(i,aB(v),u,!1,f.resumeToken)}r.push(f)}return i.rc.Ho(o),r}),f1.apply(this,arguments)}function aB(n){return dV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function C4(n){const e=We(n);return We(We(e.localStore).persistence).Si()}function x4(n,e,t,i){return p1.apply(this,arguments)}function p1(){return p1=(0,fe.Z)(function*(n,e,t,i){const r=We(n);if(r.wc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const o=r.uc.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield L2(r.localStore,pV(o[0])),f=qv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,tr.EMPTY_BYTE_STRING);yield Zc(r,u,f);break}case"rejected":yield pg(r.localStore,e,!0),wg(r,e,i);break;default:Je()}}),p1.apply(this,arguments)}function I4(n,e,t){return m1.apply(this,arguments)}function m1(){return m1=(0,fe.Z)(function*(n,e,t){const i=g1(n);if(i.wc){for(const r of e){if(i.uc.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const o=yield F2(i.localStore,r),u=yield fg(i.localStore,o);yield Wk(i,aB(o),u.targetId,!1,u.resumeToken),QC(i.remoteStore,u)}for(const r of t)i.uc.has(r)&&(yield pg(i.localStore,r,!1).then(()=>{ab(i.remoteStore,r),wg(i,r)}).catch(Ed))}}),m1.apply(this,arguments)}function g1(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f4.bind(null,e),e.rc.Ho=i4.bind(null,e.eventManager),e.rc.gc=r4.bind(null,e.eventManager),e}function _1(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}class lB{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.Tt=sb(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return R2(this.persistence,new k2,e.initialUser,this.Tt)}Tc(e){return new T2(GC.qs,this.Tt)}Ic(e){return new H2}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cB extends lB{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,fe.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield _1(i.bc.syncEngine),yield gg(i.bc.remoteStore),yield i.persistence.di(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return R2(this.persistence,new k2,e.initialUser,this.Tt)}Ac(e,t){return new g6(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const i=new Q$(t,this.persistence);return new K$(e.asyncQueue,i)}Tc(e){const t=uk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new ck(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,z2(),KC(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new H2}}class S4 extends cB{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,fe.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof vk&&(i.sharedClientState.syncEngine={Br:D4.bind(null,r),Lr:x4.bind(null,r),qr:I4.bind(null,r),Si:C4.bind(null,r),$r:w4.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.di(function(){var o=(0,fe.Z)(function*(u){yield function E4(n,e){return h1.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}Ic(e){const t=z2();if(!vk.C(t))throw new Pe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=uk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vk(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class y1{initialize(e,t){var i=this;return(0,fe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>rB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=y4.bind(null,i.syncEngine),yield Lk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new n4}createDatastore(e){const t=sb(e.databaseInfo.databaseId),i=new B6(e.databaseInfo);return new j6(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=f=>rB(this.syncEngine,f,0),u=j2.C()?new j2:new F6,new G6(t,i,r,o,u);var t,i,r,o,u}createSyncEngine(e,t){return function(i,r,o,u,f,g,v){const C=new c4(i,r,o,u,f,g);return v&&(C.wc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(t){const i=We(t);Le("RemoteStore","RemoteStore shutting down."),i.mu.add(5),yield mg(i),i.yu.shutdown(),i.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uB(n,e=10240){let t=0;return{read:()=>(0,fe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class T4{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new er,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(i=>{i&&i.Fu()?this.metadata.resolve(i.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Mu)}`))},i=>this.metadata.reject(i))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const i=e.Sc.decode(t),r=Number(i);isNaN(r)&&e.xc(`length string (${i}) is not valid number`);const o=yield e.Nc(r);return new s4(JSON.parse(o),t.length+r)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,fe.Z)(function*(){for(;e.kc()<0&&!(yield e.Oc()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Nc(e){var t=this;return(0,fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Oc())&&t.xc("Reached the end of bundle when more is expected.");const i=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}Oc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class M4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,fe.Z)(function*(o,u){const f=We(o),g=Zv(f.Tt)+"/documents",v={documents:u.map(U=>Yv(f.Tt,U))},C=yield f.mo("BatchGetDocuments",g,v,u.length),T=new Map;C.forEach(U=>{const H=function RG(n,e){return"found"in e?function(t,i){pt(!!i.found);const r=Ml(t,i.found.name),o=Fi(i.found.updateTime),u=i.found.createTime?Fi(i.found.createTime):vt.min(),f=new gr({mapValue:{fields:i.found.fields}});return Ln.newFoundDocument(r,o,u,f)}(n,e):"missing"in e?function(t,i){pt(!!i.missing),pt(!!i.readTime);const r=Ml(t,i.missing),o=Fi(i.readTime);return Ln.newNoDocument(r,o)}(n,e):Je()}(f.Tt,U);T.set(H.key.toString(),H)});const N=[];return u.forEach(U=>{const H=T.get(U.toString());pt(!!H),N.push(H)}),N}),function(o,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new lg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=qe.fromPath(r);e.mutations.push(new GM(o,e.precondition(o)))}),yield(i=(0,fe.Z)(function*(r,o){const u=We(r),f=Zv(u.Tt)+"/documents",g={writes:o.map(v=>Kv(u.Tt,v))};yield u.lo("Commit",f,g)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Pe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vt.min())?Kn.exists(!1):Kn.updateTime(t):Kn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new Pe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kn.updateTime(t)}return Kn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class k4{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Mc=i.maxAttempts,this.ko=new bk(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var e=this;this.ko.vo((0,fe.Z)(function*(){const t=new M4(e.datastore),i=e.$c(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Bc(o)}))}).catch(r=>{e.Bc(r)})}))}$c(e){try{const t=this.updateFunction(e);return!Ov(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!TV(t)}return!1}}class R4{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mr.UNAUTHENTICATED,this.clientId=NL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,fe.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function dB(n,e){return v1.apply(this,arguments)}function v1(){return v1=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,fe.Z)(function*(o){i.isEqual(o)||(yield O2(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),v1.apply(this,arguments)}function hB(n,e){return b1.apply(this,arguments)}function b1(){return b1=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield w1(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>K2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>K2(e.remoteStore,o)),n.onlineComponents=e}),b1.apply(this,arguments)}function w1(n){return D1.apply(this,arguments)}function D1(){return D1=(0,fe.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield dB(n,new lB)),n.offlineComponents}),D1.apply(this,arguments)}function ex(n){return E1.apply(this,arguments)}function E1(){return E1=(0,fe.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield hB(n,new y1)),n.onlineComponents}),E1.apply(this,arguments)}function fB(n){return w1(n).then(e=>e.persistence)}function tx(n){return w1(n).then(e=>e.localStore)}function C1(n){return ex(n).then(e=>e.remoteStore)}function x1(n){return ex(n).then(e=>e.syncEngine)}function Dg(n){return I1.apply(this,arguments)}function I1(){return I1=(0,fe.Z)(function*(n){const e=yield ex(n),t=e.eventManager;return t.onListen=u4.bind(null,e.syncEngine),t.onUnlisten=d4.bind(null,e.syncEngine),t}),I1.apply(this,arguments)}function mB(n,e,t={}){const i=new er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(r,o,u,f,g){const v=new JC({next:T=>{o.enqueueAndForget(()=>jk(r,C));const N=T.docs.has(u);!N&&T.fromCache?g.reject(new Pe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&f&&"server"===f.source?g.reject(new Pe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),C=new Gk(rg(u.path),v,{includeMetadataChanges:!0,Ou:!0});return Uk(r,C)}(yield Dg(n),n.asyncQueue,e,t,i)})),i.promise}function gB(n,e,t={}){const i=new er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(r,o,u,f,g){const v=new JC({next:T=>{o.enqueueAndForget(()=>jk(r,C)),T.fromCache&&"server"===f.source?g.reject(new Pe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),C=new Gk(u,v,{includeMetadataChanges:!0,Ou:!0});return Uk(r,C)}(yield Dg(n),n.asyncQueue,e,t,i)})),i.promise}const _B=new Map;function A1(n,e,t){if(!t)throw new Pe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yB(n,e,t,i){if(!0===e&&!0===i)throw new Pe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vB(n){if(!qe.isDocumentKey(n))throw new Pe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bB(n){if(qe.isDocumentKey(n))throw new Pe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nx(n);throw new Pe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wB(n,e){if(e<=0)throw new Pe(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class DB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new V$;switch(t.type){case"gapi":return new j$(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_B.get(e);t&&(Le("ComponentProvider","Removing Datastore"),_B.delete(e),t.terminate())}(this),Promise.resolve()}}function EB(n,e,t,i={}){var r;const o=(n=on(n,lb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Ef("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=mr.MOCK_USER;else{u=(0,un.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Pe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mr(g)}n._authCredentials=new B$(new OL(u,f))}}class Vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Fr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fr(this.firestore,e,this._query)}}class Rl extends Fr{constructor(e,t,i){super(e,t,rg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new qe(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function CB(n,e,...t){if(n=(0,un.m9)(n),A1("collection","path",e),n instanceof lb){const i=ln.fromString(e,...t);return bB(i),new Rl(n,null,i)}{if(!(n instanceof Vn||n instanceof Rl))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return bB(i),new Rl(n.firestore,null,i)}}function ix(n,e,...t){if(n=(0,un.m9)(n),1===arguments.length&&(e=NL.R()),A1("doc","path",e),n instanceof lb){const i=ln.fromString(e,...t);return vB(i),new Vn(n,null,new qe(i))}{if(!(n instanceof Vn||n instanceof Rl))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return vB(i),new Vn(n.firestore,n instanceof Rl?n.converter:null,new qe(i))}}function xB(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),(n instanceof Vn||n instanceof Rl)&&(e instanceof Vn||e instanceof Rl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function S1(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),n instanceof Fr&&e instanceof Fr&&n.firestore===e.firestore&&Uv(n._query,e._query)&&n.converter===e.converter}class H4{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new bk(this,"async_queue_retry"),this.Hc=()=>{const t=KC();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=KC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=KC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new er;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Cd(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(i=>{throw this.Qc=i,this.jc=!1,Ni("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.jc=!1,i))));return this.qc=t,t}enqueueAfterDelay(e,t,i){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const r=Bk.createAndSchedule(this,e,t,i,o=>this.Xc(o));return this.Gc.push(r),r}Jc(){this.Qc&&Je()}verifyOperationInProgress(){}ta(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function T1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class j4{constructor(){this._progressObserver={},this._taskCompletionResolver=new er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Bn extends lb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new H4,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IB(this),this._firestoreClient.terminate()}}function Li(n){return n._firestoreClient||IB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IB(n){var e;const t=n._freezeSettings(),i=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new eG(n._databaseId,o,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var o,f;n._firestoreClient=new R4(n._authCredentials,n._appCheckCredentials,n._queue,i)}function AB(n,e,t){const i=new er;return n.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield dB(n,t),yield hB(n,e),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===he.FAILED_PRECONDITION||u.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;Ef("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function SB(n){if(n._initialized||n._terminated)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(tr.fromBase64String(e))}catch(t){throw new Pe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ol(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Kc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hf{constructor(e){this._methodName=e}}class rx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const e5=/^__.*__$/;class t5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ag(e,this.data,t,this.fieldTransforms)}}class TB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class sx{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.Tt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ia(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new sx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.aa(e),r}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.ia(),r}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return lx(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(MB(this.ra)&&e5.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class n5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=i||sb(e)}wa(e,t,i,r=!1){return new sx({ra:e,methodName:t,_a:i,path:vi.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function jf(n){const e=n._freezeSettings(),t=sb(n._databaseId);return new n5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ox(n,e,t,i,r,o={}){const u=n.wa(o.merge||o.mergeFields?2:0,e,t,r);O1("Data must be an object, but it was:",u,i);const f=OB(i,u);let g,v;if(o.merge)g=new Gs(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const C=[];for(const T of o.mergeFields){const N=db(e,T,t);if(!u.contains(N))throw new Pe(he.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);NB(C,N)||C.push(N)}g=new Gs(C),v=u.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,v=u.fieldTransforms;return new t5(new gr(f),g,v)}class ub extends Hf{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ub}}function kB(n,e,t){return new sx({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class M1 extends Hf{_toFieldTransform(e){return new jv(e.path,new sg)}isEqual(e){return e instanceof M1}}class r5 extends Hf{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=kB(this,e,!0),i=this.ma.map(o=>zf(o,t)),r=new Rf(i);return new jv(e.path,r)}isEqual(e){return this===e}}class s5 extends Hf{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=kB(this,e,!0),i=this.ma.map(o=>zf(o,t)),r=new Of(i);return new jv(e.path,r)}isEqual(e){return this===e}}class o5 extends Hf{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new og(e.Tt,yV(e.Tt,this.ga));return new jv(e.path,t)}isEqual(e){return this===e}}function k1(n,e,t,i){const r=n.wa(1,e,t);O1("Data must be an object, but it was:",r,i);const o=[],u=gr.empty();If(i,(g,v)=>{const C=ax(e,g,t);v=(0,un.m9)(v);const T=r.ha(C);if(v instanceof ub)o.push(C);else{const N=zf(v,T);null!=N&&(o.push(C),u.set(C,N))}});const f=new Gs(o);return new TB(u,f,r.fieldTransforms)}function R1(n,e,t,i,r,o){const u=n.wa(1,e,t),f=[db(e,i,t)],g=[r];if(o.length%2!=0)throw new Pe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)f.push(db(e,o[N])),g.push(o[N+1]);const v=[],C=gr.empty();for(let N=f.length-1;N>=0;--N)if(!NB(v,f[N])){const U=f[N];let H=g[N];H=(0,un.m9)(H);const te=u.ha(U);if(H instanceof ub)v.push(U);else{const De=zf(H,te);null!=De&&(v.push(U),C.set(U,De))}}const T=new Gs(v);return new TB(C,T,u.fieldTransforms)}function RB(n,e,t,i=!1){return zf(t,n.wa(i?4:3,e))}function zf(n,e){if(PB(n=(0,un.m9)(n)))return O1("Unsupported field value:",e,n),OB(n,e);if(n instanceof Hf)return function(t,i){if(!MB(i.ra))throw i.fa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const u of t){let f=zf(u,i.la(o));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yV(i.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Zn.fromDate(t);return{timestampValue:cg(i.Tt,r)}}if(t instanceof Zn){const r=new Zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cg(i.Tt,r)}}if(t instanceof rx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ol)return{bytesValue:BV(i.Tt,t._byteString)};if(t instanceof Vn){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i.fa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:qM(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.fa(`Unsupported field value: ${nx(t)}`)}(n,e)}function OB(n,e){const t={};return zL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):If(n,(i,r)=>{const o=zf(r,e.ua(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function PB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof rx||n instanceof Ol||n instanceof Vn||n instanceof Hf)}function O1(n,e,t){if(!PB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=nx(t);throw e.fa("an object"===i?n+" a custom object":n+" "+i)}var i}function db(n,e,t){if((e=(0,un.m9)(e))instanceof Kc)return e._internalPath;if("string"==typeof e)return ax(n,e);throw lx("Field path arguments must be of type string or ",n,!1,void 0,t)}const a5=new RegExp("[~\\*/\\[\\]]");function ax(n,e,t){if(e.search(a5)>=0)throw lx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kc(...e.split("."))._internalPath}catch{throw lx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lx(n,e,t,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Pe(he.INVALID_ARGUMENT,f+n+g)}function NB(n,e){return n.some(t=>t.isEqual(e))}class hb{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new l5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class l5 extends hb{data(){return super.data()}}function cx(n,e){return"string"==typeof e?ax(n,e):e instanceof Kc?e._internalPath:e._delegate._internalPath}function FB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P1{}class fb extends P1{}function Ld(n,e,...t){let i=[];e instanceof P1&&i.push(e),i=i.concat(t),function(r){const o=r.filter(f=>f instanceof Eg).length,u=r.filter(f=>f instanceof pb).length;if(o>1||o>0&&u>0)throw new Pe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class pb extends fb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new pb(e,t,i)}_apply(e){const t=this._parse(e);return UB(e._query,t),new Fr(e.firestore,e.converter,zM(e._query,t))}_parse(e){const t=jf(e.firestore);return function(r,o,u,f,g,v,C){let T;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){BB(C,v);const N=[];for(const U of C)N.push(VB(f,r,U));T={arrayValue:{values:N}}}else T=VB(f,r,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||BB(C,v),T=RB(u,"where",C,"in"===v||"not-in"===v);return sn.create(g,v,T)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Eg extends P1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Eg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const f of u)UB(o,f),o=zM(o,f)}(e._query,t),new Fr(e.firestore,e.converter,zM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class N1 extends fb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new N1(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ng(r,o);return function(f,g){if(null===HM(f)){const v=TC(f);null!==v&&HB(0,v,g.field)}}(i,u),u}(e._query,this._field,this._direction);return new Fr(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new qc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class ux extends fb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ux(e,t,i)}_apply(e){return new Fr(e.firestore,e.converter,MC(e._query,this._limit,this._limitType))}}class dx extends fb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new dx(e,t,i)}_apply(e){const t=LB(e,this.type,this._docOrFields,this._inclusive);return new Fr(e.firestore,e.converter,(r=t,new qc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class hx extends fb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new hx(e,t,i)}_apply(e){const t=LB(e,this.type,this._docOrFields,this._inclusive);return new Fr(e.firestore,e.converter,(r=t,new qc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function LB(n,e,t,i){if(t[0]=(0,un.m9)(t[0]),t[0]instanceof hb)return function(r,o,u,f,g){if(!f)throw new Pe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const C of kf(r))if(C.field.isKeyField())v.push(Tf(o,f.key));else{const T=f.data.field(C.field);if(PM(T))throw new Pe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const N=C.field.canonicalString();throw new Pe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(T)}return new Td(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=jf(n.firestore);return function(o,u,f,g,v,C){const T=o.explicitOrderBy;if(v.length>T.length)throw new Pe(he.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<v.length;U++){const H=v[U];if(T[U].field.isKeyField()){if("string"!=typeof H)throw new Pe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!jM(o)&&-1!==H.indexOf("/"))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const te=o.path.child(ln.fromString(H));if(!qe.isDocumentKey(te))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const De=new qe(te);N.push(Tf(u,De))}else{const te=RB(f,g,H);N.push(te)}}return new Td(N,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function VB(n,e,t){if("string"==typeof(t=(0,un.m9)(t))){if(""===t)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jM(e)&&-1!==t.indexOf("/"))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ln.fromString(t));if(!qe.isDocumentKey(i))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tf(n,new qe(i))}if(t instanceof Vn)return Tf(n,t._key);throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nx(t)}.`)}function BB(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UB(n,e){if(e.isInequality()){const i=TC(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=HM(n);null!==o&&HB(0,r,o)}const t=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Pe(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function HB(n,e,t){if(!t.isEqual(e))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class F1{convertValue(e,t="none"){switch(Sf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Af(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const i={};return If(e.fields,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new rx(bi(e.latitude),bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=GL(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nv(e));default:return null}}convertTimestamp(e){const t=Id(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ln.fromString(e);pt(ZV(i));const r=new xd(i.get(1),i.get(3)),o=new qe(i.popFirst(5));return r.isEqual(t)||Ni(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function fx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class _5 extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}class $f{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qc extends hb{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(cx("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mb extends Qc{data(e={}){return super.data(e)}}class Vd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $f(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mb(this._firestore,this._userDataWriter,i.key,i,new $f(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new mb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $f(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new mb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $f(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:v5(u.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function v5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function zB(n,e){return n instanceof Qc&&e instanceof Qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vd&&e instanceof Vd&&n._firestore===e._firestore&&S1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Bd extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function $B(n,e,t){n=on(n,Vn);const i=on(n.firestore,Bn),r=fx(n.converter,e,t);return Cg(i,[ox(jf(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Kn.none())])}function GB(n,e,t,...i){n=on(n,Vn);const r=on(n.firestore,Bn),o=jf(r);let u;return u="string"==typeof(e=(0,un.m9)(e))||e instanceof Kc?R1(o,"updateDoc",n._key,e,t,i):k1(o,"updateDoc",n._key,e),Cg(r,[u.toMutation(n._key,Kn.exists(!0))])}function qB(n,...e){var t,i,r;n=(0,un.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||T1(e[u])||(o=e[u],u++);const f={includeMetadataChanges:o.includeMetadataChanges};if(T1(e[u])){const T=e[u];e[u]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[u+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[u+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let g,v,C;if(n instanceof Vn)v=on(n.firestore,Bn),C=rg(n._key.path),g={next:T=>{e[u]&&e[u](L1(v,n,T))},error:e[u+1],complete:e[u+2]};else{const T=on(n,Fr);v=on(T.firestore,Bn),C=T._query;const N=new Bd(v);g={next:U=>{e[u]&&e[u](new Vd(v,N,T,U))},error:e[u+1],complete:e[u+2]},FB(n._query)}return function(T,N,U,H){const te=new JC(H),De=new Gk(N,te,U);return T.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return Uk(yield Dg(T),De)})),()=>{te.Pc(),T.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return jk(yield Dg(T),De)}))}}(Li(v),C,f,g)}function Cg(n,e){return function(t,i){const r=new er;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function h4(n,e,t){return Kk.apply(this,arguments)}(yield x1(t),i,r)})),r.promise}(Li(n),e)}function L1(n,e,t){const i=t.docs.get(e._key),r=new Bd(n);return new Qc(n,r,e._key,i,new $f(t.hasPendingWrites,t.fromCache),e.converter)}const M5={maxAttempts:5};class WB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jf(e)}set(e,t,i){this._verifyNotCommitted();const r=Ud(e,this._firestore),o=fx(r.converter,t,i),u=ox(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Kn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Ud(e,this._firestore);let u;return u="string"==typeof(t=(0,un.m9)(t))||t instanceof Kc?R1(this._dataReader,"WriteBatch.update",o._key,t,i,r):k1(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Kn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ud(e,this._firestore);return this._mutations=this._mutations.concat(new lg(t._key,Kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ud(n,e){if((n=(0,un.m9)(n)).firestore!==e)throw new Pe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class k5 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jf(e)}get(e){const t=Ud(e,this._firestore),i=new _5(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Je();const o=r[0];if(o.isFoundDocument())return new hb(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new hb(this._firestore,i,t._key,null,t.converter);throw Je()})}set(e,t,i){const r=Ud(e,this._firestore),o=fx(r.converter,t,i),u=ox(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const o=Ud(e,this._firestore);let u;return u="string"==typeof(t=(0,un.m9)(t))||t instanceof Kc?R1(this._dataReader,"Transaction.update",o._key,t,i,r):k1(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ud(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ud(e,this._firestore),i=new Bd(this._firestore);return super.get(e).then(r=>new Qc(this._firestore,i,t._key,r._document,new $f(!1,!1),t.converter))}}!function(n,e=!0){Xm=jc.SDK_VERSION,(0,jc._registerComponent)(new WE.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Bn(new U$(t.getProvider("auth-internal")),new z$(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Pe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(f.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,jc.registerVersion)(RL,"3.8.4",n),(0,jc.registerVersion)(RL,"3.8.4","esm2017")}();class Gf{constructor(){this.dbs=qE.Z.firestore()}getUsers(){var e=this;return(0,fe.Z)(function*(){let t=[];return yield e.dbs.collection("users").get().then(i=>i.forEach(r=>{console.log(r.data()),t.push(r.data)})),t})()}getsungleUser(e){var t=this;return(0,fe.Z)(function*(){let i=[];return yield t.dbs.collection("users").doc(e).get().then(r=>{r.exists?(console.log(r.data()),i.push(r.data())):console.log("No such document!")}),i})()}setNewUserData(e,t){var i=this;return(0,fe.Z)(function*(){yield i.dbs.collection("users").doc(e).set(t).then(r=>r)})()}}Gf.\u0275fac=function(e){return new(e||Gf)},Gf.\u0275prov=c.Yz7({token:Gf,factory:Gf.\u0275fac,providedIn:"root"});class gb{constructor(e,t,i,r){this.fb=e,this.apiService=t,this.fbService=i,this.router=r,this.userCreateForm=this.fb.group({fullName:["",[Oc.required]],phoneNumber:["",[Oc.required]],referedBy:["",[Oc.required]],aadharCardNumber:[0,[Oc.required]],dob:["",[Oc.required]],gender:["",[Oc.required]],accountHolderName:[""],accountNumber:[""],bankName:[""],ifscCode:[""],upiId:[""]})}ngOnInit(){}onSubmit(e){var t=this;return(0,fe.Z)(function*(){e.patchValue({dob:t.userCreateForm.value.dob}),console.log("form data is ",e.value),t.updateUser(t.userCreateForm.value.phoneNumber,e.value)})()}updateUser(e,t){var i=this;return(0,fe.Z)(function*(){yield i.fbService.setNewUserData(e,t),i.router.navigateByUrl("home")})()}}gb.\u0275fac=function(e){return new(e||gb)(c.Y36(vy),c.Y36(Wm),c.Y36(Gf),c.Y36(Wr))},gb.\u0275cmp=c.Xpm({type:gb,selectors:[["app-create-user"]],decls:80,vars:3,consts:[[1,"bg"],[1,"container","mx-auto","px-4","h-full"],[1,"flex","content-center","items-center","justify-center","h-full"],[1,"w-full","lg:w-3/5","px-4"],[1,"bg-white","relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded-lg","bg-blueGray-200","border-0"],[1,"rounded-t","mb-0","px-6","py-6"],[1,"text-center","mb-3"],[1,"text-blueGray-500","text-sm","font-bold"],[1,"text-sm","font-thin"],[1,"mt-6","border-b-1","border-blueGray-300"],[1,"px-4","lg:px-10","py-10","pt-0"],[3,"formGroup","ngSubmit"],[1,"flex","lg:flex-row","flex-col","sm:m-4","lg:m-0"],[1,"relative","w-full","lg:w-1/2","lg:m-3","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-blueGray-600","text-xs","font-bold","mb-2"],["type","text","formControlName","fullName","placeholder","Exter Your Full Name",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["type","text","formControlName","phoneNumber","placeholder","Your Phone Number",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["type","text","formControlName","referedBy","placeholder","Exter the number you got refered by",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],[1,"w-full","flex","flex-row"],[1,"flex","flex-col","w-full"],["placeholder","Select your Date of Birth","matInput","","formControlName","dob",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150",3,"matDatepicker"],[1,"opacity-50"],["picker",""],["matIconSuffix","",3,"for"],["type","text","formControlName","aadharCardNumber","placeholder","Exter Your Aadhar Card Number",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["formControlName","gender",1,"margin-left"],["value","male"],["value","female"],["type","text","formControlName","accountHolderName","placeholder","Exter your Account Holder Name",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["type","text","formControlName","accountNumber","placeholder","Exter your Account Number",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["type","text","formControlName","bankName","placeholder","Exter your Bank Name",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["type","text","formControlName","ifscCode","placeholder","Exter your IFSC code",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["type","text","formControlName","upiId","placeholder","Exter your UPI ID",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],[1,"text-center","mt-6"],["type","submit",1,"bg-blueGray-800","active:bg-blueGray-600","text-sm","font-bold","uppercase","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","w-full","ease-linear","transition-all","duration-150"]],template:function(e,t){if(1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),c._uU(8,"New User Registration"),c.qZA(),c.TgZ(9,"label",8),c._uU(10,"Fill in the form below to complete your Registration!"),c.qZA()(),c._UZ(11,"hr",9),c.qZA(),c.TgZ(12,"div",10)(13,"form",11),c.NdJ("ngSubmit",function(){return t.onSubmit(t.userCreateForm)}),c.TgZ(14,"div",12)(15,"div",13)(16,"label",14),c._uU(17," Full Name "),c.qZA(),c._UZ(18,"input",15),c.qZA(),c.TgZ(19,"div",13)(20,"label",14),c._uU(21," Phone Number "),c.qZA(),c._UZ(22,"input",16),c.qZA()(),c.TgZ(23,"div",12)(24,"div",13)(25,"label",14),c._uU(26," Refereb By Number "),c.qZA(),c._UZ(27,"input",17),c.qZA(),c.TgZ(28,"div",13)(29,"label",14),c._uU(30," Date of Birth "),c.qZA(),c.TgZ(31,"div",18)(32,"div",19),c._UZ(33,"input",20),c.TgZ(34,"mat-hint",21),c._uU(35,"MM/DD/YYYY"),c.qZA(),c._UZ(36,"mat-datepicker",null,22),c.qZA(),c.TgZ(38,"div"),c._UZ(39,"mat-datepicker-toggle",23),c.qZA()()()(),c.TgZ(40,"div",12)(41,"div",13)(42,"label",14),c._uU(43," AAdhar Card Number "),c.qZA(),c._UZ(44,"input",24),c.qZA()(),c.TgZ(45,"div",12)(46,"div",13)(47,"label",14),c._uU(48," Gender "),c.qZA(),c.TgZ(49,"mat-radio-group",25)(50,"mat-radio-button",26),c._uU(51," Male "),c.qZA(),c.TgZ(52,"mat-radio-button",27),c._uU(53," Female "),c.qZA()()()(),c.TgZ(54,"div",12)(55,"div",13)(56,"label",14),c._uU(57," Account Holder Name "),c.qZA(),c._UZ(58,"input",28),c.qZA(),c.TgZ(59,"div",13)(60,"label",14),c._uU(61," Account Number "),c.qZA(),c._UZ(62,"input",29),c.qZA()(),c.TgZ(63,"div",12)(64,"div",13)(65,"label",14),c._uU(66," Bank Name "),c.qZA(),c._UZ(67,"input",30),c.qZA(),c.TgZ(68,"div",13)(69,"label",14),c._uU(70," IFSC Code "),c.qZA(),c._UZ(71,"input",31),c.qZA()(),c.TgZ(72,"div",12)(73,"div",13)(74,"label",14),c._uU(75," UPI ID "),c.qZA(),c._UZ(76,"input",32),c.qZA()(),c.TgZ(77,"div",33)(78,"button",34),c._uU(79," Complete Registration "),c.qZA()()()()()()()()()),2&e){const i=c.MAs(37);c.xp6(13),c.Q6J("formGroup",t.userCreateForm),c.xp6(20),c.Q6J("matDatepicker",i),c.xp6(6),c.Q6J("for",i)}},dependencies:[ld,Gh,Y_,hm,Dm,dy,Ay,lf,Ey,XD,My,TH,sT,NH],styles:[".bg[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;justify-content:center;padding-inline-start:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);padding-top:var(--chakra-space-16);padding-bottom:0;color:#011440;background:#011440;background-image:radial-gradient(#ffffff33 1px,#011440 1px);background-size:20px 20px}@keyframes _ngcontent-%COMP%_AnimateBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});class _b{}function V5(n,e){if(1&n&&(c.TgZ(0,"label",14),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.phoneNumberError)}}function B5(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"button",15),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.verifyMobileNumber())}),c._uU(2," Verify Number "),c.qZA()()}}function U5(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"div",9)(2,"label",10),c._uU(3," OTP "),c.qZA(),c.TgZ(4,"input",16),c.NdJ("change",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o.otpChange(r))}),c.qZA()(),c.TgZ(5,"div")(6,"label",17),c._UZ(7,"input",18),c.TgZ(8,"span",19),c._uU(9," Remember me "),c.qZA()()(),c.TgZ(10,"div",20)(11,"button",15),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.verifyOtp())}),c._uU(12," Verify OTP "),c.qZA()()()}}_b.\u0275fac=function(e){return new(e||_b)},_b.\u0275cmp=c.Xpm({type:_b,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"bg","flex","flex-col","justify-center","items-center"],[1,"text-white","text-7xl","my-5"],[1,"text-white","text-2xl"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"span",1),c._uU(2,"Welcome to Divine Jewellery!"),c.qZA(),c.TgZ(3,"span",2),c._uU(4,"Sorry, we will start soon ... untill then enjoy this meditating music."),c.qZA()())},styles:[".bg[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;justify-content:center;padding-inline-start:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);padding-top:var(--chakra-space-16);padding-bottom:0;color:#011440;background:#011440;background-image:radial-gradient(#ffffff33 1px,#011440 1px);background-size:20px 20px}@keyframes _ngcontent-%COMP%_AnimateBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});class yb{constructor(e,t){this.fbService=e,this.router=t,this.phoneNumber="",this.phoneNumberError="",this.showPhoneNumberError=!1,this.otp="",this.otpError="",this.showOtpError=!1,this.showOtpField=!1,this.isNewUser=!1}ngOnInit(){}getUserList(){var e=this;return(0,fe.Z)(function*(){const t=yield e.fbService.getUsers();console.log(t)})()}findUser(e){var t=this;return(0,fe.Z)(function*(){const i=yield t.fbService.getsungleUser(e);t.isNewUser=0===i.length,console.log(i)})()}sendOtp(e){var t=this;return(0,fe.Z)(function*(){try{const i=`https://verify.twilio.com/v2/Services/${qa?.twilio?.verifyService}/Verifications`,r=new URLSearchParams;r.append("To",`+91${t.phoneNumber}`),r.append("Channel","sms"),yield fetch(i,{method:"POST",body:r,headers:{Authorization:"Basic "+btoa(`${qa?.twilio?.userName.replaceAll("|","")}:${qa?.twilio?.password.replaceAll("|","")}`),"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>(console.log("Response:",o),t.showOtpField=!0,t.findUser(t.phoneNumber),o)).catch(o=>(console.error("Error:",o),o))}catch(i){console.log(i)}})()}checkOtp(e){var t=this;return(0,fe.Z)(function*(){const i=`https://verify.twilio.com/v2/Services/${qa?.twilio?.verifyService}/VerificationCheck`,r=new URLSearchParams;r.append("To",`+91${t.phoneNumber}`),r.append("Code",t.otp),fetch(i,{method:"POST",body:r,headers:{Authorization:"Basic "+btoa(`${qa?.twilio?.userName.replaceAll("|","")}:${qa?.twilio?.password.replaceAll("|","")}`),"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>(console.log("Response:",o),localStorage.setItem("phone",t.phoneNumber),t.router.navigateByUrl("home"),t.router.navigateByUrl(t.isNewUser?"create-user":"home"),o)).catch(o=>(console.error("Error:",o),o))})()}phoneNumberChange(e){this.phoneNumber=e.target.value,this.showPhoneNumberError=!1,this.phoneNumberError=""}otpChange(e){this.otp=e.target.value,this.showOtpError=!1,this.otpError=""}verifyMobileNumber(){var e=this;return(0,fe.Z)(function*(){0===e.phoneNumber.length?(e.showPhoneNumberError=!0,e.phoneNumberError="Phone Number is Required."):10!=e.phoneNumber.length?(e.showPhoneNumberError=!0,e.phoneNumberError="Phone Number must be a valid 10 digits number."):(e.showPhoneNumberError=!1,e.phoneNumberError="",yield e.sendOtp(e.phoneNumber))})()}verifyOtp(){var e=this;return(0,fe.Z)(function*(){0===e.otp.length?(e.otpError="OTP is Required",e.showOtpError=!0):6!=e.otp.length?(e.otpError="OTP Must be a number of 6 Digits",e.showOtpError=!0):(e.showOtpError=!1,e.otpError="",yield e.checkOtp(e.otp))})()}}yb.\u0275fac=function(e){return new(e||yb)(c.Y36(Gf),c.Y36(Wr))},yb.\u0275cmp=c.Xpm({type:yb,selectors:[["app-login"]],decls:18,vars:3,consts:[[1,"bg"],[1,"container","mx-auto","px-4","h-full"],[1,"flex","content-center","items-center","justify-center","h-full"],[1,"w-full","lg:w-4/12","px-4"],[1,"bg-white","relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded-lg","bg-blueGray-200","border-0"],[1,"rounded-t","mb-0","px-6","py-6"],[1,"text-center","mb-3"],[1,"text-blueGray-500","text-sm","font-bold"],[1,"flex-auto","px-4","lg:px-10","py-10","pt-0"],[1,"relative","w-full","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-blueGray-600","text-xs","font-bold","mb-2"],["type","text","placeholder","Your Phone Number",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150",3,"change"],["class","text-red-400",4,"ngIf"],[4,"ngIf"],[1,"text-red-400"],["type","button",1,"bg-blueGray-800","active:bg-blueGray-600","text-sm","font-bold","uppercase","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","w-full","ease-linear","transition-all","duration-150",3,"click"],["type","password","placeholder","OTP",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150",3,"change"],[1,"inline-flex","items-center","cursor-pointer"],["id","customCheckLogin","type","checkbox",1,"form-checkbox","border-0","text-blueGray-700","ml-1","w-5","h-5","ease-linear","transition-all","duration-150","rounded"],[1,"ml-2","text-sm","font-semibold","text-blueGray-600"],[1,"text-center","mt-6"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),c._uU(8,"Sign in / Sign Up"),c.qZA()()(),c.TgZ(9,"div",8)(10,"form")(11,"div",9)(12,"label",10),c._uU(13," Phone Number "),c.qZA(),c.TgZ(14,"input",11),c.NdJ("change",function(r){return t.phoneNumberChange(r)}),c.qZA(),c.YNc(15,V5,2,1,"label",12),c.qZA(),c.YNc(16,B5,3,0,"div",13),c.YNc(17,U5,13,0,"div",13),c.qZA()()()()()()()),2&e&&(c.xp6(15),c.Q6J("ngIf",t.showPhoneNumberError),c.xp6(1),c.Q6J("ngIf",!t.showOtpField),c.xp6(1),c.Q6J("ngIf",t.showOtpField))},dependencies:[ir,ld,hm,El],styles:[".bg[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;justify-content:center;padding-inline-start:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);padding-top:var(--chakra-space-16);padding-bottom:0;color:#011440;background:#011440;background-image:radial-gradient(#ffffff33 1px,#011440 1px);background-size:20px 20px}@keyframes _ngcontent-%COMP%_AnimateBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});class vb{}vb.\u0275fac=function(e){return new(e||vb)},vb.\u0275cmp=c.Xpm({type:vb,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,t){1&e&&(c.TgZ(0,"p"),c._uU(1,"page-not-found works!"),c.qZA())}});class bb{}function H5(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td",7),c._uU(2),c.qZA(),c.TgZ(3,"td",7),c._uU(4),c.qZA(),c.TgZ(5,"td",7),c._uU(6),c.qZA(),c.TgZ(7,"td",7),c._uU(8),c.qZA(),c.TgZ(9,"td",7),c._uU(10),c.qZA(),c.TgZ(11,"td",7),c._uU(12),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.AsE("",t.name.firstName," ",t.name.lastName,""),c.xp6(2),c.Oqu(t.refId),c.xp6(2),c.Oqu(t.refBy),c.xp6(2),c.Oqu(t.chain),c.xp6(2),c.Oqu(t.amount),c.xp6(2),c.Oqu(t.totalRefUsed)}}bb.\u0275fac=function(e){return new(e||bb)},bb.\u0275cmp=c.Xpm({type:bb,selectors:[["app-sign-up"]],decls:22,vars:0,consts:[[1,"bg"],[1,"container","mx-auto","px-4","h-full"],[1,"flex","content-center","items-center","justify-center","h-full"],[1,"w-full","lg:w-4/12","px-4"],[1,"bg-white","relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded-lg","bg-blueGray-200","border-0"],[1,"rounded-t","mb-0","px-6","py-6"],[1,"text-center","mb-3"],[1,"text-blueGray-500","text-sm","font-bold"],[1,"flex-auto","px-4","lg:px-10","py-10","pt-0"],[1,"relative","w-full","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-blueGray-600","text-xs","font-bold","mb-2"],["type","number","placeholder","Number",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["type","password","placeholder","Password",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],[1,"text-center","mt-6"],["type","button",1,"bg-blueGray-800","active:bg-blueGray-600","text-sm","font-bold","uppercase","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","w-full","ease-linear","transition-all","duration-150"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),c._uU(8,"Sign Up"),c.qZA()()(),c.TgZ(9,"div",8)(10,"form")(11,"div",9)(12,"label",10),c._uU(13," Mobile Number "),c.qZA(),c._UZ(14,"input",11),c.qZA(),c.TgZ(15,"div",9)(16,"label",10),c._uU(17," OTP "),c.qZA(),c._UZ(18,"input",12),c.qZA(),c.TgZ(19,"div",13)(20,"button",14),c._uU(21," Create Account "),c.qZA()()()()()()()()())},dependencies:[ld,hm,El],styles:[".bg[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;justify-content:center;padding-inline-start:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);padding-top:var(--chakra-space-16);padding-bottom:0;color:#011440;background:#011440;background-image:radial-gradient(#ffffff33 1px,#011440 1px);background-size:20px 20px}@keyframes _ngcontent-%COMP%_AnimateBG{0%{background-position:0% 0%}25%{background-position:25% 25%}50%{background-position:50% 50%}75%{background-position:75% 75%}to{background-position:100% 100%}}"]});class wb{constructor(){this.title="meditation-chaining",this.firstName="",this.lastName="",this.amount=0,this.refId="",this.users=Array(),this.prodPrice=3100,this.xyPerDed=32.26,this.zPerDed=25,this.users.push({refId:"COMPANYID",name:{firstName:"Meditation",lastName:"Chaining"},totalCount:0,amountPaid:0,totalRefUsed:0,chain:"COMPANYID",refBy:"",amount:0}),this.addMember({name:{firstName:"Mem",lastName:"01"},amountPaid:3100,referedBy:"COMPANYID"}),this.addMember({name:{firstName:"Mem",lastName:"02"},amountPaid:3100,referedBy:"COMPANYID"}),this.addMember({name:{firstName:"User",lastName:"01"},amountPaid:3100,referedBy:"Mem_2"}),this.addMember({name:{firstName:"User",lastName:"02"},amountPaid:3100,referedBy:"Mem_2"}),this.addMember({name:{firstName:"User",lastName:"03"},amountPaid:3100,referedBy:"Mem_2"}),this.addMember({name:{firstName:"User",lastName:"04"},amountPaid:3100,referedBy:"Mem_2"}),this.addMember({name:{firstName:"User",lastName:"01"},amountPaid:3100,referedBy:"Mem_1"})}addMember(e){let t={};t.name=e.name,t.amountPaid=e.amountPaid,t.refBy=e.referedBy,t.refId=`${e.name.firstName}_${this.users.length.toString()}`,t.amount=0,t.totalRefUsed=0;const i=this.users.findIndex(u=>u.refId===e.referedBy);if(-1==i)return;t.chain=`${this.users[i].chain}|::|${t.refId}`;const r=this.users[i].totalRefUsed,o=this.users[i].amount??0;0===r&&(this.users[i].amount=o+this.xyPerDed/100*e.amountPaid),1===r&&(this.users[i].amount=o+this.xyPerDed/100*e.amountPaid),r&&r>=2&&(this.users[i].amount=o+this.zPerDed/100*e.amountPaid),this.users[i].totalRefUsed+=1,this.users.push(t),console.log(this.users)}verifyAndAdd(){this.firstName.length<2||this.lastName.length<2||this.amount<1||this.refId.length<2||this.addMember({name:{firstName:this.firstName,lastName:this.lastName},amountPaid:this.amount,referedBy:this.refId})}}wb.\u0275fac=function(e){return new(e||wb)},wb.\u0275cmp=c.Xpm({type:wb,selectors:[["app-user-listing"]],decls:39,vars:5,consts:[[1,"flex","flex-col","justify-center","items-center","m-5"],[1,"space-x-5"],[1,"example-form-field"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[1,"flex","justify-center","items-center"],[1,"border"],[1,"border","p-4"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),c._uU(4,"First Name"),c.qZA(),c.TgZ(5,"input",3),c.NdJ("ngModelChange",function(r){return t.firstName=r}),c.qZA()(),c.TgZ(6,"mat-form-field",2)(7,"mat-label"),c._uU(8,"Last Name"),c.qZA(),c.TgZ(9,"input",3),c.NdJ("ngModelChange",function(r){return t.lastName=r}),c.qZA()()(),c.TgZ(10,"div",1)(11,"mat-form-field",2)(12,"mat-label"),c._uU(13,"Amount Paid"),c.qZA(),c.TgZ(14,"input",3),c.NdJ("ngModelChange",function(r){return t.amount=r}),c.qZA()(),c.TgZ(15,"mat-form-field",2)(16,"mat-label"),c._uU(17,"Refered By"),c.qZA(),c.TgZ(18,"input",3),c.NdJ("ngModelChange",function(r){return t.refId=r}),c.qZA()()(),c.TgZ(19,"button",4),c.NdJ("click",function(){return t.verifyAndAdd()}),c._uU(20,"Add User"),c.qZA()(),c.TgZ(21,"div",5)(22,"table",6)(23,"thead")(24,"tr")(25,"th",7),c._uU(26,"Name"),c.qZA(),c.TgZ(27,"th",7),c._uU(28,"Reference Id"),c.qZA(),c.TgZ(29,"th",7),c._uU(30,"Refered By"),c.qZA(),c.TgZ(31,"th",7),c._uU(32,"Chain"),c.qZA(),c.TgZ(33,"th",7),c._uU(34,"Total Amount"),c.qZA(),c.TgZ(35,"th",7),c._uU(36,"Total Reference Used"),c.qZA()()(),c.TgZ(37,"tbody"),c.YNc(38,H5,13,7,"tr",8),c.qZA()()()),2&e&&(c.xp6(5),c.Q6J("ngModel",t.firstName),c.xp6(4),c.Q6J("ngModel",t.lastName),c.xp6(5),c.Q6J("ngModel",t.amount),c.xp6(4),c.Q6J("ngModel",t.refId),c.xp6(20),c.Q6J("ngForOf",t.users))},dependencies:[wr,Gh,Y_,wm,L_,Ay,$D,Dy],styles:[".bg[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;justify-content:center;padding-inline-start:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);padding-top:var(--chakra-space-16);padding-bottom:0;color:#011440;background:#011440;background-image:radial-gradient(#ffffff33 1px,#011440 1px);background-size:20px 20px}@keyframes _ngcontent-%COMP%_AnimateBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});const j5=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:yb},{path:"sign-up",component:bb},{path:"home",component:_b},{path:"create-user",component:gb},{path:"user-list",component:wb},{path:"**",component:vb}];class xg{}xg.\u0275fac=function(e){return new(e||xg)},xg.\u0275mod=c.oAB({type:xg}),xg.\u0275inj=c.cJS({imports:[mF.forRoot(j5,{useHash:!0}),mF]});var z5=P(3942);function V1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ZB(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function KB(){if(!function nG(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Db{constructor(e){this._delegate=e}static fromBase64String(e){return KB(),new Db(Ol.fromBase64String(e))}static fromUint8Array(e){return ZB(),new Db(Ol.fromUint8Array(e))}toBase64(){return KB(),this._delegate.toBase64()}toUint8Array(){return ZB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function B1(n){return function q5(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class W5{enableIndexedDbPersistence(e,t){return function G4(n,e){SB(n=on(n,Bn));const t=Li(n),i=n._freezeSettings(),r=new y1;return AB(t,r,new cB(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function q4(n){SB(n=on(n,Bn));const e=Li(n),t=n._freezeSettings(),i=new y1;return AB(e,i,new S4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function W4(n){if(n._initialized&&!n._terminated)throw new Pe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(t=(0,fe.Z)(function*(i){if(!Wa.C())return Promise.resolve();const r=i+"main";yield Wa.delete(r)}),function(i){return t.apply(this,arguments)})(uk(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class QB{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof xd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ef("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){EB(this._delegate,e,t,i)}enableNetwork(){return function Z4(n){return function O4(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield fB(n),t=yield C1(n);return e.setNetworkEnabled(!0),function(i){const r=We(i);return r.mu.delete(0),ob(r)}(t)}))}(Li(n=on(n,Bn)))}(this._delegate)}disableNetwork(){return function K4(n){return function P4(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield fB(n),t=yield C1(n);return e.setNetworkEnabled(!1),(i=(0,fe.Z)(function*(r){const o=We(r);o.mu.add(0),yield mg(o),o.pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Li(n=on(n,Bn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,yB("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Y4(n){return function(e){const t=new er;return e.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function g4(n,e){return t1.apply(this,arguments)}(yield x1(e),t)})),t.promise}(Li(n=on(n,Bn)))}(this._delegate)}onSnapshotsInSync(e){return function S5(n,e){return function L4(n,e){const t=new JC(e);return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return i=yield Dg(n),r=t,We(i).vu.add(r),void r.next();var i,r})),()=>{t.Pc(),n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return i=yield Dg(n),r=t,void We(i).vu.delete(r);var i,r}))}}(Li(n=on(n,Bn)),T1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ig(this,CB(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,ix(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ds(this,function U4(n,e){if(n=on(n,lb),A1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fr(n,null,(t=e,new qc(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function R5(n,e,t){n=on(n,Bn);const i=Object.assign(Object.assign({},M5),t);return function(r){if(r.maxAttempts<1)throw new Pe(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const f=new er;return r.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const g=yield function pB(n){return ex(n).then(e=>e.datastore)}(r);new k4(r.asyncQueue,g,u,o,f).run()})),f.promise}(Li(n),r=>e(new k5(n,r)),i)}(this._delegate,t=>e(new XB(this,t)))}batch(){return Li(this._delegate),new JB(new WB(this._delegate,e=>Cg(this._delegate,e)))}loadBundle(e){return function Q4(n,e){const t=Li(n=on(n,Bn)),i=new j4;return function V4(n,e,t,i){const r=function(o,u){let f;return f="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,v){if(g instanceof Uint8Array)return uB(g,v);if(g instanceof ArrayBuffer)return uB(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new T4(g,u);var g}(t,sb(e));n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function A4(n,e,t){const i=We(n);var r;(r=(0,fe.Z)(function*(o,u,f){try{const g=yield u.getMetadata();if(yield function(N,U){const H=We(N),te=Fi(U.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",De=>H.Os.getBundleMetadata(De,U.id)).then(De=>!!De&&De.createTime.compareTo(te)>=0)}(o.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=g).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(J2(g));const v=new o4(g,o.localStore,u.Tt);let C=yield u.yc();for(;C;){const N=yield v.Bu(C);N&&f._updateProgress(N),C=yield u.yc()}const T=yield v.complete();return yield Zc(o,T.Uu,void 0),yield function(N,U){const H=We(N);return H.persistence.runTransaction("Save bundle","readwrite",te=>H.Os.saveBundleMetadata(te,U))}(o.localStore,g),f._completeWith(T.progress),Promise.resolve(T.qu)}catch(g){return Ef("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var N}),function(o,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield x1(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function X4(n,e){return function B4(n,e){return n.asyncQueue.enqueue((0,fe.Z)(function*(){return function(t,i){const r=We(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.Os.getNamedQuery(o,i))}(yield tx(n),e)}))}(Li(n=on(n,Bn)),e).then(t=>t?new Fr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ds(this,t):null)}}class px extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Db(new Ol(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(t,this.firestore,null)}}class XB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new px(e)}get(e){const t=Wf(e);return this._delegate.get(t).then(i=>new Eb(this._firestore,new Qc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Wf(e);return i?(V1("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Wf(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Wf(e);return this._delegate.delete(t),this}}class JB{constructor(e){this._delegate=e}set(e,t,i){const r=Wf(e);return i?(V1("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Wf(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Wf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qf{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new mb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=qf.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new qf(e,new px(e),t),r.set(t,o)),o}}qf.INSTANCES=new WeakMap;class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new px(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(t,new Vn(t._delegate,i,new qe(e)))}static forKey(e,t,i){return new ra(t,new Vn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ig(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ig(this.firestore,CB(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof Vn&&xB(this._delegate,e)}set(e,t){t=V1("DocumentReference.set",t);try{return t?$B(this._delegate,e,t):$B(this._delegate,e)}catch(i){throw ws(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?GB(this._delegate,e):GB(this._delegate,e,t,...i)}catch(r){throw ws(r,"updateDoc()","DocumentReference.update()")}}delete(){return function I5(n){return Cg(on(n.firestore,Bn),[new lg(n._key,Kn.none())])}(this._delegate)}onSnapshot(...e){const t=eU(e),i=tU(e,r=>new Eb(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return qB(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function w5(n){n=on(n,Vn);const e=on(n.firestore,Bn),t=Li(e),i=new Bd(e);return function N4(n,e){const t=new er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(i=(0,fe.Z)(function*(r,o,u){try{const f=yield function(g,v){const C=We(g);return C.persistence.runTransaction("read document","readonly",T=>C.localDocuments.getDocument(T,v))}(r,o);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Pe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=yg(f,`Failed to get document '${o} from cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield tx(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Qc(e,i,n._key,r,new $f(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function D5(n){n=on(n,Vn);const e=on(n.firestore,Bn);return mB(Li(e),n._key,{source:"server"}).then(t=>L1(e,n,t))}(this._delegate):function b5(n){n=on(n,Vn);const e=on(n.firestore,Bn);return mB(Li(e),n._key).then(t=>L1(e,n,t))}(this._delegate),t.then(i=>new Eb(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function eU(n){for(const e of n)if("object"==typeof e&&!B1(e))return e;return{}}function tU(n,e){var t,i;let r;return r=B1(n[0])?n[0]:B1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Eb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zB(this._delegate,e._delegate)}}class Cb extends Eb{data(e){const t=this._delegate.data(e);return function L$(n,e){n||Je()}(void 0!==t),t}}class Ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new px(e)}where(e,t,i){try{return new Ds(this.firestore,Ld(this._delegate,function c5(n,e,t){const i=e,r=cx("where",n);return pb._create(r,i,t)}(e,t,i)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ds(this.firestore,Ld(this._delegate,function u5(n,e="asc"){const t=e,i=cx("orderBy",n);return N1._create(i,t)}(e,t)))}catch(i){throw ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ds(this.firestore,Ld(this._delegate,function d5(n){return wB("limit",n),ux._create("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ds(this.firestore,Ld(this._delegate,function h5(n){return wB("limitToLast",n),ux._create("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ds(this.firestore,Ld(this._delegate,function f5(...n){return dx._create("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ds(this.firestore,Ld(this._delegate,function p5(...n){return dx._create("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ds(this.firestore,Ld(this._delegate,function m5(...n){return hx._create("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ds(this.firestore,Ld(this._delegate,function g5(...n){return hx._create("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return S1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function C5(n){n=on(n,Fr);const e=on(n.firestore,Bn),t=Li(e),i=new Bd(e);return function F4(n,e){const t=new er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(i=(0,fe.Z)(function*(r,o,u){try{const f=yield WC(r,o,!0),g=new nB(o,f.Yi),v=g.Hu(f.documents),C=g.applyChanges(v,!1);u.resolve(C.snapshot)}catch(f){const g=yg(f,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield tx(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Vd(e,i,n,r))}(this._delegate):"server"===e?.source?function x5(n){n=on(n,Fr);const e=on(n.firestore,Bn),t=Li(e),i=new Bd(e);return gB(t,n._query,{source:"server"}).then(r=>new Vd(e,i,n,r))}(this._delegate):function E5(n){n=on(n,Fr);const e=on(n.firestore,Bn),t=Li(e),i=new Bd(e);return FB(n._query),gB(t,n._query).then(r=>new Vd(e,i,n,r))}(this._delegate),t.then(i=>new U1(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=eU(e),i=tU(e,r=>new U1(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return qB(this._delegate,t,i)}withConverter(e){return new Ds(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}class Z5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Cb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class U1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Cb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Z5(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Cb(this._firestore,i))})}isEqual(e){return zB(this._delegate,e._delegate)}}class Ig extends Ds{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?ix(this._delegate):ix(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function A5(n,e){const t=on(n.firestore,Bn),i=ix(n),r=fx(n.converter,e);return Cg(t,[ox(jf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Kn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ra(this.firestore,t))}isEqual(e){return xB(this._delegate,e._delegate)}withConverter(e){return new Ig(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}function Wf(n){return on(n,Vn)}class H1{constructor(...e){this._delegate=new Kc(...e)}static documentId(){return new H1(vi.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof Kc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function P5(){return new M1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yf(e)}static delete(){const e=function O5(){return new ub("deleteField")}();return e._methodName="FieldValue.delete",new Yf(e)}static arrayUnion(...e){const t=function N5(...n){return new r5("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yf(t)}static arrayRemove(...e){const t=function F5(...n){return new s5("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yf(t)}static increment(e){const t=function L5(n){return new o5("increment",n)}(e);return t._methodName="FieldValue.increment",new Yf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const K5={Firestore:QB,GeoPoint:rx,Timestamp:Zn,Blob:Db,Transaction:XB,WriteBatch:JB,DocumentReference:ra,DocumentSnapshot:Eb,Query:Ds,QueryDocumentSnapshot:Cb,QuerySnapshot:U1,CollectionReference:Ig,FieldPath:H1,FieldValue:Yf,setLogLevel:function Y5(n){!function F$(n){Dd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function X5(n){(function Q5(n,e){n.INTERNAL.registerComponent(new WE.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},K5)))})(n,(e,t)=>new QB(e,t,new W5)),n.registerVersion("@firebase/firestore-compat","0.3.4")}(z5.Z);class xb{constructor(){qE.Z.initializeApp(qa.firebase),window.addEventListener("DOMContentLoaded",e=>{const t=document.querySelector("audio");null!=t&&(t.volume=.2,t.play())})}}xb.\u0275fac=function(e){return new(e||xb)},xb.\u0275cmp=c.Xpm({type:xb,selectors:[["app-root"]],decls:3,vars:0,consts:[["autoplay","","loop",""],["src","assets/audio/om-chanting.mp3","type","audio/mpeg"]],template:function(e,t){1&e&&(c.TgZ(0,"audio",0),c._UZ(1,"source",1),c.qZA(),c._UZ(2,"router-outlet"))},dependencies:[ST]});var sa=P(2122),j1=P(259);class nU{constructor(){return(0,j1.C6)()}}P(8401);class rU{constructor(){return(0,sa.vb)("auth")}}const q1=new Map,sU={activated:!1,tokenObservers:[]},sq={initialized:!1,enabled:!1};function Lr(n){return q1.get(n)||Object.assign({},sU)}function mx(){return sq}class dq{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,fe.Z)(function*(){t.stop();try{t.pending=new un.BH,yield function hq(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aU(n){if(!Lr(n).activated)throw Es.create("use-before-activation",{appName:n.name})}function Z1(n,e){return K1.apply(this,arguments)}function K1(){return K1=(0,fe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const o={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,o)}catch(T){throw Es.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==u.status)throw Es.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(T){throw Es.create("fetch-parse-error",{originalErrorMessage:T?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(g[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}}),K1.apply(this,arguments)}function gq(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Ib="firebase-app-check-store";let yx=null;function cU(){return yx||(yx=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Es.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ib,{keyPath:"compositeKey"})}}catch(t){e(Es.create("storage-open",{originalErrorMessage:t?.message}))}}),yx)}function Q1(){return Q1=(0,fe.Z)(function*(n,e){const i=(yield cU()).transaction(Ib,"readwrite"),o=i.objectStore(Ib).put({compositeKey:n,value:e});return new Promise((u,f)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var v;f(Es.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})}),Q1.apply(this,arguments)}const Ab=new vd.Yd("@firebase/app-check");function eR(n,e){return(0,un.hl)()?function bq(n,e){return function uU(n,e){return Q1.apply(this,arguments)}(function hU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ab.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fU(){return mx().enabled}function pU(){return nR.apply(this,arguments)}function nR(){return nR=(0,fe.Z)(function*(){const n=mx();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),nR.apply(this,arguments)}const Iq={error:"UNKNOWN_ERROR"};function Aq(n){return un.US.encodeString(JSON.stringify(n),!1)}function vx(n){return iR.apply(this,arguments)}function iR(){return iR=(0,fe.Z)(function*(n,e=!1){const t=n.app;aU(t);const i=Lr(t);let o,r=i.token;if(r&&!Sg(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(Sg(g)?r=g:yield eR(t,void 0))}if(!e&&r&&Sg(r))return{token:r.token};let f,u=!1;if(fU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Z1(gq(t,yield pU()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield eR(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Lr(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Ab.warn(g.message):Ab.error(g),o=g}return r?o?f=Sg(r)?{token:r.token,internalError:o}:_U(o):(f={token:r.token},i.token=r,yield eR(t,r)):f=_U(o),u&&gU(t,f),f}),iR.apply(this,arguments)}function sR(n,e){const t=Lr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function mU(n){const{app:e}=n,t=Lr(e);let i=t.tokenRefresher;i||(i=function Sq(n){const{app:e}=n;return new dq((0,fe.Z)(function*(){let i;if(i=Lr(e).token?yield vx(n,!0):yield vx(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Lr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function gU(n,e){const t=Lr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Sg(n){return n.expireTimeMillis-Date.now()>0}function _U(n){return{token:Aq(Iq),error:n}}class Tq{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Lr(this.app);for(const t of e)sR(this.app,t.next);return Promise.resolve()}}const xU="app-check-internal";!function zq(){(0,jc._registerComponent)(new WE.wA("app-check",n=>function Mq(n,e){return new Tq(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(xU).initialize()})),(0,jc._registerComponent)(new WE.wA(xU,n=>function kq(n){return{getToken:e=>vx(n,e),addTokenListener:e=>function rR(n,e,t,i){const{app:r}=n,o=Lr(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Sg(o.token)){const f=o.token;Promise.resolve().then(()=>{t({token:f.token}),mU(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mU(n))}(n,"INTERNAL",e),removeTokenListener:e=>sR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,jc.registerVersion)("@firebase/app-check","0.6.4")}();class cR{constructor(){return(0,sa.vb)("app-check")}}typeof window<"u"&&window;class dR{constructor(e){return e}}const AU="firestore",hR=new c.OlP("angularfire2.firestore-instances");function Kq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new dR(i)}}const Qq={provide:class Yq{constructor(){return(0,sa.vb)(AU)}},deps:[[new c.FiY,hR]]},Xq={provide:dR,useFactory:function Zq(n,e){const t=(0,sa.JM)(AU,n,e);return t&&new dR(t)},deps:[[new c.FiY,hR],class Ag{constructor(e){return e}}]};let Jq=(()=>{class n{constructor(){(0,j1.KN)("angularfire",sa.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Xq,Qq]}),n})();var Zf=P(2011),wx=P(5363),tW=P(6063);class nW extends rn.x{constructor(e=1/0,t=1/0,i=tW.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;t||(i.push(e),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!e.closed;u+=i?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=t.now();let f=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)f=g;f&&i.splice(0,f+1)}}}var iW=P(3099);function SU(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,iW.B)({connector:()=>new nW(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function TU(n,e){return(0,ta.m)(e)?fr(()=>n,e):fr(()=>n)}var fR=P(9468);const sW=new c.OlP("angularfire2.auth.use-emulator"),oW=new c.OlP("angularfire2.auth.settings"),aW=new c.OlP("angularfire2.auth.tenant-id"),lW=new c.OlP("angularfire2.auth.langugage-code"),cW=new c.OlP("angularfire2.auth.use-device-language"),uW=new c.OlP("angularfire.auth.persistence");let pR=(()=>{class n{constructor(t,i,r,o,u,f,g,v,C,T,N,U){const H=new rn.x,te=at(void 0).pipe((0,wx.Q)(u.outsideAngular),fr(()=>o.runOutsideAngular(()=>P.e(568).then(P.bind(P,9568)))),(0,St.U)(()=>(0,Zf.on)(t,o,i)),(0,St.U)(De=>((n,e,t,i,r,o,u,f)=>(0,Zf.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),u)for(const[v,C]of Object.entries(u))g.settings[v]=C;return f&&g.setPersistence(f),g},[t,i,r,o,u,f]))(De,o,f,v,C,T,g,N)),SU({bufferSize:1,refCount:!1}));if(function zd(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{te.pipe(Uc()).subscribe();const ze=te.pipe(fr(ut=>ut.getRedirectResult().then(Vt=>Vt,()=>null)),sa.iC,SU({bufferSize:1,refCount:!1})),it=te.pipe(fr(ut=>new qi.y(Vt=>({unsubscribe:o.runOutsideAngular(()=>ut.onAuthStateChanged(Pt=>Vt.next(Pt),Pt=>Vt.error(Pt),()=>Vt.complete()))})))),_t=te.pipe(fr(ut=>new qi.y(Vt=>({unsubscribe:o.runOutsideAngular(()=>ut.onIdTokenChanged(Pt=>Vt.next(Pt),Pt=>Vt.error(Pt),()=>Vt.complete()))}))));this.authState=ze.pipe(TU(it),(0,fR.R)(u.outsideAngular),(0,wx.Q)(u.insideAngular)),this.user=ze.pipe(TU(_t),(0,fR.R)(u.outsideAngular),(0,wx.Q)(u.insideAngular)),this.idToken=this.user.pipe(fr(ut=>ut?(0,Wn.D)(ut.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(fr(ut=>ut?(0,Wn.D)(ut.getIdTokenResult()):at(null))),this.credential=(0,dd.T)(ze,H,this.authState.pipe(ps(ut=>!ut))).pipe((0,St.U)(ut=>ut?.user?ut:null),(0,fR.R)(u.outsideAngular),(0,wx.Q)(u.insideAngular))}return(0,Zf.pX)(this,te,o,{spy:{apply:(De,ze,it)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&it.then(_t=>H.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zf.Dh),c.LFG(Zf.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(sa.HU),c.LFG(sW,8),c.LFG(oW,8),c.LFG(aW,8),c.LFG(lW,8),c.LFG(cW,8),c.LFG(uW,8),c.LFG(cR,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hW=(()=>{class n{constructor(){qE.Z.registerVersion("angularfire",sa.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[pR]}),n})();const mR=(0,St.U)(n=>!!n);let MU=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,o)=>{const u=r.data.authGuardPipe||(()=>mR);return this.auth.user.pipe(zs(1),u(r,o),(0,St.U)(f=>"boolean"==typeof f?f:Array.isArray(f)?this.router.createUrlTree(f):this.router.parseUrl(f)))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(pR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pW=(()=>{class n{constructor(){qE.Z.registerVersion("angularfire",sa.q4.full,"auth-guard-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[MU]}),n})();class Tg{}Tg.\u0275fac=function(e){return new(e||Tg)},Tg.\u0275mod=c.oAB({type:Tg,bootstrap:[xb]}),Tg.\u0275inj=c.cJS({imports:[_u,ED,sS,xg,Dc,Ew,YD,cP,VH,Oi,ED,_u,oj,hW,pW,Zf.hO.initializeApp(qa.firebase),function eW(n,...e){return{ngModule:Jq,providers:[{provide:hR,useFactory:Kq(n),multi:!0,deps:[c.R0b,c.zs3,sa.HU,nU,[new c.FiY,rU],[new c.FiY,cR],...e]}]}}(()=>function $4(n,e){const t="object"==typeof n?n:(0,jc.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,jc._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,un.P0)("firestore");o&&EB(r,...o)}return r}())]}),Ps().bootstrapModule(Tg).catch(n=>console.error(n))},9751:(st,Ce,P)=>{P.d(Ce,{y:()=>pe});var c=P(930),V=P(727),G=P(8822),ce=P(9635),ae=P(2416),ee=P(576),be=P(2806);let pe=(()=>{class K{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const $e=new K;return $e.source=this,$e.operator=Te,$e}subscribe(Te,$e,tt){const ge=function $(K){return K&&K instanceof c.Lv||function j(K){return K&&(0,ee.m)(K.next)&&(0,ee.m)(K.error)&&(0,ee.m)(K.complete)}(K)&&(0,V.Nn)(K)}(Te)?Te:new c.Hp(Te,$e,tt);return(0,be.x)(()=>{const{operator:xe,source:Ie}=this;ge.add(xe?xe.call(ge,Ie):Ie?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Te){try{return this._subscribe(Te)}catch($e){Te.error($e)}}forEach(Te,$e){return new($e=me($e))((tt,ge)=>{const xe=new c.Hp({next:Ie=>{try{Te(Ie)}catch(Me){ge(Me),xe.unsubscribe()}},error:ge,complete:tt});this.subscribe(xe)})}_subscribe(Te){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(Te)}[G.L](){return this}pipe(...Te){return(0,ce.U)(Te)(this)}toPromise(Te){return new(Te=me(Te))(($e,tt)=>{let ge;this.subscribe(xe=>ge=xe,xe=>tt(xe),()=>$e(ge))})}}return K.create=Ue=>new K(Ue),K})();function me(K){var Ue;return null!==(Ue=K??ae.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(st,Ce,P)=>{P.d(Ce,{x:()=>be});var c=P(9751),V=P(727);const ce=(0,P(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=P(8737),ee=P(2806);let be=(()=>{class me extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new pe(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new ce}next($){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:Ue,observers:Te}=this;return K||Ue?V.Lc:(this.currentObservers=null,Te.push($),new V.w0(()=>{this.currentObservers=null,(0,ae.P)(Te,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:Ue,isStopped:Te}=this;K?$.error(Ue):Te&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return me.create=(j,$)=>new pe(j,$),me})();class pe extends be{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,j)}error(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==K?K:V.Lc}}},930:(st,Ce,P)=>{P.d(Ce,{Hp:()=>tt,Lv:()=>K});var c=P(576),V=P(727),G=P(2416),ce=P(7849),ae=P(5032);const ee=me("C",void 0,void 0);function me(Ne,ke,Ae){return{kind:Ne,value:ke,error:Ae}}var j=P(3410),$=P(2806);class K extends V.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,V.Nn)(ke)&&ke.add(this)):this.destination=Me}static create(ke,Ae,He){return new tt(ke,Ae,He)}next(ke){this.isStopped?Ie(function pe(Ne){return me("N",Ne,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Ie(function be(Ne){return me("E",void 0,Ne)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Ie(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Te(Ne,ke){return Ue.call(Ne,ke)}class $e{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(ke)}catch(He){ge(He)}}error(ke){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(ke)}catch(He){ge(He)}else ge(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ae){ge(Ae)}}}class tt extends K{constructor(ke,Ae,He){let J;if(super(),(0,c.m)(ke)||!ke)J={next:ke??void 0,error:Ae??void 0,complete:He??void 0};else{let ue;this&&G.v.useDeprecatedNextContext?(ue=Object.create(ke),ue.unsubscribe=()=>this.unsubscribe(),J={next:ke.next&&Te(ke.next,ue),error:ke.error&&Te(ke.error,ue),complete:ke.complete&&Te(ke.complete,ue)}):J=ke}this.destination=new $e(J)}}function ge(Ne){G.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ne):(0,ce.h)(Ne)}function Ie(Ne,ke){const{onStoppedNotification:Ae}=G.v;Ae&&j.z.setTimeout(()=>Ae(Ne,ke))}const Me={closed:!0,next:ae.Z,error:function xe(Ne){throw Ne},complete:ae.Z}},727:(st,Ce,P)=>{P.d(Ce,{Lc:()=>ee,w0:()=>ae,Nn:()=>be});var c=P(576);const G=(0,P(3888).d)(me=>function($){me(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,Ue)=>`${Ue+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ce=P(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Te of $)Te.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,c.m)(K))try{K()}catch(Te){j=Te instanceof G?Te.errors:[Te]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Te of Ue)try{pe(Te)}catch($e){j=j??[],$e instanceof G?j=[...j,...$e.errors]:j.push($e)}}if(j)throw new G(j)}}add(j){var $;if(j&&j!==this)if(this.closed)pe(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ce.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ce.P)($,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const me=new ae;return me.closed=!0,me})();const ee=ae.EMPTY;function be(me){return me instanceof ae||me&&"closed"in me&&(0,c.m)(me.remove)&&(0,c.m)(me.add)&&(0,c.m)(me.unsubscribe)}function pe(me){(0,c.m)(me)?me():me.unsubscribe()}},2416:(st,Ce,P)=>{P.d(Ce,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,P)=>{P.d(Ce,{E:()=>V});const V=new(P(9751).y)(ae=>ae.complete())},8996:(st,Ce,P)=>{P.d(Ce,{D:()=>ke});var c=P(8421),V=P(5363),G=P(9468),ee=P(9751),pe=P(2202),me=P(576),j=P(9672);function K(Ae,He){if(!Ae)throw new Error("Iterable cannot be null");return new ee.y(J=>{(0,j.f)(J,He,()=>{const ue=Ae[Symbol.asyncIterator]();(0,j.f)(J,He,()=>{ue.next().then(we=>{we.done?J.complete():J.next(we.value)})},0,!0)})})}var Ue=P(3670),Te=P(8239),$e=P(1144),tt=P(6495),ge=P(2206),xe=P(4532),Ie=P(3260);function ke(Ae,He){return He?function Ne(Ae,He){if(null!=Ae){if((0,Ue.c)(Ae))return function ce(Ae,He){return(0,c.Xf)(Ae).pipe((0,G.R)(He),(0,V.Q)(He))}(Ae,He);if((0,$e.z)(Ae))return function be(Ae,He){return new ee.y(J=>{let ue=0;return He.schedule(function(){ue===Ae.length?J.complete():(J.next(Ae[ue++]),J.closed||this.schedule())})})}(Ae,He);if((0,Te.t)(Ae))return function ae(Ae,He){return(0,c.Xf)(Ae).pipe((0,G.R)(He),(0,V.Q)(He))}(Ae,He);if((0,ge.D)(Ae))return K(Ae,He);if((0,tt.T)(Ae))return function $(Ae,He){return new ee.y(J=>{let ue;return(0,j.f)(J,He,()=>{ue=Ae[pe.h](),(0,j.f)(J,He,()=>{let we,Y;try{({value:we,done:Y}=ue.next())}catch(X){return void J.error(X)}Y?J.complete():J.next(we)},0,!0)}),()=>(0,me.m)(ue?.return)&&ue.return()})}(Ae,He);if((0,Ie.L)(Ae))return function Me(Ae,He){return K((0,Ie.Q)(Ae),He)}(Ae,He)}throw(0,xe.z)(Ae)}(Ae,He):(0,c.Xf)(Ae)}},8421:(st,Ce,P)=>{P.d(Ce,{Xf:()=>Ue});var c=P(655),V=P(1144),G=P(8239),ce=P(9751),ae=P(3670),ee=P(2206),be=P(4532),pe=P(6495),me=P(3260),j=P(576),$=P(7849),K=P(8822);function Ue(Ne){if(Ne instanceof ce.y)return Ne;if(null!=Ne){if((0,ae.c)(Ne))return function Te(Ne){return new ce.y(ke=>{const Ae=Ne[K.L]();if((0,j.m)(Ae.subscribe))return Ae.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,V.z)(Ne))return function $e(Ne){return new ce.y(ke=>{for(let Ae=0;Ae<Ne.length&&!ke.closed;Ae++)ke.next(Ne[Ae]);ke.complete()})}(Ne);if((0,G.t)(Ne))return function tt(Ne){return new ce.y(ke=>{Ne.then(Ae=>{ke.closed||(ke.next(Ae),ke.complete())},Ae=>ke.error(Ae)).then(null,$.h)})}(Ne);if((0,ee.D)(Ne))return xe(Ne);if((0,pe.T)(Ne))return function ge(Ne){return new ce.y(ke=>{for(const Ae of Ne)if(ke.next(Ae),ke.closed)return;ke.complete()})}(Ne);if((0,me.L)(Ne))return function Ie(Ne){return xe((0,me.Q)(Ne))}(Ne)}throw(0,be.z)(Ne)}function xe(Ne){return new ce.y(ke=>{(function Me(Ne,ke){var Ae,He,J,ue;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,c.KL)(Ne);!(He=yield Ae.next()).done;)if(ke.next(He.value),ke.closed)return}catch(we){J={error:we}}finally{try{He&&!He.done&&(ue=Ae.return)&&(yield ue.call(Ae))}finally{if(J)throw J.error}}ke.complete()})})(Ne,ke).catch(Ae=>ke.error(Ae))})}},6451:(st,Ce,P)=>{P.d(Ce,{T:()=>ee});var c=P(8189),V=P(8421),G=P(515),ce=P(3269),ae=P(8996);function ee(...be){const pe=(0,ce.yG)(be),me=(0,ce._6)(be,1/0),j=be;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,c.J)(me)((0,ae.D)(j,pe)):G.E}},5403:(st,Ce,P)=>{P.d(Ce,{x:()=>V});var c=P(930);function V(ce,ae,ee,be,pe){return new G(ce,ae,ee,be,pe)}class G extends c.Lv{constructor(ae,ee,be,pe,me,j){super(ae),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=ee?function($){try{ee($)}catch(K){ae.error(K)}}:super._next,this._error=pe?function($){try{pe($)}catch(K){ae.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch($){ae.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(st,Ce,P)=>{P.d(Ce,{U:()=>G});var c=P(4482),V=P(5403);function G(ce,ae){return(0,c.e)((ee,be)=>{let pe=0;ee.subscribe((0,V.x)(be,me=>{be.next(ce.call(ae,me,pe++))}))})}},8189:(st,Ce,P)=>{P.d(Ce,{J:()=>G});var c=P(5577),V=P(4671);function G(ce=1/0){return(0,c.z)(V.y,ce)}},5577:(st,Ce,P)=>{P.d(Ce,{z:()=>pe});var c=P(4004),V=P(8421),G=P(4482),ce=P(9672),ae=P(5403),be=P(576);function pe(me,j,$=1/0){return(0,be.m)(j)?pe((K,Ue)=>(0,c.U)((Te,$e)=>j(K,Te,Ue,$e))((0,V.Xf)(me(K,Ue))),$):("number"==typeof j&&($=j),(0,G.e)((K,Ue)=>function ee(me,j,$,K,Ue,Te,$e,tt){const ge=[];let xe=0,Ie=0,Me=!1;const Ne=()=>{Me&&!ge.length&&!xe&&j.complete()},ke=He=>xe<K?Ae(He):ge.push(He),Ae=He=>{Te&&j.next(He),xe++;let J=!1;(0,V.Xf)($(He,Ie++)).subscribe((0,ae.x)(j,ue=>{Ue?.(ue),Te?ke(ue):j.next(ue)},()=>{J=!0},void 0,()=>{if(J)try{for(xe--;ge.length&&xe<K;){const ue=ge.shift();$e?(0,ce.f)(j,$e,()=>Ae(ue)):Ae(ue)}Ne()}catch(ue){j.error(ue)}}))};return me.subscribe((0,ae.x)(j,ke,()=>{Me=!0,Ne()})),()=>{tt?.()}}(K,Ue,me,$)))}},5363:(st,Ce,P)=>{P.d(Ce,{Q:()=>ce});var c=P(9672),V=P(4482),G=P(5403);function ce(ae,ee=0){return(0,V.e)((be,pe)=>{be.subscribe((0,G.x)(pe,me=>(0,c.f)(pe,ae,()=>pe.next(me),ee),()=>(0,c.f)(pe,ae,()=>pe.complete(),ee),me=>(0,c.f)(pe,ae,()=>pe.error(me),ee)))})}},3099:(st,Ce,P)=>{P.d(Ce,{B:()=>ae});var c=P(8421),V=P(7579),G=P(930),ce=P(4482);function ae(be={}){const{connector:pe=(()=>new V.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=be;return K=>{let Ue,Te,$e,tt=0,ge=!1,xe=!1;const Ie=()=>{Te?.unsubscribe(),Te=void 0},Me=()=>{Ie(),Ue=$e=void 0,ge=xe=!1},Ne=()=>{const ke=Ue;Me(),ke?.unsubscribe()};return(0,ce.e)((ke,Ae)=>{tt++,!xe&&!ge&&Ie();const He=$e=$e??pe();Ae.add(()=>{tt--,0===tt&&!xe&&!ge&&(Te=ee(Ne,$))}),He.subscribe(Ae),!Ue&&tt>0&&(Ue=new G.Hp({next:J=>He.next(J),error:J=>{xe=!0,Ie(),Te=ee(Me,me,J),He.error(J)},complete:()=>{ge=!0,Ie(),Te=ee(Me,j),He.complete()}}),(0,c.Xf)(ke).subscribe(Ue))})(K)}}function ee(be,pe,...me){if(!0===pe)return void be();if(!1===pe)return;const j=new G.Hp({next:()=>{j.unsubscribe(),be()}});return(0,c.Xf)(pe(...me)).subscribe(j)}},9468:(st,Ce,P)=>{P.d(Ce,{R:()=>V});var c=P(4482);function V(G,ce=0){return(0,c.e)((ae,ee)=>{ee.add(G.schedule(()=>ae.subscribe(ee),ce))})}},8505:(st,Ce,P)=>{P.d(Ce,{b:()=>ae});var c=P(576),V=P(4482),G=P(5403),ce=P(4671);function ae(ee,be,pe){const me=(0,c.m)(ee)||be||pe?{next:ee,error:be,complete:pe}:ee;return me?(0,V.e)((j,$)=>{var K;null===(K=me.subscribe)||void 0===K||K.call(me);let Ue=!0;j.subscribe((0,G.x)($,Te=>{var $e;null===($e=me.next)||void 0===$e||$e.call(me,Te),$.next(Te)},()=>{var Te;Ue=!1,null===(Te=me.complete)||void 0===Te||Te.call(me),$.complete()},Te=>{var $e;Ue=!1,null===($e=me.error)||void 0===$e||$e.call(me,Te),$.error(Te)},()=>{var Te,$e;Ue&&(null===(Te=me.unsubscribe)||void 0===Te||Te.call(me)),null===($e=me.finalize)||void 0===$e||$e.call(me)}))}):ce.y}},4408:(st,Ce,P)=>{P.d(Ce,{o:()=>ae});var c=P(727);class V extends c.w0{constructor(be,pe){super()}schedule(be,pe=0){return this}}const G={setInterval(ee,be,...pe){const{delegate:me}=G;return me?.setInterval?me.setInterval(ee,be,...pe):setInterval(ee,be,...pe)},clearInterval(ee){const{delegate:be}=G;return(be?.clearInterval||clearInterval)(ee)},delegate:void 0};var ce=P(8737);class ae extends V{constructor(be,pe){super(be,pe),this.scheduler=be,this.work=pe,this.pending=!1}schedule(be,pe=0){var me;if(this.closed)return this;this.state=be;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,pe)),this.pending=!0,this.delay=pe,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId($,this.id,pe),this}requestAsyncId(be,pe,me=0){return G.setInterval(be.flush.bind(be,this),me)}recycleAsyncId(be,pe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return pe;null!=pe&&G.clearInterval(pe)}execute(be,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(be,pe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,pe){let j,me=!1;try{this.work(be)}catch($){me=!0,j=$||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:be,scheduler:pe}=this,{actions:me}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(me,this),null!=be&&(this.id=this.recycleAsyncId(pe,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,P)=>{P.d(Ce,{v:()=>G});var c=P(6063);class V{constructor(ae,ee=V.now){this.schedulerActionCtor=ae,this.now=ee}schedule(ae,ee=0,be){return new this.schedulerActionCtor(this,ae).schedule(be,ee)}}V.now=c.l.now;class G extends V{constructor(ae,ee=V.now){super(ae,ee),this.actions=[],this._active=!1}flush(ae){const{actions:ee}=this;if(this._active)return void ee.push(ae);let be;this._active=!0;do{if(be=ae.execute(ae.state,ae.delay))break}while(ae=ee.shift());if(this._active=!1,be){for(;ae=ee.shift();)ae.unsubscribe();throw be}}}},4986:(st,Ce,P)=>{P.d(Ce,{P:()=>ce,z:()=>G});var c=P(4408);const G=new(P(7565).v)(c.o),ce=G},6063:(st,Ce,P)=>{P.d(Ce,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(st,Ce,P)=>{P.d(Ce,{z:()=>c});const c={setTimeout(V,G,...ce){const{delegate:ae}=c;return ae?.setTimeout?ae.setTimeout(V,G,...ce):setTimeout(V,G,...ce)},clearTimeout(V){const{delegate:G}=c;return(G?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(st,Ce,P)=>{P.d(Ce,{h:()=>V});const V=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,P)=>{P.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ce,P)=>{P.d(Ce,{_6:()=>ee,jO:()=>ce,yG:()=>ae});var c=P(576),V=P(3532);function G(be){return be[be.length-1]}function ce(be){return(0,c.m)(G(be))?be.pop():void 0}function ae(be){return(0,V.K)(G(be))?be.pop():void 0}function ee(be,pe){return"number"==typeof G(be)?be.pop():pe}},8737:(st,Ce,P)=>{function c(V,G){if(V){const ce=V.indexOf(G);0<=ce&&V.splice(ce,1)}}P.d(Ce,{P:()=>c})},3888:(st,Ce,P)=>{function c(V){const ce=V(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(Ce,{d:()=>c})},2806:(st,Ce,P)=>{P.d(Ce,{O:()=>ce,x:()=>G});var c=P(2416);let V=null;function G(ae){if(c.v.useDeprecatedSynchronousErrorHandling){const ee=!V;if(ee&&(V={errorThrown:!1,error:null}),ae(),ee){const{errorThrown:be,error:pe}=V;if(V=null,be)throw pe}}else ae()}function ce(ae){c.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ae)}},9672:(st,Ce,P)=>{function c(V,G,ce,ae=0,ee=!1){const be=G.schedule(function(){ce(),ee?V.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(V.add(be),!ee)return be}P.d(Ce,{f:()=>c})},4671:(st,Ce,P)=>{function c(V){return V}P.d(Ce,{y:()=>c})},1144:(st,Ce,P)=>{P.d(Ce,{z:()=>c});const c=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(st,Ce,P)=>{P.d(Ce,{D:()=>V});var c=P(576);function V(G){return Symbol.asyncIterator&&(0,c.m)(G?.[Symbol.asyncIterator])}},576:(st,Ce,P)=>{function c(V){return"function"==typeof V}P.d(Ce,{m:()=>c})},3670:(st,Ce,P)=>{P.d(Ce,{c:()=>G});var c=P(8822),V=P(576);function G(ce){return(0,V.m)(ce[c.L])}},6495:(st,Ce,P)=>{P.d(Ce,{T:()=>G});var c=P(2202),V=P(576);function G(ce){return(0,V.m)(ce?.[c.h])}},8239:(st,Ce,P)=>{P.d(Ce,{t:()=>V});var c=P(576);function V(G){return(0,c.m)(G?.then)}},3260:(st,Ce,P)=>{P.d(Ce,{L:()=>ce,Q:()=>G});var c=P(655),V=P(576);function G(ae){return(0,c.FC)(this,arguments,function*(){const be=ae.getReader();try{for(;;){const{value:pe,done:me}=yield(0,c.qq)(be.read());if(me)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(pe)}}finally{be.releaseLock()}})}function ce(ae){return(0,V.m)(ae?.getReader)}},3532:(st,Ce,P)=>{P.d(Ce,{K:()=>V});var c=P(576);function V(G){return G&&(0,c.m)(G.schedule)}},4482:(st,Ce,P)=>{P.d(Ce,{A:()=>V,e:()=>G});var c=P(576);function V(ce){return(0,c.m)(ce?.lift)}function G(ce){return ae=>{if(V(ae))return ae.lift(function(ee){try{return ce(ee,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,P)=>{function c(){}P.d(Ce,{Z:()=>c})},9635:(st,Ce,P)=>{P.d(Ce,{U:()=>G,z:()=>V});var c=P(4671);function V(...ce){return G(ce)}function G(ce){return 0===ce.length?c.y:1===ce.length?ce[0]:function(ee){return ce.reduce((be,pe)=>pe(be),ee)}}},7849:(st,Ce,P)=>{P.d(Ce,{h:()=>G});var c=P(2416),V=P(3410);function G(ce){V.z.setTimeout(()=>{const{onUnhandledError:ae}=c.v;if(!ae)throw ce;ae(ce)})}},4532:(st,Ce,P)=>{function c(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ce,{z:()=>c})},655:(st,Ce,P)=>{function ce(Y,X){var de={};for(var se in Y)Object.prototype.hasOwnProperty.call(Y,se)&&X.indexOf(se)<0&&(de[se]=Y[se]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(se=Object.getOwnPropertySymbols(Y);Fe<se.length;Fe++)X.indexOf(se[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Y,se[Fe])&&(de[se[Fe]]=Y[se[Fe]])}return de}function pe(Y,X,de,se){return new(de||(de=Promise))(function(Ve,dt){function nn(zt){try{It(se.next(zt))}catch(bt){dt(bt)}}function pn(zt){try{It(se.throw(zt))}catch(bt){dt(bt)}}function It(zt){zt.done?Ve(zt.value):function Fe(Ve){return Ve instanceof de?Ve:new de(function(dt){dt(Ve)})}(zt.value).then(nn,pn)}It((se=se.apply(Y,X||[])).next())})}function ge(Y){return this instanceof ge?(this.v=Y,this):new ge(Y)}function xe(Y,X,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,se=de.apply(Y,X||[]),Ve=[];return Fe={},dt("next"),dt("throw"),dt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function dt(Zt){se[Zt]&&(Fe[Zt]=function(li){return new Promise(function(Xt,yt){Ve.push([Zt,li,Xt,yt])>1||nn(Zt,li)})})}function nn(Zt,li){try{!function pn(Zt){Zt.value instanceof ge?Promise.resolve(Zt.value.v).then(It,zt):bt(Ve[0][2],Zt)}(se[Zt](li))}catch(Xt){bt(Ve[0][3],Xt)}}function It(Zt){nn("next",Zt)}function zt(Zt){nn("throw",Zt)}function bt(Zt,li){Zt(li),Ve.shift(),Ve.length&&nn(Ve[0][0],Ve[0][1])}}function Me(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,X=Y[Symbol.asyncIterator];return X?X.call(Y):(Y=function K(Y){var X="function"==typeof Symbol&&Symbol.iterator,de=X&&Y[X],se=0;if(de)return de.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&se>=Y.length&&(Y=void 0),{value:Y&&Y[se++],done:!Y}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),de={},se("next"),se("throw"),se("return"),de[Symbol.asyncIterator]=function(){return this},de);function se(Ve){de[Ve]=Y[Ve]&&function(dt){return new Promise(function(nn,pn){!function Fe(Ve,dt,nn,pn){Promise.resolve(pn).then(function(It){Ve({value:It,done:nn})},dt)}(nn,pn,(dt=Y[Ve](dt)).done,dt.value)})}}}P.d(Ce,{FC:()=>xe,KL:()=>Me,_T:()=>ce,mG:()=>pe,qq:()=>ge})},4650:(st,Ce,P)=>{P.d(Ce,{$8M:()=>nc,$WT:()=>Mn,$Z:()=>yI,AFp:()=>ZD,AaK:()=>pe,AsE:()=>gw,CHM:()=>Yd,CRH:()=>SD,CZH:()=>Am,CqO:()=>tw,D6c:()=>eT,EJc:()=>DS,EpF:()=>J0,F$t:()=>ZI,F4k:()=>ew,FYo:()=>Hp,FiY:()=>Ma,Gf:()=>ID,GfV:()=>Wn,Gpc:()=>$,Hsn:()=>KI,Ikx:()=>am,JOm:()=>Ls,KtG:()=>ru,LFG:()=>je,Lbi:()=>XD,Lck:()=>YO,MAs:()=>GI,MMx:()=>oy,MR2:()=>jx,NdJ:()=>fo,O4$:()=>Yl,OlP:()=>$t,Oqu:()=>mw,P3R:()=>c0,PXZ:()=>FS,Q6J:()=>K0,QGY:()=>T_,QbO:()=>hr,Qsj:()=>rn,R0b:()=>kr,RDi:()=>Ix,Rgc:()=>ud,SBq:()=>Fu,Sil:()=>xS,Suo:()=>AD,TTD:()=>Ao,TgZ:()=>Xu,Udp:()=>Mc,W1O:()=>RD,WFA:()=>nw,X6Q:()=>gP,XFs:()=>ht,Xpm:()=>wo,Xts:()=>s_,Y36:()=>Oh,YKP:()=>BA,YNc:()=>$I,Yjl:()=>Eo,Yz7:()=>yt,Z0I:()=>Tn,ZZ4:()=>Nm,_Bn:()=>eD,_UZ:()=>em,_Vd:()=>Cc,_c5:()=>Fm,_uU:()=>pw,aQg:()=>yE,c2e:()=>wS,cJS:()=>Ys,cg1:()=>lm,d8E:()=>B_,dDg:()=>PS,dqk:()=>Tt,eFA:()=>Fy,ekj:()=>N_,eoX:()=>sE,f3M:()=>Ke,g9A:()=>QD,h0i:()=>Fc,hGG:()=>EP,hij:()=>F_,iGM:()=>xD,ifc:()=>gt,ip1:()=>Sy,jDz:()=>wm,kL8:()=>za,kcU:()=>ri,lG2:()=>Ya,lqb:()=>Dc,lri:()=>rE,n5z:()=>tc,oAB:()=>Do,oxw:()=>YI,q4F:()=>at,qLn:()=>Wo,qOj:()=>b_,qZA:()=>Jp,rWj:()=>OS,sBO:()=>zS,s_b:()=>gy,soG:()=>Sm,tBr:()=>lc,tb:()=>My,tp0:()=>I,uIk:()=>Qp,vHH:()=>ge,vpe:()=>ea,wAp:()=>wt,xp6:()=>rI,z2F:()=>ff,zSh:()=>l_,zs3:()=>Bu});var c=P(7579),V=P(727),G=P(9751),ce=P(6451),ae=P(3099);function ee(s){for(let a in s)if(s[a]===ee)return a;throw Error("Could not find renamed property on target object.")}function be(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function me(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const j=ee({__forward_ref__:ee});function $(s){return s.__forward_ref__=$,s.toString=function(){return pe(this())},s}function K(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===$}function Te(s){return s&&!!s.\u0275providers}const tt="https://g.co/ng/security#xss";class ge extends Error{constructor(a,l){super(function xe(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Ie(s){return"string"==typeof s?s:null==s?"":String(s)}function He(s,a){throw new ge(-201,!1)}function zt(s,a){null==s&&function bt(s,a,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ys(s){return{providers:s.providers||[],imports:s.imports||[]}}function Un(s){return xs(s,Qr)||xs(s,xn)}function Tn(s){return null!==Un(s)}function xs(s,a){return s.hasOwnProperty(a)?s[a]:null}function ci(s){return s&&(s.hasOwnProperty(Br)||s.hasOwnProperty(Di))?s[Br]:null}const Qr=ee({\u0275prov:ee}),Br=ee({\u0275inj:ee}),xn=ee({ngInjectableDef:ee}),Di=ee({ngInjectorDef:ee});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Ur;function Qn(s){const a=Ur;return Ur=s,a}function ui(s,a,l){const d=Un(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ht.Optional?null:void 0!==a?a:void He(pe(s))}const Tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hn={},Xn="__NG_DI_FLAG__",Vi="ngTempTokenPath",Is=/\n/gm,Zs="__source";let qt;function nr(s){const a=qt;return qt=s,a}function Hr(s,a=ht.Default){if(void 0===qt)throw new ge(-203,!1);return null===qt?ui(s,void 0,a):qt.get(s,a&ht.Optional?null:void 0,a)}function je(s,a=ht.Default){return(function Zi(){return Ur}()||Hr)(K(s),a)}function Ke(s,a=ht.Default){return je(s,mt(a))}function mt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function kt(s){const a=[];for(let l=0;l<s.length;l++){const d=K(s[l]);if(Array.isArray(d)){if(0===d.length)throw new ge(900,!1);let h,p=ht.Default;for(let y=0;y<d.length;y++){const w=d[y],E=jn(w);"number"==typeof E?-1===E?h=w.token:p|=E:h=w}a.push(je(h,p))}else a.push(je(d))}return a}function Yt(s,a){return s[Xn]=a,s.prototype[Xn]=a,s}function jn(s){return s[Xn]}function W(s){return{toString:s}.toString()}var ve=(()=>((ve=ve||{})[ve.OnPush=0]="OnPush",ve[ve.Default=1]="Default",ve))(),gt=(()=>{return(s=gt||(gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",gt;var s})();const Kt={},Et=[],bn=ee({\u0275cmp:ee}),wn=ee({\u0275dir:ee}),Jt=ee({\u0275pipe:ee}),br=ee({\u0275mod:ee}),zn=ee({\u0275fac:ee}),As=ee({__NG_ELEMENT_ID__:ee});let Xf=0;function wo(s){return W(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Et,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||gt.Emulated,id:"c"+Xf++,styles:s.styles||Et,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,y=s.features;return h.inputs=Ll(s.inputs,d),h.outputs=Ll(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Fl).filter(Jn):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(hi).filter(Jn):null,h})}function Fl(s){return en(s)||_n(s)}function Jn(s){return null!==s}function Do(s){return W(()=>({type:s.type,bootstrap:s.bootstrap||Et,declarations:s.declarations||Et,imports:s.imports||Et,exports:s.exports||Et,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ll(s,a){if(null==s)return Kt;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,a&&(a[h]=p)}return l}const Ya=wo;function Eo(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[bn]||null}function _n(s){return s[wn]||null}function hi(s){return s[Jt]||null}function Mn(s){const a=en(s)||_n(s)||hi(s);return null!==a&&a.standalone}function Ci(s,a){const l=s[br]||null;if(!l&&!0===a)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return l}function Xi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ji(s){return Array.isArray(s)&&!0===s[1]}function ts(s){return 0!=(4&s.flags)}function ua(s){return s.componentOffset>-1}function Bl(s){return 1==(1&s.flags)}function ni(s){return null!==s.template}function ep(s){return 0!=(256&s[2])}function Js(s,a){return s.hasOwnProperty(zn)?s[zn]:null}class Io{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ao(){return So}function So(s){return s.type.prototype.ngOnChanges&&(s.setInput=eo),nl}function nl(){const s=il(this),a=s?.current;if(a){const l=s.previous;if(l===Kt)s.previous=a;else for(let d in a)l[d]=a[d];s.current=null,this.ngOnChanges(a)}}function eo(s,a,l,d){const h=this.declaredInputs[l],p=il(s)||function rl(s,a){return s[To]=a}(s,{previous:Kt,current:null}),y=p.current||(p.current={}),w=p.previous,E=w[h];y[h]=new Io(E&&E.currentValue,a,w===Kt),s[d]=a}Ao.ngInherit=!0;const To="__ngSimpleChanges__";function il(s){return s[To]||null}function In(s){for(;Array.isArray(s);)s=s[0];return s}function Ss(s,a){return In(a[s])}function ii(s,a){return In(a[s.index])}function sl(s,a){return s.data[a]}function Gn(s,a){const l=a[s];return Xi(l)?l:l[0]}function no(s){return 64==(64&s[2])}function Er(s,a){return null==a?null:s[a]}function zl(s){s[18]=0}function io(s,a){s[5]+=a;let l=s,d=s[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Rt={lFrame:op(null),bindingsEnabled:!0};function iu(){return Rt.bindingsEnabled}function _e(){return Rt.lFrame.lView}function Wt(){return Rt.lFrame.tView}function Yd(s){return Rt.lFrame.contextLView=s,s[8]}function ru(s){return Rt.lFrame.contextLView=null,s}function qn(){let s=Gl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Gl(){return Rt.lFrame.currentTNode}function Cr(s,a){const l=Rt.lFrame;l.currentTNode=s,l.isParent=a}function Ro(){return Rt.lFrame.isParent}function su(){Rt.lFrame.isParent=!1}function rs(){return Rt.lFrame.bindingIndex++}function Ts(s){const a=Rt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function ql(s,a){const l=Rt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ms(a)}function Ms(s){Rt.lFrame.currentDirectiveIndex=s}function _a(s){const a=Rt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Qd(){return Rt.lFrame.currentQueryIndex}function Wl(s){Rt.lFrame.currentQueryIndex=s}function au(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Xd(s,a,l){if(l&ht.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||l&ht.Host||(h=au(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;a=h,s=p}const d=Rt.lFrame=sp();return d.currentTNode=a,d.lView=s,!0}function ll(s){const a=sp(),l=s[1];Rt.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function sp(){const s=Rt.lFrame,a=null===s?null:s.child;return null===a?op(s):a}function op(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ap(){const s=Rt.lFrame;return Rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const lu=ap;function lp(){const s=ap();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Hi(){return Rt.lFrame.selectedIndex}function ss(s){Rt.lFrame.selectedIndex=s}function an(){const s=Rt.lFrame;return sl(s.tView,s.selectedIndex)}function Yl(){Rt.lFrame.currentNamespace="svg"}function ri(){!function eh(){Rt.lFrame.currentNamespace=null}()}function ya(s,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function Fo(s,a,l){du(s,a,3,l)}function os(s,a,l,d){(3&s[2])===l&&du(s,a,l,d)}function $r(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function du(s,a,l,d){const p=d??-1,y=a.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=d&&w>=d)break}else a[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(cl(s,l,a,E),s[18]=(4294901760&s[18])+E+2),E++}function cl(s,a,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class va{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ro(s,a,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const p=l[d++],y=l[d++],w=l[d++];s.setAttribute(a,y,w,p)}else{const p=h,y=l[++d];Da(p)?s.setProperty(a,p,y):s.setAttribute(a,p,y),d++}}return d}function so(s){return 3===s||4===s||6===s}function Da(s){return 64===s.charCodeAt(0)}function xr(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?l=h:0===l||Zl(s,l,h,null,-1===l||2===l?a[++d]:null)}}return s}function Zl(s,a,l,d,h){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Kl(s){return-1!==s}function Ea(s){return 32767&s}function oo(s,a){let l=function Ql(s){return s>>16}(s),d=a;for(;l>0;)d=d[15],l--;return d}let Vo=!0;function Gr(s){const a=Vo;return Vo=s,a}let hu=0;const Ii={};function Os(s,a){const l=Xl(s,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,Uo(d.data,s),Uo(a,null),Uo(d.blueprint,null));const h=xa(s,a),p=s.injectorIndex;if(Kl(h)){const y=Ea(h),w=oo(h,a),E=w[1].data;for(let S=0;S<8;S++)a[p+S]=w[y+S]|E[y+S]}return a[p+8]=h,p}function Uo(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Xl(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function xa(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=a;for(;null!==h;){if(d=rh(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function pu(s,a,l){!function fu(s,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(As)&&(d=l[As]),null==d&&(d=l[As]=hu++);const h=255&d;a.data[s+(h>>5)]|=1<<h}(s,a,l)}function mu(s,a,l){if(l&ht.Optional||void 0!==s)return s;He()}function Ho(s,a,l,d){if(l&ht.Optional&&void 0===d&&(d=null),!(l&(ht.Self|ht.Host))){const h=s[9],p=Qn(void 0);try{return h?h.get(a,d,l&ht.Optional):ui(a,d,l&ht.Optional)}finally{Qn(p)}}return mu(d,0,l)}function nh(s,a,l,d=ht.Default,h){if(null!==s){if(1024&a[2]){const y=function _u(s,a,l,d,h){let p=s,y=a;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Ir(p,y,l,d|ht.Self,Ii);if(w!==Ii)return w;let E=p.parent;if(!E){const S=y[21];if(S){const R=S.get(l,Ii,d);if(R!==Ii)return R}E=rh(y),y=y[15]}p=E}return h}(s,a,l,d,Ii);if(y!==Ii)return y}const p=Ir(s,a,l,d,Ii);if(p!==Ii)return p}return Ho(a,l,d,h)}function Ir(s,a,l,d,h){const p=function gu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(As)?s[As]:void 0;return"number"==typeof a?a>=0?255&a:ih:a}(l);if("function"==typeof p){if(!Xd(a,s,d))return d&ht.Host?mu(h,0,d):Ho(a,l,d,h);try{const y=p(d);if(null!=y||d&ht.Optional)return y;He()}finally{lu()}}else if("number"==typeof p){let y=null,w=Xl(s,a),E=-1,S=d&ht.Host?a[16][6]:null;for((-1===w||d&ht.SkipSelf)&&(E=-1===w?xa(s,a):a[w+8],-1!==E&&zi(d,!1)?(y=a[1],w=Ea(E),a=oo(E,a)):w=-1);-1!==w;){const R=a[1];if(ec(p,w,R.data)){const F=Jl(w,a,l,y,d,S);if(F!==Ii)return F}E=a[w+8],-1!==E&&zi(d,a[1].data[w+8]===S)&&ec(p,w,a)?(y=R,w=Ea(E),a=oo(E,a)):w=-1}}return h}function Jl(s,a,l,d,h,p){const y=a[1],w=y.data[s+8],R=Ia(w,y,l,null==d?ua(w)&&Vo:d!=y&&0!=(3&w.type),h&ht.Host&&p===w);return null!==R?Ar(a,y,R,w):Ii}function Ia(s,a,l,d,h){const p=s.providerIndexes,y=a.data,w=1048575&p,E=s.directiveStart,R=p>>20,q=h?w+R:s.directiveEnd;for(let ie=d?w:w+R;ie<q;ie++){const ye=y[ie];if(ie<E&&l===ye||ie>=E&&ye.type===l)return ie}if(h){const ie=y[E];if(ie&&ni(ie)&&ie.type===l)return E}return null}function Ar(s,a,l,d){let h=s[l];const p=a.data;if(function ji(s){return s instanceof va}(h)){const y=h;y.resolving&&function Ne(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ge(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ie(s)}(p[l]));const w=Gr(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Qn(y.injectImpl):null;Xd(s,d,ht.Default);try{h=s[l]=y.factory(void 0,p,s,d),a.firstCreatePass&&l>=d.directiveStart&&function uu(s,a,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const y=So(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],a)}finally{null!==E&&Qn(E),Gr(w),y.resolving=!1,lu()}}return h}function ec(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function zi(s,a){return!(s&ht.Self||s&ht.Host&&a)}class Ps{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return nh(this._tNode,this._lView,a,mt(d),l)}}function ih(){return new Ps(qn(),_e())}function tc(s){return W(()=>{const a=s.prototype.constructor,l=a[zn]||jo(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[zn]||jo(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function jo(s){return Ue(s)?()=>{const a=jo(K(s));return a&&a()}:Js(s)}function rh(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function nc(s){return function ul(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(so(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===a)return l[h+1];h+=2}}}return null}(qn(),s)}const Aa="__parameters__";function dl(s,a,l){return W(()=>{const d=function yu(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(E,S,R){const F=E.hasOwnProperty(Aa)?E[Aa]:Object.defineProperty(E,Aa,{value:[]})[Aa];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(y),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class $t{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function as(s,a){s.forEach(l=>Array.isArray(l)?as(l,a):a(l))}function sc(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function Ta(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Ns(s,a){const l=[];for(let d=0;d<s;d++)l.push(a);return l}function $i(s,a,l){let d=Si(s,a);return d>=0?s[1|d]=l:(d=~d,function Pg(s,a,l,d){let h=s.length;if(h==a)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=l,s[a+1]=d}}(s,d,a,l)),d}function fl(s,a){const l=Si(s,a);if(l>=0)return s[1|l]}function Si(s,a){return function pl(s,a,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(a===y)return p<<l;y>a?h=p:d=p+1}return~(h<<l)}(s,a,1)}const lc=Yt(dl("Inject",s=>({token:s})),-1),Ma=Yt(dl("Optional"),8),I=Yt(dl("SkipSelf"),4);var Ls=(()=>((Ls=Ls||{})[Ls.Important=1]="Important",Ls[Ls.DashCase=2]="DashCase",Ls))();const dc=new Map;let hc=0;const yh="__ngContext__";function On(s,a){Xi(a)?(s[yh]=a[20],function ar(s){dc.set(s[20],s)}(a)):s[yh]=a}function Se(s,a){return undefined(s,a)}function et(s){const a=s[3];return Ji(a)?a[3]:a}function lr(s){return Pa(s[13])}function mi(s){return Pa(s[4])}function Pa(s){for(;null!==s&&!Ji(s);)s=s[4];return s}function Vs(s,a,l,d,h){if(null!=d){let p,y=!1;Ji(d)?p=d:Xi(d)&&(y=!0,d=d[0]);const w=In(d);0===s&&null!==l?null==h?Lb(a,l,w):gc(a,l,w,h||null,!0):1===s&&null!==l?gc(a,l,w,h||null,!0):2===s?function Su(s,a,l){const d=_c(s,a);d&&function ds(s,a,l,d){s.removeChild(a,l,d)}(s,d,a,l)}(a,w,y):3===s&&a.destroyNode(w),null!=p&&function Gg(s,a,l,d,h){const p=l[7];p!==In(l)&&Vs(a,s,d,p,h);for(let w=10;w<l.length;w++){const E=l[w];Mu(E[1],E,s,a,d,p)}}(a,s,p,l,h)}}function mc(s,a,l){return s.createElement(a,l)}function yl(s,a){const l=s[9],d=l.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,io(h,-1)),l.splice(d,1)}function zg(s,a){if(s.length<=10)return;const l=10+a,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&yl(h,d),a>0&&(s[l-1][4]=d[4]);const p=Ta(s,10+a);!function bh(s,a){Mu(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function wp(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Mu(s,a,l,3,null,null),function wh(s){let a=s[13];if(!a)return Dp(s[1],s);for(;a;){let l=null;if(Xi(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==s;)Xi(a)&&Dp(a[1],a),a=a[3];null===a&&(a=s),Xi(a)&&Dp(a[1],a),l=a&&a[4]}a=l}}(a)}}function Dp(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Ep(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=a[l[d]];if(!(h instanceof va)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,a),function Dh(s,a){const l=s.cleanup,d=a[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Ji(a[3])){l!==a[3]&&yl(l,a);const d=a[19];null!==d&&d.detachView(s)}!function fc(s){dc.delete(s[20])}(a)}}function Fb(s,a,l){return function Cp(s,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===gt.None||p===gt.Emulated)return null}return ii(d,l)}}(s,a.parent,l)}function gc(s,a,l,d,h){s.insertBefore(a,l,d,h)}function Lb(s,a,l){s.appendChild(a,l)}function Vb(s,a,l,d,h){null!==d?gc(s,a,l,d,h):Lb(s,a,l)}function _c(s,a){return s.parentNode(a)}function Bb(s,a,l){return Hb(s,a,l)}let Yg,Tp,Hb=function Ub(s,a,l){return 40&s.type?ii(s,l):null};function yc(s,a,l,d){const h=Fb(s,d,a),p=a[11],w=Bb(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)Vb(p,h,l[E],w,!1);else Vb(p,h,l,w,!1)}function Ip(s,a){if(null!==a){const l=a.type;if(3&l)return ii(a,s);if(4&l)return $g(-1,s[a.index]);if(8&l){const d=a.child;if(null!==d)return Ip(s,d);{const h=s[a.index];return Ji(h)?$g(-1,h):In(h)}}if(32&l)return Se(a,s)()||In(s[a.index]);{const d=zb(s,a);return null!==d?Array.isArray(d)?d[0]:Ip(et(s[16]),d):Ip(s,a.next)}}return null}function zb(s,a){return null!==a?s[16][6].projection[a.projection]:null}function $g(s,a){const l=10+s+1;if(l<a.length){const d=a[l],h=d[1].firstChild;if(null!==h)return Ip(d,h)}return a[7]}function Tu(s,a,l,d,h,p,y){for(;null!=l;){const w=d[l.index],E=l.type;if(y&&0===a&&(w&&On(In(w),d),l.flags|=2),32!=(32&l.flags))if(8&E)Tu(s,a,l.child,d,h,p,!1),Vs(a,s,h,w,p);else if(32&E){const S=Se(l,d);let R;for(;R=S();)Vs(a,s,h,R,p);Vs(a,s,h,w,p)}else 16&E?Gb(s,a,d,l,h,p):Vs(a,s,h,w,p);l=y?l.projectionNext:l.next}}function Mu(s,a,l,d,h,p){Tu(l,d,s.firstChild,a,h,p,!1)}function Gb(s,a,l,d,h,p){const y=l[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)Vs(a,s,h,E[S],p);else Tu(s,a,E,y[3],h,p,!0)}function Wb(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function Yb(s,a,l){const{mergedAttrs:d,classes:h,styles:p}=l;null!==d&&ro(s,a,d),null!==h&&Wb(s,a,h),null!==p&&function xx(s,a,l){s.setAttribute(a,"style",l)}(s,a,p)}function Ix(s){Yg=s}function Eh(s){return function Zg(){if(void 0===Tp&&(Tp=null,Tt.trustedTypes))try{Tp=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Tp}()?.createScriptURL(s)||s}class kp{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}function Go(s){return s instanceof kp?s.changingThisBreaksApplicationSecurity:s}function Op(s,a){const l=function Tx(s){return s instanceof kp&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${tt})`)}return l===a}const Nx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var gi=(()=>((gi=gi||{})[gi.NONE=0]="NONE",gi[gi.HTML=1]="HTML",gi[gi.STYLE=2]="STYLE",gi[gi.SCRIPT=3]="SCRIPT",gi[gi.URL=4]="URL",gi[gi.RESOURCE_URL=5]="RESOURCE_URL",gi))();function i_(s){const a=Ih();return a?a.sanitize(gi.URL,s)||"":Op(s,"URL")?Go(s):function Kg(s){return(s=String(s)).match(Nx)?s:"unsafe:"+s}(Ie(s))}function fs(s){const a=Ih();if(a)return Eh(a.sanitize(gi.RESOURCE_URL,s)||"");if(Op(s,"ResourceURL"))return Eh(Go(s));throw new ge(904,!1)}function c0(s,a,l){return function l0(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?fs:i_}(a,l)(s)}function Ih(){const s=_e();return s&&s[12]}const s_=new $t("ENVIRONMENT_INITIALIZER"),Np=new $t("INJECTOR",-1),u0=new $t("INJECTOR_DEF_TYPES");class o_{get(a,l=Hn){if(l===Hn){const d=new Error(`NullInjectorError: No provider for ${pe(a)}!`);throw d.name="NullInjectorError",d}return l}}function jx(s){return{\u0275providers:s}}function zx(...s){return{\u0275providers:d0(0,s),\u0275fromNgModule:!0}}function d0(s,...a){const l=[],d=new Set;let h;return as(a,p=>{const y=p;Fp(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&h0(h,l),l}function h0(s,a){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Lp(h,p=>{a.push(p)})}}function Fp(s,a,l,d){if(!(s=K(s)))return!1;let h=null,p=ci(s);const y=!p&&en(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const E=s.ngModule;if(p=ci(E),!p)return!1;h=E}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of E)Fp(S,a,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;d.add(h);try{as(p.imports,R=>{Fp(R,a,l,d)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&h0(S,a)}if(!w){const S=Js(h)||(()=>new h);a.push({provide:h,useFactory:S,deps:Et},{provide:u0,useValue:h,multi:!0},{provide:s_,useValue:()=>je(h),multi:!0})}const E=p.providers;null==E||w||Lp(E,R=>{a.push(R)})}}return h!==s&&void 0!==s.providers}function Lp(s,a){for(let l of s)Te(l)&&(l=l.\u0275providers),Array.isArray(l)?Lp(l,a):a(l)}const $x=ee({provide:String,useValue:ee});function Vp(s){return null!==s&&"object"==typeof s&&$x in s}function wc(s){return"function"==typeof s}const l_=new $t("Set Injector scope."),Bp={},m0={};let Ah;function Sh(){return void 0===Ah&&(Ah=new o_),Ah}class Dc{}class qx extends Dc{get destroyed(){return this._destroyed}constructor(a,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ec(a,y=>this.processProvider(y)),this.records.set(Np,Th(void 0,this)),h.has("environment")&&this.records.set(Dc,Th(void 0,this));const p=this.records.get(l_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(u0.multi,Et,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=nr(this),d=Qn(void 0);try{return a()}finally{nr(l),Qn(d)}}get(a,l=Hn,d=ht.Default){this.assertNotDestroyed(),d=mt(d);const h=nr(this),p=Qn(void 0);try{if(!(d&ht.SkipSelf)){let w=this.records.get(a);if(void 0===w){const E=function y0(s){return"function"==typeof s||"object"==typeof s&&s instanceof $t}(a)&&Un(a);w=E&&this.injectableDefInScope(E)?Th(g0(a),Bp):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&ht.Self?Sh():this.parent).get(a,l=d&ht.Optional&&l===Hn?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Vi]=y[Vi]||[]).unshift(pe(a)),h)throw y;return function z(s,a,l,d){const h=s[Vi];throw a[Zs]&&h.unshift(a[Zs]),s.message=function B(s,a,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(a);if(Array.isArray(a))h=a.map(pe).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Is,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[Vi]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{Qn(p),nr(h)}}resolveInjectorInitializers(){const a=nr(this),l=Qn(void 0);try{const d=this.get(s_.multi,Et,ht.Self);for(const h of d)h()}finally{nr(a),Qn(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(pe(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(a){let l=wc(a=K(a))?a:K(a&&a.provide);const d=function c_(s){return Vp(s)?Th(void 0,s.useValue):Th(Ti(s),Bp)}(a);if(wc(a)||!0!==a.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Th(void 0,Bp,!0),h.factory=()=>kt(h.multi),this.records.set(l,h)),l=a,h.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Bp&&(l.value=m0,l.value=l.factory()),"object"==typeof l.value&&l.value&&function _0(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=K(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function g0(s){const a=Un(s),l=null!==a?a.factory:Js(s);if(null!==l)return l;if(s instanceof $t)throw new ge(204,!1);if(s instanceof Function)return function DR(s){const a=s.length;if(a>0)throw Ns(a,"?"),new ge(204,!1);const l=function aa(s){const a=s&&(s[Qr]||s[xn]);if(a){const l=function bo(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new ge(204,!1)}function Ti(s,a,l){let d;if(wc(s)){const h=K(s);return Js(h)||g0(h)}if(Vp(s))d=()=>K(s.useValue);else if(function p0(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...kt(s.deps||[]));else if(function f0(s){return!(!s||!s.useExisting)}(s))d=()=>je(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function Ou(s){return!!s.deps}(s))return Js(h)||g0(h);d=()=>new h(...kt(s.deps))}return d}function Th(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function Ec(s,a){for(const l of s)Array.isArray(l)?Ec(l,a):l&&Te(l)?Ec(l.\u0275providers,a):a(l)}class Wx{}class Pu{}class Mh{resolveComponentFactory(a){throw function Up(s){const a=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Cc=(()=>{class s{}return s.NULL=new Mh,s})();function Zx(){return Nu(qn(),_e())}function Nu(s,a){return new Fu(ii(s,a))}let Fu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Zx,s})();function bl(s){return s instanceof Fu?s.nativeElement:s}class Hp{}let rn=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Us(){const s=_e(),l=Gn(qn().index,s);return(Xi(l)?l:s)[11]}(),s})(),Lu=(()=>{class s{}return s.\u0275prov=yt({token:s,providedIn:"root",factory:()=>null}),s})();class Wn{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const at=new Wn("15.1.1"),v0={};function w0(s){return s.ngOriginalError}class Wo{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&w0(a);for(;l&&w0(l);)l=w0(l);return l||null}}function Hs(s){return s instanceof Function?s():s}function Jx(s,a,l){let d=s.length;for(;;){const h=s.indexOf(a,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const eI="ng-template";function IR(s,a,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Jx(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function tI(s){return 4===s.type&&s.value!==eI}function AR(s,a,l){return a===(4!==s.type||l?s.value:eI)}function SR(s,a,l){let d=4;const h=s.attrs||[],p=function kR(s){for(let a=0;a<s.length;a++)if(so(s[a]))return a;return s.length}(h);let y=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!AR(s,E,l)||""===E&&1===a.length){if(Yo(d))return!1;y=!0}}else{const S=8&d?E:a[++w];if(8&d&&null!==s.attrs){if(!IR(s.attrs,S,l)){if(Yo(d))return!1;y=!0}continue}const F=TR(8&d?"class":E,h,tI(s),l);if(-1===F){if(Yo(d))return!1;y=!0;continue}if(""!==S){let q;q=F>p?"":h[F+1].toLowerCase();const ie=8&d?q:null;if(ie&&-1!==Jx(ie,S,0)||2&d&&S!==q){if(Yo(d))return!1;y=!0}}}}else{if(!y&&!Yo(d)&&!Yo(E))return!1;if(y&&Yo(E))continue;y=!1,d=E|1&d}}return Yo(d)||y}function Yo(s){return 0==(1&s)}function TR(s,a,l,d){if(null===a)return-1;let h=0;if(d||!l){let p=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function RR(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,s)}function nI(s,a,l=!1){for(let d=0;d<a.length;d++)if(SR(s,a[d],l))return!0;return!1}function OR(s,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function iI(s,a){return s?":not("+a.trim()+")":a}function PR(s){let a=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Yo(y)&&(a+=iI(p,h),h=""),d=y,p=p||!Yo(d);l++}return""!==h&&(a+=iI(p,h)),a}const Ut={};function rI(s){sI(Wt(),_e(),Hi()+s,!1)}function sI(s,a,l,d){if(!d)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&Fo(a,p,l)}else{const p=s.preOrderHooks;null!==p&&os(a,p,0,l)}ss(l)}function cI(s,a=null,l=null,d){const h=uI(s,a,l,d);return h.resolveInjectorInitializers(),h}function uI(s,a=null,l=null,d,h=new Set){const p=[l||Et,zx(s)];return d=d||("object"==typeof s?void 0:pe(s)),new qx(p,a||Sh(),d||null,h)}let Bu=(()=>{class s{static create(l,d){if(Array.isArray(l))return cI({name:""},d,l,"");{const h=l.name??"";return cI({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=Hn,s.NULL=new o_,s.\u0275prov=yt({token:s,providedIn:"any",factory:()=>je(Np)}),s.__NG_ELEMENT_ID__=-1,s})();function Oh(s,a=ht.Default){const l=_e();return null===l?je(s,a):nh(qn(),l,K(s),a)}function yI(){throw new Error("invalid")}function vI(s,a){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const p=l[d+1];if(-1!==p){const y=s.data[p];Wl(l[d]),y.contentQueries(2,a[p],p)}}}function p_(s,a,l,d,h,p,y,w,E,S,R){const F=a.blueprint.slice();return F[0]=h,F[2]=76|d,(null!==R||s&&1024&s[2])&&(F[2]|=1024),zl(F),F[3]=F[15]=s,F[8]=l,F[10]=y||s&&s[10],F[11]=w||s&&s[11],F[12]=E||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=p,F[20]=function gh(){return hc++}(),F[21]=R,F[16]=2==a.type?s[16]:F,F}function Ph(s,a,l,d,h){let p=s.data[a];if(null===p)p=function A0(s,a,l,d,h){const p=Gl(),y=Ro(),E=s.data[a]=function sO(s,a,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,a,d,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,a,l,d,h),function ou(){return Rt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function ko(){const s=Rt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Cr(p,!0),p}function $p(s,a,l,d){if(0===l)return-1;const h=a.length;for(let p=0;p<l;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function S0(s,a,l){ll(a);try{const d=s.viewQuery;null!==d&&qp(1,d,l);const h=s.template;null!==h&&bI(s,a,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&vI(s,a),s.staticViewQueries&&qp(2,s.viewQuery,l);const p=s.components;null!==p&&function nO(s,a){for(let l=0;l<a.length;l++)_i(s,a[l])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,lp()}}function m_(s,a,l,d){const h=a[2];if(128!=(128&h)){ll(a);try{zl(a),function Po(s){return Rt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&bI(s,a,l,2,d);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&Fo(a,S,null)}else{const S=s.preOrderHooks;null!==S&&os(a,S,0,null),$r(a,0)}if(function __(s){for(let a=lr(s);null!==a;a=mi(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const h=l[d];512&h[2]||io(h[3],1),h[2]|=512}}}(a),function oi(s){for(let a=lr(s);null!==a;a=mi(a))for(let l=10;l<a.length;l++){const d=a[l],h=d[1];no(d)&&m_(h,d,h.template,d[8])}}(a),null!==s.contentQueries&&vI(s,a),y){const S=s.contentCheckHooks;null!==S&&Fo(a,S)}else{const S=s.contentHooks;null!==S&&os(a,S,1),$r(a,1)}!function eO(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)ss(~h);else{const p=h,y=l[++d],w=l[++d];ql(y,p),w(2,a[p])}}}finally{ss(-1)}}(s,a);const w=s.components;null!==w&&function tO(s,a){for(let l=0;l<a.length;l++)SI(s,a[l])}(a,w);const E=s.viewQuery;if(null!==E&&qp(2,E,d),y){const S=s.viewCheckHooks;null!==S&&Fo(a,S)}else{const S=s.viewHooks;null!==S&&os(a,S,2),$r(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,io(a[3],-1))}finally{lp()}}}function bI(s,a,l,d,h){const p=Hi(),y=2&d;try{ss(-1),y&&a.length>22&&sI(s,a,22,!1),l(d,h)}finally{ss(p)}}function T0(s,a,l){if(ts(a)){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function M0(s,a,l){iu()&&(function dO(s,a,l,d){const h=l.directiveStart,p=l.directiveEnd;ua(l)&&function Nh(s,a,l){const d=ii(a,s),h=wI(l),p=s[10],y=Gp(s,p_(s,h,null,l.onPush?32:16,d,a,p,p.createRenderer(d,l),null,null,null));s[a.index]=y}(a,l,s.data[h+l.componentOffset]),s.firstCreatePass||Os(l,a),On(d,a);const y=l.initialInputs;for(let w=h;w<p;w++){const E=s.data[w],S=Ar(a,s,w,l);On(S,a),null!==y&&xc(0,w-h,S,E,0,y),ni(E)&&(Gn(l.index,a)[8]=Ar(a,s,w,l))}}(s,a,l,ii(l,a)),64==(64&l.flags)&&P0(s,a,l))}function k0(s,a,l=ii){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(a,s):s[y];s[h++]=w}}}function wI(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=R0(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function R0(s,a,l,d,h,p,y,w,E,S){const R=22+d,F=R+h,q=function iO(s,a){const l=[];for(let d=0;d<a;d++)l.push(d<s?null:Ut);return l}(R,F),ie="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:w,declTNode:a,data:q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:ie,incompleteFirstPass:!1}}function DI(s,a,l,d){const h=F0(a);null===l?h.push(d):(h.push(l),s.firstCreatePass&&y_(s).push(d,h.length-1))}function EI(s,a,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const p=s[h];null===d?CI(l,a,h,p):d.hasOwnProperty(h)&&CI(l,a,d[h],p)}return l}function CI(s,a,l,d){s.hasOwnProperty(l)?s[l].push(a,d):s[l]=[a,d]}function js(s,a,l,d,h,p,y,w){const E=ii(a,l);let R,S=a.inputs;!w&&null!=S&&(R=S[d])?(v_(s,l,R,d,h),ua(a)&&xI(l,a.index)):3&a.type&&(d=function aO(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,p.setProperty(E,d,h))}function xI(s,a){const l=Gn(a,s);16&l[2]||(l[2]|=32)}function O0(s,a,l,d){let h=!1;if(iu()){const p=null===d?null:{"":-1},y=function La(s,a){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];if(nI(a,y.selectors,!1))if(d||(d=[]),ni(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),d.unshift(...w,y),Mi(s,a,w.length)}else d.unshift(y),Mi(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,l);let w,E;null===y?w=E=null:[w,E]=y,null!==w&&(h=!0,II(s,a,l,w,p,E)),p&&function ki(s,a,l){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=l[a[h+1]];if(null==p)throw new ge(-301,!1);d.push(a[h],p)}}}(l,d,p)}return l.mergedAttrs=xr(l.mergedAttrs,l.attrs),h}function II(s,a,l,d,h,p){for(let S=0;S<d.length;S++)pu(Os(l,a),s,d[S].type);!function ps(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}(l,s.data.length,d.length);for(let S=0;S<d.length;S++){const R=d[S];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,E=$p(s,a,d.length,null);for(let S=0;S<d.length;S++){const R=d[S];l.mergedAttrs=xr(l.mergedAttrs,R.hostAttrs),N0(s,l,a,E,R),zs(E,R,h),null!==R.contentQueries&&(l.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=64);const F=R.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),y=!0),!w&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),w=!0),E++}!function oO(s,a,l){const h=a.directiveEnd,p=s.data,y=a.attrs,w=[];let E=null,S=null;for(let R=a.directiveStart;R<h;R++){const F=p[R],q=l?l.get(F):null,ye=q?q.outputs:null;E=EI(F.inputs,R,E,q?q.inputs:null),S=EI(F.outputs,R,S,ye);const Be=null===E||null===y||tI(a)?null:AI(E,R,y);w.push(Be)}null!==E&&(E.hasOwnProperty("class")&&(a.flags|=8),E.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=E,a.outputs=S}(s,l,p)}function P0(s,a,l){const d=l.directiveStart,h=l.directiveEnd,p=l.index,y=function Kd(){return Rt.lFrame.currentDirectiveIndex}();try{ss(p);for(let w=d;w<h;w++){const E=s.data[w],S=a[w];Ms(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Uu(E,S)}}finally{ss(-1),Ms(y)}}function Uu(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Mi(s,a,l){a.componentOffset=l,(s.components||(s.components=[])).push(a.index)}function zs(s,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=s;ni(a)&&(l[""]=s)}}function N0(s,a,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=Js(h.type)),y=new va(p,ni(h),Oh);s.blueprint[d]=y,l[d]=y,function cO(s,a,l,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const w=~a.index;(function uO(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(y)!=w&&y.push(w),y.push(l,d,p)}}(s,a,d,$p(s,l,h.hostVars,Ut),h)}function Zo(s,a,l,d,h,p){const y=ii(s,a);!function g_(s,a,l,d,h,p,y){if(null==p)s.removeAttribute(a,h,l);else{const w=null==y?Ie(p):y(p,d||"",h);s.setAttribute(a,h,w,l)}}(a[11],y,p,s.value,l,d,h)}function xc(s,a,l,d,h,p){const y=p[a];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const S=y[E++],R=y[E++],F=y[E++];null!==w?d.setInput(l,F,S,R):l[R]=F}}}function AI(s,a,l){let d=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let w=0;w<y.length;w+=2)if(y[w]===a){d.push(p,y[w+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Va(s,a,l,d){return[s,!0,!1,a,null,0,d,l,null,null]}function SI(s,a){const l=Gn(a,s);if(no(l)){const d=l[1];48&l[2]?m_(d,l,d.template,l[8]):l[5]>0&&Hu(l)}}function Hu(s){for(let d=lr(s);null!==d;d=mi(d))for(let h=10;h<d.length;h++){const p=d[h];if(no(p))if(512&p[2]){const y=p[1];m_(y,p,y.template,p[8])}else p[5]>0&&Hu(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Gn(l[d],s);no(h)&&h[5]>0&&Hu(h)}}function _i(s,a){const l=Gn(a,s),d=l[1];(function Ba(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(d,l),S0(d,l,l[8])}function Gp(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function qi(s){for(;s;){s[2]|=32;const a=et(s);if(ep(s)&&!a)return s;s=a}return null}function ju(s,a,l,d=!0){const h=a[10];h.begin&&h.begin();try{m_(s,a,s.template,l)}catch(y){throw d&&V0(a,y),y}finally{h.end&&h.end()}}function qp(s,a,l){Wl(0),a(s,l)}function F0(s){return s[7]||(s[7]=[])}function y_(s){return s.cleanup||(s.cleanup=[])}function L0(s,a,l){return(null===s||ni(s))&&(l=function jl(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[a.index])),l[11]}function V0(s,a){const l=s[9],d=l?l.get(Wo,null):null;d&&d.handleError(a)}function v_(s,a,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],E=a[y],S=s.data[y];null!==S.setInput?S.setInput(E,h,d,w):E[w]=h}}function Ua(s,a,l){const d=Ss(a,s);!function Na(s,a,l){s.setValue(a,l)}(s[11],d,l)}function Fh(s,a,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?p=w:1==p?h=me(h,w):2==p&&(d=me(d,w+": "+a[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function Wp(s,a,l,d,h=!1){for(;null!==l;){const p=a[l.index];if(null!==p&&d.push(In(p)),Ji(p))for(let w=10;w<p.length;w++){const E=p[w],S=E[1].firstChild;null!==S&&Wp(E[1],E,S,d)}const y=l.type;if(8&y)Wp(s,a,l.child,d);else if(32&y){const w=Se(l,a);let E;for(;E=w();)d.push(E)}else if(16&y){const w=zb(a,l);if(Array.isArray(w))d.push(...w);else{const E=et(a[16]);Wp(E[1],E,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class St{get rootNodes(){const a=this._lView,l=a[1];return Wp(l,a,l.firstChild,[])}constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ji(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(zg(a,d),Ta(l,d))}this._attachedToViewContainer=!1}wp(this._lView[1],this._lView)}onDestroy(a){DI(this._lView[1],this._lView,null,a)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ju(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Au(s,a){Mu(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=a}}class MI extends St{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;ju(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class B0 extends Cc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=en(a);return new Ic(l,this.ngModule)}}function Yp(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class kI{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){d=mt(d);const h=this.injector.get(a,v0,d);return h!==v0||l===v0?h:this.parentInjector.get(a,l,d)}}class Ic extends Pu{get inputs(){return Yp(this.componentDef.inputs)}get outputs(){return Yp(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function NR(s){return s.map(PR).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,d,h){let p=(h=h||this.ngModule)instanceof Dc?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new kI(a,p):a,w=y.get(Hp,null);if(null===w)throw new ge(407,!1);const E=y.get(Lu,null),S=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=d?function rO(s,a,l){return s.selectRootElement(a,l===gt.ShadowDom)}(S,d,this.componentDef.encapsulation):mc(S,R,function U0(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(R)),q=this.componentDef.onPush?288:272,ie=R0(0,null,null,1,0,null,null,null,null,null),ye=p_(null,ie,null,q,null,null,w,S,E,y,null);let Be,Ge;ll(ye);try{const Xe=this.componentDef;let Dt,Oe=null;Xe.findHostDirectiveDefs?(Dt=[],Oe=new Map,Xe.findHostDirectiveDefs(Xe,Dt,Oe),Dt.push(Xe)):Dt=[Xe];const Ot=function Lh(s,a){const l=s[1];return s[22]=a,Ph(l,22,2,"#host",null)}(ye,F),En=function PI(s,a,l,d,h,p,y,w){const E=h[1];!function Zp(s,a,l,d){for(const h of s)a.mergedAttrs=xr(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Fh(a,a.mergedAttrs,!0),null!==l&&Yb(d,l,a))}(d,s,a,y);const S=p.createRenderer(a,l),R=p_(h,wI(l),null,l.onPush?32:16,h[s.index],s,p,S,w||null,null,null);return E.firstCreatePass&&Mi(E,s,d.length-1),Gp(h,R),h[s.index]=R}(Ot,F,Xe,Dt,ye,w,S);Ge=sl(ie,22),F&&function fO(s,a,l,d){if(d)ro(s,l,["ng-version",at.full]);else{const{attrs:h,classes:p}=function FR(s){const a=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++d]):8===h&&l.push(p);else{if(!Yo(h))break;h=p}d++}return{attrs:a,classes:l}}(a.selectors[0]);h&&ro(s,l,h),p&&p.length>0&&Wb(s,l,p.join(" "))}}(S,Xe,F,d),void 0!==l&&function H0(s,a,l){const d=s.projection=[];for(let h=0;h<a.length;h++){const p=l[h];d.push(null!=p?Array.from(p):null)}}(Ge,this.ngContentSelectors,l),Be=function zu(s,a,l,d,h,p){const y=qn(),w=h[1],E=ii(y,h);II(w,h,y,l,null,d);for(let R=0;R<l.length;R++)On(Ar(h,w,y.directiveStart+R,y),h);P0(w,h,y),E&&On(E,h);const S=Ar(h,w,y.directiveStart+y.componentOffset,y);if(s[8]=h[8]=S,null!==p)for(const R of p)R(S,a);return T0(w,y,s),S}(En,Xe,Dt,Oe,ye,[$u]),S0(ie,ye,null)}finally{lp()}return new RI(this.componentType,Be,Nu(Ge,ye),ye,Ge)}}class RI extends Wx{constructor(a,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new MI(h),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const p=this._rootLView;v_(p[1],p,h,a,l),xI(p,this._tNode.index)}}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function $u(){const s=qn();ya(_e()[1],s)}function b_(s){let a=function j0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;a;){let h;if(ni(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ge(903,!1);h=a.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=w_(s.inputs),y.declaredInputs=w_(s.declaredInputs),y.outputs=w_(s.outputs);const w=h.hostBindings;w&&$0(s,w);const E=h.viewQuery,S=h.contentQueries;if(E&&z0(s,E),S&&pO(s,S),be(s.inputs,h.inputs),be(s.declaredInputs,h.declaredInputs),be(s.outputs,h.outputs),ni(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===b_&&(l=!1)}}a=Object.getPrototypeOf(a)}!function NI(s){let a=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=xr(h.hostAttrs,l=xr(l,h.hostAttrs))}}(d)}function w_(s){return s===Kt?{}:s===Et?[]:s}function z0(s,a){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{a(d,h),l(d,h)}:a}function pO(s,a){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{a(d,h,p),l(d,h,p)}:a}function $0(s,a){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{a(d,h),l(d,h)}:a}let D_=null;function Gu(){if(!D_){const s=Tt.Symbol;if(s&&s.iterator)D_=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(D_=d)}}}return D_}function E_(s){return!!C_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Gu()in s)}function C_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function cr(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function Qp(s,a,l,d){const h=_e();return cr(h,rs(),a)&&(Wt(),Zo(an(),h,s,a,l,d)),Qp}function Yu(s,a,l,d,h,p){const w=function Ac(s,a,l,d){const h=cr(s,a,l);return cr(s,a+1,d)||h}(s,function xi(){return Rt.lFrame.bindingIndex}(),l,h);return Ts(2),w?a+Ie(l)+d+Ie(h)+p:Ut}function $I(s,a,l,d,h,p,y,w){const E=_e(),S=Wt(),R=s+22,F=S.firstCreatePass?function zI(s,a,l,d,h,p,y,w,E){const S=a.consts,R=Ph(a,s,4,y||null,Er(S,w));O0(a,l,R,Er(S,E)),ya(a,R);const F=R.tViews=R0(2,R,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,R),F.queries=a.queries.embeddedTView(R)),R}(R,S,E,a,l,d,h,p,y):S.data[R];Cr(F,!1);const q=E[11].createComment("");yc(S,E,q,F),On(q,E),Gp(E,E[R]=Va(q,E,q,F)),Bl(F)&&M0(S,E,F),null!=y&&k0(E,F,w)}function GI(s){return function is(s,a){return s[a]}(function al(){return Rt.lFrame.contextLView}(),22+s)}function K0(s,a,l){const d=_e();return cr(d,rs(),a)&&js(Wt(),an(),d,s,a,d[11],l,!1),K0}function S_(s,a,l,d,h){const y=h?"class":"style";v_(s,l,a.inputs[y],y,d)}function Xu(s,a,l,d){const h=_e(),p=Wt(),y=22+s,w=h[11],E=h[y]=mc(w,a,function cp(){return Rt.lFrame.currentNamespace}()),S=p.firstCreatePass?function Xp(s,a,l,d,h,p,y){const w=a.consts,S=Ph(a,s,2,h,Er(w,p));return O0(a,l,S,Er(w,y)),null!==S.attrs&&Fh(S,S.attrs,!1),null!==S.mergedAttrs&&Fh(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(y,p,h,0,a,l,d):p.data[y];return Cr(S,!0),Yb(w,E,S),32!=(32&S.flags)&&yc(p,h,E,S),0===function ma(){return Rt.lFrame.elementDepthCount}()&&On(E,h),function qd(){Rt.lFrame.elementDepthCount++}(),Bl(S)&&(M0(p,h,S),T0(p,S,h)),null!==d&&k0(h,S),Xu}function Jp(){let s=qn();Ro()?su():(s=s.parent,Cr(s,!1));const a=s;!function ga(){Rt.lFrame.elementDepthCount--}();const l=Wt();return l.firstCreatePass&&(ya(l,s),ts(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function wa(s){return 0!=(8&s.flags)}(a)&&S_(l,a,_e(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ks(s){return 0!=(16&s.flags)}(a)&&S_(l,a,_e(),a.stylesWithoutHost,!1),Jp}function em(s,a,l,d){return Xu(s,a,l,d),Jp(),em}function J0(){return _e()}function T_(s){return!!s&&"function"==typeof s.then}function ew(s){return!!s&&"function"==typeof s.subscribe}const tw=ew;function fo(s,a,l,d){const h=_e(),p=Wt(),y=qn();return M_(p,h,h[11],y,s,a,d),fo}function nw(s,a){const l=qn(),d=_e(),h=Wt();return M_(h,d,L0(_a(h.data),l,d),l,s,a),nw}function M_(s,a,l,d,h,p,y){const w=Bl(d),S=s.firstCreatePass&&y_(s),R=a[8],F=F0(a);let q=!0;if(3&d.type||y){const Be=ii(d,a),Ge=y?y(Be):Be,Xe=F.length,Dt=y?Ot=>y(In(Ot[d.index])):d.index;let Oe=null;if(!y&&w&&(Oe=function zh(s,a,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=a[7],E=h[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,a,h,d.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=p,Oe.__ngLastListenerFn__=p,q=!1;else{p=WI(d,a,R,p,!1);const Ot=l.listen(Ge,h,p);F.push(p,Ot),S&&S.push(h,Dt,Xe,Xe+1)}}else p=WI(d,a,R,p,!1);const ie=d.outputs;let ye;if(q&&null!==ie&&(ye=ie[h])){const Be=ye.length;if(Be)for(let Ge=0;Ge<Be;Ge+=2){const En=a[ye[Ge]][ye[Ge+1]].subscribe(p),Fn=F.length;F.push(p,En),S&&S.push(h,d.index,Fn,-(Fn+1))}}}function qI(s,a,l,d){try{return!1!==l(d)}catch(h){return V0(s,h),!1}}function WI(s,a,l,d,h){return function p(y){if(y===Function)return d;qi(s.componentOffset>-1?Gn(s.index,a):a);let E=qI(a,0,d,y),S=p.__ngNextListenerFn__;for(;S;)E=qI(a,0,S,y)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function YI(s=1){return function Mg(s){return(Rt.lFrame.contextLView=function cu(s,a){for(;s>0;)a=a[15],s--;return a}(s,Rt.lFrame.contextLView))[8]}(s)}function wO(s,a){let l=null;const d=function MR(s){const a=s.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(s);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===d?nI(s,p,!0):OR(d,p))return h}else l=h}return l}function ZI(s){const a=_e()[16][6];if(!a.projection){const d=a.projection=Ns(s?s.length:1,null),h=d.slice();let p=a.child;for(;null!==p;){const y=s?wO(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function KI(s,a=0,l){const d=_e(),h=Wt(),p=Ph(h,22+s,16,null,l||null);null===p.projection&&(p.projection=a),su(),32!=(32&p.flags)&&function $b(s,a,l){Gb(a[11],0,a,l,Fb(s,l,a),Bb(l.parent||a[6],l,a))}(h,d,p)}function im(s,a){return s<<17|a<<2}function Ha(s){return s>>17&32767}function k_(s){return 2|s}function Ju(s){return(131068&s)>>2}function R_(s,a){return-131069&s|a<<2}function Ri(s){return 1|s}function ow(s,a,l,d,h){const p=s[l+1],y=null===a;let w=d?Ha(p):Ju(p),E=!1;for(;0!==w&&(!1===E||y);){const R=s[w+1];oA(s[w],a)&&(E=!0,s[w+1]=d?Ri(R):k_(R)),w=d?Ha(R):Ju(R)}E&&(s[l+1]=d?k_(p):Ri(p))}function oA(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Si(s,a)>=0}function Mc(s,a,l){return Xo(s,a,l,!1),Mc}function N_(s,a){return Xo(s,a,null,!0),N_}function Xo(s,a,l,d){const h=_e(),p=Wt(),y=Ts(2);p.firstUpdatePass&&function pA(s,a,l,d){const h=s.data;if(null===h[l+1]){const p=h[Hi()],y=function fA(s,a){return a>=s.expandoStartIndex}(s,l);(function yA(s,a){return 0!=(s.flags&(a?8:16))})(p,d)&&null===a&&!y&&(a=!1),a=function CO(s,a,l,d){const h=_a(s);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(l=sm(l=hw(null,s,a,l,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(l=hw(h,s,a,l,d),null===p){let E=function xO(s,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==Ju(d))return s[Ha(d)]}(s,a,d);void 0!==E&&Array.isArray(E)&&(E=hw(null,s,a,E[1],d),E=sm(E,a.attrs,d),function IO(s,a,l,d){s[Ha(l?a.classBindings:a.styleBindings)]=d}(s,a,d,E))}else p=function AO(s,a,l){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=sm(d,s[p].hostAttrs,l);return sm(d,a.attrs,l)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),l}(h,p,a,d),function O_(s,a,l,d,h,p){let y=p?a.classBindings:a.styleBindings,w=Ha(y),E=Ju(y);s[d]=l;let R,S=!1;if(Array.isArray(l)?(R=l[1],(null===R||Si(l,R)>0)&&(S=!0)):R=l,h)if(0!==E){const q=Ha(s[w+1]);s[d+1]=im(q,w),0!==q&&(s[q+1]=R_(s[q+1],d)),s[w+1]=function iA(s,a){return 131071&s|a<<17}(s[w+1],d)}else s[d+1]=im(w,0),0!==w&&(s[w+1]=R_(s[w+1],d)),w=d;else s[d+1]=im(E,0),0===w?w=d:s[E+1]=R_(s[E+1],d),E=d;S&&(s[d+1]=k_(s[d+1])),ow(s,R,d,!0),ow(s,R,d,!1),function sA(s,a,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&Si(p,a)>=0&&(l[d+1]=Ri(l[d+1]))}(a,R,s,d,p),y=im(w,E),p?a.classBindings=y:a.styleBindings=y}(h,p,a,l,y,d)}}(p,s,y,d),a!==Ut&&cr(h,y,a)&&function gA(s,a,l,d,h,p,y,w){if(!(3&a.type))return;const E=s.data,S=E[w+1],R=function rA(s){return 1==(1&s)}(S)?fw(E,a,l,h,Ju(S),y):void 0;om(R)||(om(p)||function sw(s){return 2==(2&s)}(S)&&(p=fw(E,null,l,h,w,y)),function qb(s,a,l,d,h){if(a)h?s.addClass(l,d):s.removeClass(l,d);else{let p=-1===d.indexOf("-")?void 0:Ls.DashCase;null==h?s.removeStyle(l,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ls.Important),s.setStyle(l,d,h,p))}}(d,y,Ss(Hi(),l),h,p))}(p,p.data[Hi()],h,h[11],s,h[y+1]=function _A(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=pe(Go(s)))),s}(a,l),d,y)}function hw(s,a,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=a[w],d=sm(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function sm(s,a,l){const d=l?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),$i(s,y,!!l||a[++p]))}return void 0===s?null:s}function fw(s,a,l,d,h,p){const y=null===a;let w;for(;h>0;){const E=s[h],S=Array.isArray(E),R=S?E[1]:E,F=null===R;let q=l[h+1];q===Ut&&(q=F?Et:void 0);let ie=F?fl(q,d):R===d?q:void 0;if(S&&!om(ie)&&(ie=fl(E,d)),om(ie)&&(w=ie,y))return w;const ye=s[h+1];h=y?Ha(ye):Ju(ye)}if(null!==a){let E=p?a.residualClasses:a.residualStyles;null!=E&&(w=fl(E,d))}return w}function om(s){return void 0!==s}function pw(s,a=""){const l=_e(),d=Wt(),h=s+22,p=d.firstCreatePass?Ph(d,h,1,a,null):d.data[h],y=l[h]=function pc(s,a){return s.createText(a)}(l[11],a);yc(d,l,y,p),Cr(p,!1)}function mw(s){return F_("",s,""),mw}function F_(s,a,l){const d=_e(),h=function Wu(s,a,l,d){return cr(s,rs(),l)?a+Ie(l)+d:Ut}(d,s,a,l);return h!==Ut&&Ua(d,Hi(),h),F_}function gw(s,a,l,d,h){const p=_e(),y=Yu(p,s,a,l,d,h);return y!==Ut&&Ua(p,Hi(),y),gw}function am(s,a,l){const d=_e();return cr(d,rs(),a)&&js(Wt(),an(),d,s,a,d[11],l,!0),am}function B_(s,a,l){const d=_e();if(cr(d,rs(),a)){const p=Wt(),y=an();js(p,y,d,s,a,L0(_a(p.data),y,d),l,!0)}return B_}const kc=void 0;var Gh=["en",[["a","p"],["AM","PM"],kc],[["AM","PM"],kc,kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kc,"{1} 'at' {0}",kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IA(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let td={};function lm(s){const a=function Mw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Tw(a);if(l)return l;const d=a.split("-")[0];if(l=Tw(d),l)return l;if("en"===d)return Gh;throw new ge(701,!1)}function za(s){return lm(s)[wt.PluralCase]}function Tw(s){return s in td||(td[s]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[s]),td[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Pc="en-US";let U_=Pc;function Qw(s,a,l,d,h){if(s=K(s),Array.isArray(s))for(let p=0;p<s.length;p++)Qw(s[p],a,l,d,h);else{const p=Wt(),y=_e();let w=wc(s)?s:K(s.provide),E=Ti(s);const S=qn(),R=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(wc(s)||!s.multi){const ie=new va(E,h,Oh),ye=El(w,a,h?R:R+q,F);-1===ye?(pu(Os(S,y),p,w),ry(p,s,a.length),a.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(ie),y.push(ie)):(l[ye]=ie,y[ye]=ie)}else{const ie=El(w,a,R+q,F),ye=El(w,a,R,R+q),Ge=ye>=0&&l[ye];if(h&&!Ge||!h&&!(ie>=0&&l[ie])){pu(Os(S,y),p,w);const Xe=function WO(s,a,l,d,h){const p=new va(s,l,Oh);return p.multi=[],p.index=a,p.componentProviders=0,ad(p,h,d&&!l),p}(h?Jw:Xw,l.length,h,d,E);!h&&Ge&&(l[ye].providerFactory=Xe),ry(p,s,a.length,0),a.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(Xe),y.push(Xe)}else ry(p,s,ie>-1?ie:ye,ad(l[h?ye:ie],E,!h&&d));!h&&d&&Ge&&l[ye].componentProviders++}}}function ry(s,a,l,d){const h=wc(a),p=function Gx(s){return!!s.useClass}(a);if(h||p){const E=(p?K(a.useClass):a).prototype.ngOnDestroy;if(E){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const R=S.indexOf(l);-1===R?S.push(l,[d,E]):S[R+1].push(d,E)}else S.push(l,E)}}}function ad(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function El(s,a,l,d){for(let h=l;h<d;h++)if(a[h]===s)return h;return-1}function Xw(s,a,l,d){return Nc(this.multi,[])}function Jw(s,a,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ar(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),Nc(h,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],Nc(h,p);return p}function Nc(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function eD(s,a=[]){return l=>{l.providersResolver=(d,h)=>function VA(s,a,l){const d=Wt();if(d.firstCreatePass){const h=ni(s);Qw(l,d.data,d.blueprint,h,!0),Qw(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class Fc{}class BA{}function YO(s,a){return new UA(s,a??null)}class UA extends Fc{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new B0(this);const d=Ci(a);this._bootstrapComponents=Hs(d.bootstrap),this._r3Injector=uI(a,l,[{provide:Fc,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],pe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class sy extends BA{constructor(a){super(),this.moduleType=a}create(a){return new UA(this.moduleType,a)}}class tD extends Fc{constructor(a,l,d){super(),this.componentFactoryResolver=new B0(this),this.instance=null;const h=new qx([...a,{provide:Fc,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],l||Sh(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function oy(s,a,l=null){return new tD(s,a,l).injector}let nD=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=d0(0,l.type),h=d.length>0?oy([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=yt({token:s,providedIn:"environment",factory:()=>new s(je(Dc))}),s})();function wm(s){s.getStandaloneInjector=a=>a.get(nD).getOrCreateStandaloneInjector(s)}function Cm(s){return a=>{setTimeout(s,void 0,a)}}const ea=class py extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let h=a,p=l||(()=>null),y=d;if(a&&"object"==typeof a){const E=a;h=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=Cm(p),h&&(h=Cm(h)),y&&(y=Cm(y)));const w=super.subscribe({next:h,error:p,complete:y});return a instanceof V.w0&&a.add(w),w}};function yD(){return this._results[Gu()]()}class my{get changes(){return this._changes||(this._changes=new ea)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Gu(),d=my.prototype;d[l]||(d[l]=yD)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const h=function Ai(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function rc(s,a,l){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=a[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ud=(()=>{class s{}return s.__NG_ELEMENT_ID__=nS,s})();const tS=ud,vD=class extends tS{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,h=p_(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),S0(d,h,a),new St(h)}};function nS(){return sf(qn(),_e())}function sf(s,a){return 4&s.type?new vD(a,s,Nu(s,a)):null}let gy=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZO,s})();function ZO(){return iS(qn(),_e())}const KO=gy,_y=class extends KO{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const a=xa(this._hostTNode,this._hostLView);if(Kl(a)){const l=oo(a,this._hostLView),d=Ea(a);return new Ps(l[1].data[d+8],l)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=yy(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=a.createEmbeddedView(l||{},p);return this.insert(y,h),y}createComponent(a,l,d,h,p){const y=a&&!function hl(s){return"function"==typeof s}(a);let w;if(y)w=l;else{const F=l||{};w=F.index,d=F.injector,h=F.projectableNodes,p=F.environmentInjector||F.ngModuleRef}const E=y?a:new Ic(en(a)),S=d||this.parentInjector;if(!p&&null==E.ngModule){const q=(y?S:this.parentInjector).get(Dc,null);q&&(p=q)}const R=E.create(S,h,void 0,p);return this.insert(R.hostView,w),R}insert(a,l){const d=a._lView,h=d[1];if(function $d(s){return Ji(s[3])}(d)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const F=d[3],q=new _y(F,F[6],F[3]);q.detach(q.indexOf(a))}}const p=this._adjustIndex(l),y=this._lContainer;!function Bs(s,a,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=a),d<p-10?(a[4]=l[h],sc(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const y=a[17];null!==y&&l!==y&&function ho(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=64}(h,d,y,p);const w=$g(p,y),E=d[11],S=_c(E,y[7]);return null!==S&&function uo(s,a,l,d,h,p){d[0]=h,d[6]=a,Mu(s,d,l,1,h,p)}(h,y[6],E,d,S,w),a.attachToViewContainerRef(),sc(bD(y),p,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=yy(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=zg(this._lContainer,l);d&&(Ta(bD(this._lContainer),l),wp(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=zg(this._lContainer,l);return d&&null!=Ta(bD(this._lContainer),l)?new St(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function yy(s){return s[8]}function bD(s){return s[8]||(s[8]=[])}function iS(s,a){let l;const d=a[s.index];if(Ji(d))l=d;else{let h;if(8&s.type)h=In(d);else{const p=a[11];h=p.createComment("");const y=ii(s,a);gc(p,_c(p,y),h,function xp(s,a){return s.nextSibling(a)}(p,y),!1)}a[s.index]=l=Va(d,a,h,s),Gp(a,l)}return new _y(l,s,a)}class xm{constructor(a){this.queryList=a,this.matches=null}clone(){return new xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class vy{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new vy(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==kD(a,l).matches&&this.queries[l].setDirty()}}class rS{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class wD{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new wD(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class DD{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new DD(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,l,ED(l,p)),this.matchTNodeWithReadOption(a,l,Ia(l,a,p,!1,!1))}else d===ud?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Ia(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Fu||h===gy||h===ud&&4&l.type)this.addMatch(l.index,-2);else{const p=Ia(l,a,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function ED(s,a){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function dd(s,a,l,d){return-1===l?function sS(s,a){return 11&s.type?Nu(s,a):4&s.type?sf(s,a):null}(a,s):-2===l?function oS(s,a,l){return l===Fu?Nu(a,s):l===ud?sf(a,s):l===gy?iS(a,s):void 0}(s,a,d):Ar(s,s[1],l,a)}function CD(s,a,l,d){const h=a[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let E=0;E<y.length;E+=2){const S=y[E];w.push(S<0?null:dd(a,p[S],y[E+1],l.metadata.read))}h.matches=w}return h.matches}function by(s,a,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=CD(s,a,h,l);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const S=p[w+1],R=a[-E];for(let F=10;F<R.length;F++){const q=R[F];q[17]===q[3]&&by(q[1],q,S,d)}if(null!==R[9]){const F=R[9];for(let q=0;q<F.length;q++){const ie=F[q];by(ie[1],ie,S,d)}}}}}return d}function xD(s){const a=_e(),l=Wt(),d=Qd();Wl(d+1);const h=kD(l,d);if(s.dirty&&function ol(s){return 4==(4&s[2])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?by(l,a,d,[]):CD(l,a,h,d);s.reset(p,bl),s.notifyOnChanges()}return!0}return!1}function ID(s,a,l){const d=Wt();d.firstCreatePass&&(MD(d,new rS(s,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),TD(d,_e(),a)}function AD(s,a,l,d){const h=Wt();if(h.firstCreatePass){const p=qn();MD(h,new rS(a,l,d),p.index),function lS(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}TD(h,_e(),l)}function SD(){return function aS(s,a){return s[19].queries[a].queryList}(_e(),Qd())}function TD(s,a,l){const d=new my(4==(4&l));DI(s,a,d,d.destroy),null===a[19]&&(a[19]=new vy),a[19].queries.push(new xm(d))}function MD(s,a,l){null===s.queries&&(s.queries=new wD),s.queries.track(new DD(a,l))}function kD(s,a){return s.queries.getByIndex(a)}function RD(s,a){return sf(s,a)}function df(...s){}const Sy=new $t("Application Initializer");let Am=(()=>{class s{constructor(l){this.appInits=l,this.resolve=df,this.reject=df,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(T_(p))l.push(p);else if(tw(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(je(Sy,8))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ZD=new $t("AppId",{providedIn:"root",factory:function KD(){return`${Ty()}${Ty()}${Ty()}`}});function Ty(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const QD=new $t("Platform Initializer"),XD=new $t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),My=new $t("appBootstrapListener"),hr=new $t("AnimationModuleType");let wS=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Sm=new $t("LocaleId",{providedIn:"root",factory:()=>Ke(Sm,ht.Optional|ht.SkipSelf)||function ta(){return typeof $localize<"u"&&$localize.locale||Pc}()}),DS=new $t("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CS{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let xS=(()=>{class s{compileModuleSync(l){return new sy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=Hs(Ci(l).declarations).reduce((y,w)=>{const E=en(w);return E&&y.push(new Ic(E)),y},[]);return new CS(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const TS=(()=>Promise.resolve(0))();function eE(s){typeof Zone>"u"?TS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class kr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ea(!1),this.onMicrotaskEmpty=new ea(!1),this.onStable=new ea(!1),this.onError=new ea(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function MS(){let s=Tt.requestAnimationFrame,a=Tt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function kS(s){const a=()=>{!function dP(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Tt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Oy(s),s.isCheckStableRunning=!0,Ry(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Oy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return hf(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),iE(s)}},onInvoke:(l,d,h,p,y,w,E)=>{try{return hf(s),l.invoke(h,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&a(),iE(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Oy(s),Ry(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kr.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(kr.isInAngularZone())throw new ge(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,nE,df,df);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const nE={};function Ry(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Oy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function hf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function iE(s){s._nesting--,Ry(s)}class RS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ea,this.onMicrotaskEmpty=new ea,this.onStable=new ea,this.onError=new ea}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,h){return a.apply(l,d)}}const rE=new $t(""),OS=new $t("");let Py,PS=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Py||(function NS(s){Py=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kr.assertNotInAngularZone(),eE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eE(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(je(kr),je(sE),je(OS))},s.\u0275prov=yt({token:s,factory:s.\u0275fac}),s})(),sE=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Py?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),na=null;const oE=new $t("AllowMultipleToken"),Ny=new $t("PlatformDestroyListeners");class FS{constructor(a,l){this.name=a,this.token=l}}function Fy(s,a,l=[]){const d=`Platform: ${a}`,h=new $t(d);return(p=[])=>{let y=Ly();if(!y||y.injector.get(oE,!1)){const w=[...l,...p,{provide:h,useValue:!0}];s?s(w):function Tm(s){if(na&&!na.get(oE,!1))throw new ge(400,!1);na=s;const a=s.get(VS);(function lE(s){const a=s.get(QD,null);a&&a.forEach(l=>l())})(s)}(function uE(s=[],a){return Bu.create({name:a,providers:[{provide:l_,useValue:"platform"},{provide:Ny,useValue:new Set([()=>na=null])},...s]})}(w,d))}return function LS(s){const a=Ly();if(!a)throw new ge(401,!1);return a}()}}function Ly(){return na?.get(VS)??null}let VS=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function US(s,a){let l;return l="noop"===s?new RS:("zone.js"===s?void 0:s)||new kr(a),l}(d?.ngZone,function BS(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:kr,useValue:h}];return h.run(()=>{const y=Bu.create({providers:p,parent:this.injector,name:l.moduleType.name}),w=l.create(y),E=w.injector.get(Wo,null);if(!E)throw new ge(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{E.handleError(R)}});w.onDestroy(()=>{Vy(this._modules,w),S.unsubscribe()})}),function HS(s,a,l){try{const d=l();return T_(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const S=w.injector.get(Am);return S.runInitializers(),S.donePromise.then(()=>(function H_(s){zt(s,"Expected localeId to be defined"),"string"==typeof s&&(U_=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Sm,Pc)||Pc),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const h=Mm({},d);return function hP(s,a,l){const d=new sy(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(ff);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ge(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Ny,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(je(Bu))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Mm(s,a){return Array.isArray(a)?a.reduce(Mm,s):{...s,...a}}let ff=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new G.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new G.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{kr.assertNotInAngularZone(),eE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{kr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ce.T)(p,y.pipe((0,ae.B)()))}bootstrap(l,d){const h=l instanceof Pu;if(!this._injector.get(Am).done)throw!h&&Mn(l),new ge(405,false);let y;y=h?l:this._injector.get(Cc).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function fP(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Fc),S=y.create(Bu.NULL,[],d||y.selector,w),R=S.location.nativeElement,F=S.injector.get(rE,null);return F?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Vy(this.components,S),F?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Vy(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(My,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Vy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ge(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(je(kr),je(Dc),je(Wo))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Vy(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}function gP(){return!1}let zS=(()=>{class s{}return s.__NG_ELEMENT_ID__=$S,s})();function $S(s){return function hE(s,a,l){if(ua(s)&&!l){const d=Gn(s.index,a);return new St(d,d)}return 47&s.type?new St(a[16],a):null}(qn(),_e(),16==(16&s))}class WS{constructor(){}supports(a){return E_(a)}create(a){return new mE(a)}}const bP=(s,a)=>a;class mE{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||bP}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<gE(d,h,p)?l:d,w=gE(y,h,p),E=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const S=w-h,R=E-h;if(S!=R){for(let q=0;q<S;q++){const ie=q<p.length?p[q]:p[q]=0,ye=ie+q;R<=ye&&ye<S&&(p[q]=ie+1)}p[y.previousIndex]=R-S}}w!==E&&a(y,w,E)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!E_(a))throw new ge(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function BI(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Gu()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,p,h)):a=this._addAfter(new YS(l,d),p,h),a}_verifyReinsertion(a,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new $y),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $y),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class YS{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZS{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class $y{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new ZS,this.map.set(l,d)),d.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gE(s,a,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+a+h}class Gy{constructor(){}supports(a){return a instanceof Map||C_(a)}create(){return new KS}}class KS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||C_(a)))throw new ge(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new _E(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class _E{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cl(){return new Nm([new WS])}let Nm=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Cl()),deps:[[s,new I,new Ma]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new ge(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:Cl}),s})();function XS(){return new yE([new Gy])}let yE=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||XS()),deps:[[s,new I,new Ma]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new ge(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:XS}),s})();const Fm=Fy(null,"core",[]);let EP=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(je(ff))},s.\u0275mod=Do({type:s}),s.\u0275inj=Ys({}),s})();function eT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(st,Ce,P)=>{P.d(Ce,{Z:()=>$e});var c=P(2090),V=P(4859),G=P(9681),ce=P(1877);class ae{constructor(ge,xe){this._delegate=ge,this.firebase=xe,(0,G._addComponent)(ge,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ge,xe=G._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(ge);return!Me.isInitialized()&&"EXPLICIT"===(null===(Ie=Me.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:xe})}_removeServiceInstance(ge,xe=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(xe)}_addComponent(ge){(0,G._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,G._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const tt=function pe(tt){const ge={},xe={__esModule:!0,initializeApp:function Ne(J,ue={}){const we=G.initializeApp(J,ue);if((0,c.r3)(ge,we.name))return ge[we.name];const Y=new tt(we,xe);return ge[we.name]=Y,Y},app:Me,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ae(J){const ue=J.name,we=ue.replace("-compat","");if(G._registerComponent(J)&&"PUBLIC"===J.type){const Y=(X=Me())=>{if("function"!=typeof X[we])throw be.create("invalid-app-argument",{appName:ue});return X[we]()};void 0!==J.serviceProps&&(0,c.ZB)(Y,J.serviceProps),xe[we]=Y,tt.prototype[we]=function(...X){return this._getService.bind(this,ue).apply(this,J.multipleInstances?X:[])}}return"PUBLIC"===J.type?xe[we]:null},removeApp:function Ie(J){delete ge[J]},useAsService:function He(J,ue){return"serverAuth"===ue?null:ue},modularAPIs:G}};function Me(J){if(!(0,c.r3)(ge,J=J||G._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:J});return ge[J]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function ke(){return Object.keys(ge).map(J=>ge[J])}}),Me.App=tt,xe}(ae);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ge(xe){(0,c.ZB)(tt,xe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),tt}(),$=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=j;!function Te(tt){(0,G.registerVersion)("@firebase/app-compat","0.2.4",tt)}()},9681:(st,Ce,P)=>{P.r(Ce),P.d(Ce,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>aa,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>li,_apps:()=>zt,_clearComponents:()=>Ys,_components:()=>bt,_getProvider:()=>yt,_registerComponent:()=>Xt,_removeServiceInstance:()=>Vr,deleteApp:()=>Br,getApp:()=>ci,getApps:()=>Qr,initializeApp:()=>bo,onLog:()=>ht,registerVersion:()=>Di,setLogLevel:()=>Ur});var c=P(5861),V=P(4859),G=P(1877),ce=P(2090),ae=P(8766);class ee{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function be(je){return"VERSION"===je.getComponent()?.type}(Ke)){const mt=Ke.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(Ke=>Ke).join(" ")}}const pe="@firebase/app",j=new G.Yd("@firebase/app"),pn="[DEFAULT]",It={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,bt=new Map;function Zt(je,Ee){try{je.container.addComponent(Ee)}catch(Ke){j.debug(`Component ${Ee.name} failed to register with FirebaseApp ${je.name}`,Ke)}}function li(je,Ee){je.container.addOrOverwriteComponent(Ee)}function Xt(je){const Ee=je.name;if(bt.has(Ee))return j.debug(`There were multiple attempts to register component ${Ee}.`),!1;bt.set(Ee,je);for(const Ke of zt.values())Zt(Ke,je);return!0}function yt(je,Ee){const Ke=je.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),je.container.getProvider(Ee)}function Vr(je,Ee,Ke=pn){yt(je,Ee).clearInstance(Ke)}function Ys(){bt.clear()}const Tn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xs{constructor(Ee,Ke,mt){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const aa="9.17.2";function bo(je,Ee={}){let Ke=je;"object"!=typeof Ee&&(Ee={name:Ee});const mt=Object.assign({name:pn,automaticDataCollectionEnabled:!1},Ee),kt=mt.name;if("string"!=typeof kt||!kt)throw Tn.create("bad-app-name",{appName:String(kt)});if(Ke||(Ke=(0,ce.aH)()),!Ke)throw Tn.create("no-options");const Yt=zt.get(kt);if(Yt){if((0,ce.vZ)(Ke,Yt.options)&&(0,ce.vZ)(mt,Yt.config))return Yt;throw Tn.create("duplicate-app",{appName:kt})}const jn=new V.H0(kt);for(const B of bt.values())jn.addComponent(B);const z=new xs(Ke,mt,jn);return zt.set(kt,z),z}function ci(je=pn){const Ee=zt.get(je);if(!Ee&&je===pn)return bo();if(!Ee)throw Tn.create("no-app",{appName:je});return Ee}function Qr(){return Array.from(zt.values())}function Br(je){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(je){const Ee=je.name;zt.has(Ee)&&(zt.delete(Ee),yield Promise.all(je.container.getProviders().map(Ke=>Ke.delete())),je.isDeleted=!0)})).apply(this,arguments)}function Di(je,Ee,Ke){var mt;let kt=null!==(mt=It[je])&&void 0!==mt?mt:je;Ke&&(kt+=`-${Ke}`);const Yt=kt.match(/\s|\//),jn=Ee.match(/\s|\//);if(Yt||jn){const z=[`Unable to register library "${kt}" with version "${Ee}":`];return Yt&&z.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),Yt&&jn&&z.push("and"),jn&&z.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void j.warn(z.join(" "))}Xt(new V.wA(`${kt}-version`,()=>({library:kt,version:Ee}),"VERSION"))}function ht(je,Ee){if(null!==je&&"function"!=typeof je)throw Tn.create("invalid-log-argument");(0,G.Am)(je,Ee)}function Ur(je){(0,G.Ub)(je)}const ui="firebase-heartbeat-store";let Xr=null;function Tt(){return Xr||(Xr=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(je,Ee)=>{0===Ee&&je.createObjectStore(ui)}}).catch(je=>{throw Tn.create("idb-open",{originalErrorMessage:je.message})})),Xr}function Mt(){return(Mt=(0,c.Z)(function*(je){try{return(yield Tt()).transaction(ui).objectStore(ui).get(Xn(je))}catch(Ee){if(Ee instanceof ce.ZR)j.warn(Ee.message);else{const Ke=Tn.create("idb-get",{originalErrorMessage:Ee?.message});j.warn(Ke.message)}}})).apply(this,arguments)}function Ei(je,Ee){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(je,Ee){try{const mt=(yield Tt()).transaction(ui,"readwrite");return yield mt.objectStore(ui).put(Ee,Xn(je)),mt.done}catch(Ke){if(Ke instanceof ce.ZR)j.warn(Ke.message);else{const mt=Tn.create("idb-set",{originalErrorMessage:Ke?.message});j.warn(mt.message)}}})).apply(this,arguments)}function Xn(je){return`${je.name}!${je.options.appId}`}class Is{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new qt(Ke),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var Ee=this;return(0,c.Z)(function*(){const mt=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=fn();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==kt&&!Ee._heartbeatsCache.heartbeats.some(Yt=>Yt.date===kt))return Ee._heartbeatsCache.heartbeats.push({date:kt,agent:mt}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(Yt=>{const jn=new Date(Yt.date).valueOf();return Date.now()-jn<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,c.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const Ke=fn(),{heartbeatsToSend:mt,unsentEntries:kt}=function Zs(je,Ee=1024){const Ke=[];let mt=je.slice();for(const kt of je){const Yt=Ke.find(jn=>jn.agent===kt.agent);if(Yt){if(Yt.dates.push(kt.date),nr(Ke)>Ee){Yt.dates.pop();break}}else if(Ke.push({agent:kt.agent,dates:[kt.date]}),nr(Ke)>Ee){Ke.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:mt}}(Ee._heartbeatsCache.heartbeats),Yt=(0,ce.L)(JSON.stringify({version:2,heartbeats:mt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=Ke,kt.length>0?(Ee._heartbeatsCache.heartbeats=kt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),Yt})()}}function fn(){return(new Date).toISOString().substring(0,10)}class qt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,c.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function ct(je){return Mt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var Ke=this;return(0,c.Z)(function*(){var mt;if(yield Ke._canUseIndexedDBPromise){const Yt=yield Ke.read();return Ei(Ke.app,{lastSentHeartbeatDate:null!==(mt=Ee.lastSentHeartbeatDate)&&void 0!==mt?mt:Yt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var Ke=this;return(0,c.Z)(function*(){var mt;if(yield Ke._canUseIndexedDBPromise){const Yt=yield Ke.read();return Ei(Ke.app,{lastSentHeartbeatDate:null!==(mt=Ee.lastSentHeartbeatDate)&&void 0!==mt?mt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...Ee.heartbeats]})}})()}}function nr(je){return(0,ce.L)(JSON.stringify({version:2,heartbeats:je})).length}!function Hr(je){Xt(new V.wA("platform-logger",Ee=>new ee(Ee),"PRIVATE")),Xt(new V.wA("heartbeat",Ee=>new Is(Ee),"PRIVATE")),Di(pe,"0.9.4",je),Di(pe,"0.9.4","esm2017"),Di("fire-js","")}("")},4859:(st,Ce,P)=>{P.d(Ce,{H0:()=>pe,wA:()=>G});var c=P(5861),V=P(2090);class G{constructor(j,$,K){this.name=j,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ce="[DEFAULT]";class ae{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const K=new V.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&K.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const K=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Te){if(Ue)return null;throw Te}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function be(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const Te=this.getOrInitializeService({instanceIdentifier:Ue});K.resolve(Te)}catch{}}}}clearInstance(j=ce){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ce){return this.instances.has(j)}getOptions(j=ce){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,K=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[Te,$e]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Te)&&$e.resolve(Ue);return Ue}onInit(j,$){var K;const Ue=this.normalizeInstanceIdentifier($),Te=null!==(K=this.onInitCallbacks.get(Ue))&&void 0!==K?K:new Set;Te.add(j),this.onInitCallbacks.set(Ue,Te);const $e=this.instances.get(Ue);return $e&&j($e,Ue),()=>{Te.delete(j)}}invokeOnInitCallbacks(j,$){const K=this.onInitCallbacks.get($);if(K)for(const Ue of K)try{Ue(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let K=this.instances.get(j);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===ce?void 0:me),options:$}),this.instances.set(j,K),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(K,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,K)}catch{}var me;return K||null}normalizeInstanceIdentifier(j=ce){return this.component?this.component.multipleInstances?j:ce:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ae(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,P)=>{P.d(Ce,{Am:()=>me,Ub:()=>pe,Yd:()=>be,in:()=>V});const c=[];var V=(()=>{return(j=V||(V={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",V;var j})();const G={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ce=V.INFO,ae={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ee=(j,$,...K)=>{if($<j.logLevel)return;const Ue=(new Date).toISOString(),Te=ae[$];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Te](`[${Ue}]  ${j.name}:`,...K)};class be{constructor($){this.name=$,this._logLevel=ce,this._logHandler=ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in V))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?G[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...$),this._logHandler(this,V.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...$),this._logHandler(this,V.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,V.INFO,...$),this._logHandler(this,V.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,V.WARN,...$),this._logHandler(this,V.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...$),this._logHandler(this,V.ERROR,...$)}}function pe(j){c.forEach($=>{$.setLogLevel(j)})}function me(j,$){for(const K of c){let Ue=null;$&&$.level&&(Ue=G[$.level]),K.userLogHandler=null===j?null:(Te,$e,...tt)=>{const ge=tt.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");$e>=(Ue??Te.logLevel)&&j({level:V[$e].toLowerCase(),message:ge,args:tt,type:Te.name})}}}},259:(st,Ce,P)=>{P.d(Ce,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp});var c=P(9681);(0,c.registerVersion)("firebase","9.17.2","app")},9260:(st,Ce,P)=>{P.d(Ce,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.17.2","app-compat")},8766:(st,Ce,P)=>{P.d(Ce,{Lj:()=>Ne,X3:()=>Me});var c=P(5861);let G,ce;const be=new WeakMap,pe=new WeakMap,me=new WeakMap,j=new WeakMap,$=new WeakMap;let Te={get(ue,we,Y){if(ue instanceof IDBTransaction){if("done"===we)return pe.get(ue);if("objectStoreNames"===we)return ue.objectStoreNames||me.get(ue);if("store"===we)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return xe(ue[we])},set:(ue,we,Y)=>(ue[we]=Y,!0),has:(ue,we)=>ue instanceof IDBTransaction&&("done"===we||"store"===we)||we in ue};function ge(ue){return"function"==typeof ue?function tt(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...we){return ue.apply(Ie(this),we),xe(be.get(this))}:function(...we){return xe(ue.apply(Ie(this),we))}:function(we,...Y){const X=ue.call(Ie(this),we,...Y);return me.set(X,we.sort?we.sort():[we]),xe(X)}}(ue):(ue instanceof IDBTransaction&&function Ue(ue){if(pe.has(ue))return;const we=new Promise((Y,X)=>{const de=()=>{ue.removeEventListener("complete",se),ue.removeEventListener("error",Fe),ue.removeEventListener("abort",Fe)},se=()=>{Y(),de()},Fe=()=>{X(ue.error||new DOMException("AbortError","AbortError")),de()};ue.addEventListener("complete",se),ue.addEventListener("error",Fe),ue.addEventListener("abort",Fe)});pe.set(ue,we)}(ue),((ue,we)=>we.some(Y=>ue instanceof Y))(ue,function ae(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Te):ue)}function xe(ue){if(ue instanceof IDBRequest)return function K(ue){const we=new Promise((Y,X)=>{const de=()=>{ue.removeEventListener("success",se),ue.removeEventListener("error",Fe)},se=()=>{Y(xe(ue.result)),de()},Fe=()=>{X(ue.error),de()};ue.addEventListener("success",se),ue.addEventListener("error",Fe)});return we.then(Y=>{Y instanceof IDBCursor&&be.set(Y,ue)}).catch(()=>{}),$.set(we,ue),we}(ue);if(j.has(ue))return j.get(ue);const we=ge(ue);return we!==ue&&(j.set(ue,we),$.set(we,ue)),we}const Ie=ue=>$.get(ue);function Me(ue,we,{blocked:Y,upgrade:X,blocking:de,terminated:se}={}){const Fe=indexedDB.open(ue,we),Ve=xe(Fe);return X&&Fe.addEventListener("upgradeneeded",dt=>{X(xe(Fe.result),dt.oldVersion,dt.newVersion,xe(Fe.transaction))}),Y&&Fe.addEventListener("blocked",()=>Y()),Ve.then(dt=>{se&&dt.addEventListener("close",()=>se()),de&&dt.addEventListener("versionchange",()=>de())}).catch(()=>{}),Ve}function Ne(ue,{blocked:we}={}){const Y=indexedDB.deleteDatabase(ue);return we&&Y.addEventListener("blocked",()=>we()),xe(Y).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],He=new Map;function J(ue,we){if(!(ue instanceof IDBDatabase)||we in ue||"string"!=typeof we)return;if(He.get(we))return He.get(we);const Y=we.replace(/FromIndex$/,""),X=we!==Y,de=Ae.includes(Y);if(!(Y in(X?IDBIndex:IDBObjectStore).prototype)||!de&&!ke.includes(Y))return;const se=function(){var Fe=(0,c.Z)(function*(Ve,...dt){const nn=this.transaction(Ve,de?"readwrite":"readonly");let pn=nn.store;return X&&(pn=pn.index(dt.shift())),(yield Promise.all([pn[Y](...dt),de&&nn.done]))[0]});return function(dt){return Fe.apply(this,arguments)}}();return He.set(we,se),se}!function $e(ue){Te=ue(Te)}(ue=>({...ue,get:(we,Y,X)=>J(we,Y)||ue.get(we,Y,X),has:(we,Y)=>!!J(we,Y)||ue.has(we,Y)}))},5861:(st,Ce,P)=>{function c(G,ce,ae,ee,be,pe,me){try{var j=G[pe](me),$=j.value}catch(K){return void ae(K)}j.done?ce($):Promise.resolve($).then(ee,be)}function V(G){return function(){var ce=this,ae=arguments;return new Promise(function(ee,be){var pe=G.apply(ce,ae);function me($){c(pe,ee,be,me,j,"next",$)}function j($){c(pe,ee,be,me,j,"throw",$)}me(void 0)})}}P.d(Ce,{Z:()=>V})}},st=>{st(st.s=9282)}]);